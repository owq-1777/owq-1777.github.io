<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>scrcpy ä¼˜é›…çš„å®‰å“æŠ•å±å·¥å…·</title>
    <url>/72a0046c/</url>
    <content><![CDATA[<style type="text/css">.post img {border-radius: 0;}</style>

<blockquote>
<p>é¡¹ç›®åœ°å€ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0dlbnltb2JpbGUvc2NyY3B5">ğŸšª</span><br>å®˜æ–¹æ–‡æ¡£ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0dlbnltb2JpbGUvc2NyY3B5L2Jsb2IvbWFzdGVyL1JFQURNRS56aC1IYW5zLm1k">ğŸšª</span></p>
</blockquote>
<h2 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h2><ul>
<li><p>ä¸‹è½½åŒ…<br>ç‰ˆæœ¬é¡µé¢ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0dlbnltb2JpbGUvc2NyY3B5L3RhZ3M=">https://github.com/Genymobile/scrcpy/tags</span></p>
</li>
<li><p>è§£å‹(ä½ç½®éšæ„)</p>
<p>è¿™é‡Œè§£å‹åˆ°<code>C:\Tools\scrcpy</code><br>å› ä¸ºåŒ…è‡ªå¸¦<code>adb</code>å·¥å…·, è¿™é‡Œå¯ä»¥ä¸ç”¨é¢å¤–é…ç½®<code>adb</code>, å·²é…ç½®å¥½çš„å¯ä»¥å¿½ç•¥</p>
<img data-src="http://img.owq.world/2021/11/2124-7e8658.png" style="zoom:50%;" /></li>
<li><p>è®¾ç½®ç¯å¢ƒå˜é‡</p>
<p>ç³»ç»Ÿå±æ€§ - ç¯å¢ƒå˜é‡ - æ–°å¢Pathå˜é‡ -æ·»åŠ è§£å‹ç›®å½•<br><img data-src="http://img.owq.world/2021/11/2127-fb6625.png"></p>
</li>
<li><p>éªŒè¯æµ‹è¯•</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># adb ç‰ˆæœ¬</span></span><br><span class="line">adb version</span><br><span class="line"></span><br><span class="line"><span class="comment"># scrcpy ç‰ˆæœ¬</span></span><br><span class="line">scrcpy <span class="literal">-v</span></span><br></pre></td></tr></table></figure>

<img data-src="http://img.owq.world/2021/11/2124-6ca332.png" alt="" style="zoom:67%;" />

<p>æˆåŠŸè¾“å‡ºç‰ˆæœ¬ä¿¡æ¯åˆ™é…ç½®å®Œæˆ~</p>
</li>
</ul>
<h2 id="å¼€å§‹ä½¿ç”¨"><a href="#å¼€å§‹ä½¿ç”¨" class="headerlink" title="å¼€å§‹ä½¿ç”¨"></a>å¼€å§‹ä½¿ç”¨</h2><h3 id="åˆå§‹é…ç½®"><a href="#åˆå§‹é…ç½®" class="headerlink" title="åˆå§‹é…ç½®"></a>åˆå§‹é…ç½®</h3><ul>
<li><p>ç¬¬ä¸€æ¬¡ä½¿ç”¨, å…ˆè¿›è¡Œä»¥ä¸‹é…ç½®, ç„¶åç”¨<strong>æ•°æ®çº¿</strong>è¿æ¥PC</p>
<ul>
<li>è¿›å…¥å¼€å‘è€…é€‰é¡¹ æ‰“å¼€<strong>USBè°ƒè¯•</strong></li>
<li>è¿›å…¥WiFiè®¾ç½® é…ç½®<strong>é™æ€IP</strong></li>
</ul>
</li>
<li><p>ç»ˆç«¯è¾“å…¥<code>scrcpy</code>ç›´æ¥è¿›è¡Œæœ‰çº¿è¿æ¥æ§åˆ¶(å¯é€‰)</p>
</li>
<li><p>å¼€æ”¾æ‰‹æœº<code>TCP</code>æœåŠ¡ç«¯å£, ç”¨æ¥è¿›è¡Œæ— çº¿è¿æ¥(å…³é”®)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adb tcpip 5555 <span class="comment"># è¿™é‡Œè®¾ç½®ç«¯å£ä¸º5555</span></span><br></pre></td></tr></table></figure></li>
<li><p>å¤šå°è®¾å¤‡è¿æ¥<br>  å¦‚æœ<code>adb</code>å·²ç»è¿æ¥å¤šå°è®¾å¤‡çš„è¯, è¿è¡Œä»¥ä¸Šå‘½ä»¤ä¼šæŠ¥<code>error: more than one device/emulator</code>é”™è¯¯, è¿™æ—¶ä½ éœ€è¦æŒ‡å®šä¸‹<code>device</code></p>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹è¿æ¥çš„è®¾å¤‡</span></span><br><span class="line">adb devices</span><br><span class="line"></span><br><span class="line"><span class="comment"># -s æŒ‡å®šdeviceså¼€æ”¾ç«¯å£</span></span><br><span class="line">adb -s [devices] tcpip 5555</span><br></pre></td></tr></table></figure>

<p>  <strong>Tips:</strong> åªè¿æ¥ä¸€ä¸ªè®¾å¤‡æ—¶å¯ä»¥ä¸ç”¨æŒ‡å®š<code>device</code></p>
</li>
</ul>
<p><em>PS: æ‰‹æœºé‡å¯åè®¾ç½®ä¼šä¸¢å¤±, éœ€è¦é‡æ–°è¿æ¥ç”µè„‘é…ç½®</em> åˆ°è¿™é‡Œå°±å¯ä»¥æ–­å¼€æ•°æ®çº¿äº†ğŸ˜</p>
<h3 id="æ— çº¿è¿æ¥"><a href="#æ— çº¿è¿æ¥" class="headerlink" title="æ— çº¿è¿æ¥"></a>æ— çº¿è¿æ¥</h3><p>ä½¿ç”¨ä½ è®¾ç½®å¥½çš„é™æ€IPè¿æ¥</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># scrcpy -s [ip]:[port]</span></span><br><span class="line">scrcpy -s 192.168.0.90:5555</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ ä¸Š --turn-screen-off è®¾ç½®è®¾å¤‡é»‘å±</span></span><br><span class="line"><span class="comment"># å¯åŠ¨åä½¿ç”¨å¿«æ·é”® Alt + o æ›´åŠ æ–¹ä¾¿å“¦</span></span><br><span class="line">scrcpy --turn-screen-off</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å¼€å§‹æ„‰å¿«çš„æŠ•å±ä¹‹æ—…å§ğŸ¥³</p>
<h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><table>
<thead>
<tr>
<th align="left">æ“ä½œ</th>
<th align="left">å¿«æ·é”®</th>
</tr>
</thead>
<tbody><tr>
<td align="left">å…¨å±</td>
<td align="left">Alt + f</td>
</tr>
<tr>
<td align="left">å‘å·¦æ—‹è½¬å±å¹•</td>
<td align="left">Alt + â† (å·¦ç®­å¤´)</td>
</tr>
<tr>
<td align="left">å‘å³æ—‹è½¬å±å¹•</td>
<td align="left">Alt + â†’ <em>(<em>å³ç®­å¤´</em>)</em></td>
</tr>
<tr>
<td align="left">å°†çª—å£å¤§å°é‡ç½®ä¸º1:1 (åŒ¹é…åƒç´ )</td>
<td align="left">Alt + g</td>
</tr>
<tr>
<td align="left">å°†çª—å£å¤§å°é‡ç½®ä¸ºæ¶ˆé™¤é»‘è¾¹</td>
<td align="left">Alt + w | åŒå‡»</td>
</tr>
<tr>
<td align="left">ç‚¹æŒ‰ <code>ä¸»å±å¹•</code></td>
<td align="left">Alt + h | é¼ æ ‡ä¸­é”®</td>
</tr>
<tr>
<td align="left">ç‚¹æŒ‰ <code>è¿”å›</code></td>
<td align="left">Alt + b | é¼ æ ‡å³é”®</td>
</tr>
<tr>
<td align="left">ç‚¹æŒ‰ <code>åˆ‡æ¢åº”ç”¨</code></td>
<td align="left">Alt + s</td>
</tr>
<tr>
<td align="left">ç‚¹æŒ‰ <code>èœå•</code> (è§£é”å±å¹•)</td>
<td align="left">Alt + m</td>
</tr>
<tr>
<td align="left">ç‚¹æŒ‰ <code>éŸ³é‡ + </code></td>
<td align="left">Alt + â†‘ (ä¸Šç®­å¤´)</td>
</tr>
<tr>
<td align="left">ç‚¹æŒ‰ <code>éŸ³é‡-</code></td>
<td align="left">Alt + â†“ (ä¸‹ç®­å¤´)</td>
</tr>
<tr>
<td align="left">ç‚¹æŒ‰ <code>ç”µæº</code></td>
<td align="left">Alt + p</td>
</tr>
<tr>
<td align="left">æ‰“å¼€å±å¹•</td>
<td align="left">é¼ æ ‡å³é”®</td>
</tr>
<tr>
<td align="left">å…³é—­è®¾å¤‡å±å¹• (ä½†ç»§ç»­åœ¨ç”µè„‘ä¸Šæ˜¾ç¤º)</td>
<td align="left">Alt + o</td>
</tr>
<tr>
<td align="left">æ‰“å¼€è®¾å¤‡å±å¹•</td>
<td align="left">Alt + Shift + o</td>
</tr>
<tr>
<td align="left">æ—‹è½¬è®¾å¤‡å±å¹•</td>
<td align="left">Alt + r</td>
</tr>
<tr>
<td align="left">å±•å¼€é€šçŸ¥é¢æ¿</td>
<td align="left">Alt + n</td>
</tr>
<tr>
<td align="left">æ”¶èµ·é€šçŸ¥é¢æ¿</td>
<td align="left">Alt + Shift + n</td>
</tr>
<tr>
<td align="left">å¤åˆ¶åˆ°å‰ªè´´æ¿</td>
<td align="left">Alt + c</td>
</tr>
<tr>
<td align="left">å‰ªåˆ‡åˆ°å‰ªè´´æ¿</td>
<td align="left">Alt + x</td>
</tr>
<tr>
<td align="left">åŒæ­¥å‰ªè´´æ¿å¹¶ç²˜è´´</td>
<td align="left">Alt + v</td>
</tr>
<tr>
<td align="left">æ³¨å…¥ç”µè„‘å‰ªè´´æ¿æ–‡æœ¬</td>
<td align="left">Alt + Shift + v</td>
</tr>
<tr>
<td align="left">æ‰“å¼€/å…³é—­FPSæ˜¾ç¤º (åœ¨ stdout)</td>
<td align="left">Alt + i</td>
</tr>
<tr>
<td align="left">ææ‹‰ç¼©æ”¾</td>
<td align="left">Ctrl + æŒ‰ä½å¹¶ç§»åŠ¨é¼ æ ‡</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>å¥½è½¯å·¥å…·</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>adb</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’ æ‰“å®¶åŠ«èˆ</title>
    <url>/bd9e5b39/</url>
    <content><![CDATA[<h2 id="Question-â… ğŸ”"><a href="#Question-â… ğŸ”" class="headerlink" title="Question â… ğŸ”"></a>Question â… ğŸ”</h2><blockquote>
<p>ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ã€‚æ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ï¼Œ<br>å½±å“ä½ å·çªƒçš„å”¯ä¸€åˆ¶çº¦å› ç´ å°±æ˜¯ç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œ<strong>å¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦</strong>ã€‚<br>ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  <strong>ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹</strong> ï¼Œä¸€å¤œä¹‹å†…èƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</p>
</blockquote>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1,2,3,1]</span><br><span class="line">è¾“å‡ºï¼š4</span><br><span class="line">è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 1) ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 3)ã€‚</span><br><span class="line">Â     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚</span><br><span class="line">Â     </span><br><span class="line">è¾“å…¥ï¼š[2,7,9,3,1]</span><br><span class="line">è¾“å‡ºï¼š12</span><br><span class="line">è§£é‡Šï¼šå·çªƒ 1 å·æˆ¿å±‹ (é‡‘é¢ = 2), å·çªƒ 3 å·æˆ¿å±‹ (é‡‘é¢ = 9)ï¼Œæ¥ç€å·çªƒ 5 å·æˆ¿å±‹ (é‡‘é¢ = 1)ã€‚</span><br><span class="line">Â     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 2 + 9 + 1 = 12 ã€‚</span><br></pre></td></tr></table></figure>



<h2 id="Code-â… ğŸ’¡"><a href="#Code-â… ğŸ’¡" class="headerlink" title="Code â… ğŸ’¡"></a>Code â… ğŸ’¡</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">house_rob_i</span>(<span class="params">nums: <span class="built_in">list</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å½“æ— æˆ¿é—´æ—¶, ç›´æ¥è¿”å›0</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># åªæœ‰ä¸€ä¸ªæˆ¿é—´æ—¶, é‚£å°±åªèƒ½å·å®ƒçš„äº†</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®ä¸€ä¸ªåˆ—è¡¨, ä¸‹æ ‡ i å¯¹åº”ç€å‰ i ä¸ªæˆ¿é—´å¯ä»¥å·å–çš„æœ€å¤§é‡‘é¢</span></span><br><span class="line">    max_money = [<span class="number">0</span>, nums[<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä»ç¬¬2ä¸ªæˆ¿é—´å¼€å§‹è®¡ç®—, ä¼ å…¥ç¬¬1ä¸ªæˆ¿é—´åçš„åˆ—è¡¨</span></span><br><span class="line">    <span class="comment"># è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯, å– max_money å¯¹åº”å€¼æ—¶, i è¦è¿›è¡ŒåŠ ä¸€</span></span><br><span class="line">    <span class="keyword">for</span> i, v <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums[<span class="number">1</span>:]):</span><br><span class="line">        <span class="comment"># max_money[i+1] è¡¨ç¤ºä¸å·å–å½“å‰æˆ¿é—´çš„ç´¯è®¡é‡‘é¢</span></span><br><span class="line">        <span class="comment"># max_money[i] + v è¡¨ç¤ºå·å–å½“å‰æˆ¿é—´çš„ç´¯è®¡é‡‘é¢</span></span><br><span class="line">        <span class="comment"># å¯¹æ¯”2ç§æƒ…å†µ, å–æœ€å¤§å€¼è¿½åŠ åˆ° max_money ä¸­</span></span><br><span class="line">        max_money.append(<span class="built_in">max</span>(max_money[i+<span class="number">1</span>], max_money[i] + v))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è¿”å›æœ€åä¸€ä¸ªå€¼</span></span><br><span class="line">    <span class="keyword">return</span> max_money[-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åŸé¢˜åœ°å€ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvaG91c2Utcm9iYmVyLw==">https://leetcode-cn.com/problems/house-robber/</span></p>
</blockquote>
<h2 id="Test-â… ğŸ’ "><a href="#Test-â… ğŸ’ " class="headerlink" title="Test â… ğŸ’ "></a>Test â… ğŸ’ </h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;house_rob_i&#x27;</span>)</span><br><span class="line">nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(house_rob_i(nums))</span><br><span class="line">nums = [<span class="number">2</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(house_rob_i(nums))</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Question-â…¡ğŸ”"><a href="#Question-â…¡ğŸ”" class="headerlink" title="Question â…¡ğŸ”"></a>Question â…¡ğŸ”</h2><blockquote>
<p>ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å°å·ï¼Œè®¡åˆ’å·çªƒæ²¿è¡—çš„æˆ¿å±‹ï¼Œæ¯é—´æˆ¿å†…éƒ½è—æœ‰ä¸€å®šçš„ç°é‡‘ã€‚<br>è¿™ä¸ªåœ°æ–¹æ‰€æœ‰çš„æˆ¿å±‹éƒ½ <strong>å›´æˆä¸€åœˆ</strong> ï¼Œè¿™æ„å‘³ç€ç¬¬ä¸€ä¸ªæˆ¿å±‹å’Œæœ€åä¸€ä¸ªæˆ¿å±‹æ˜¯ç´§æŒ¨ç€çš„ã€‚<br>åŒæ—¶ï¼Œç›¸é‚»çš„æˆ¿å±‹è£…æœ‰ç›¸äº’è¿é€šçš„é˜²ç›—ç³»ç»Ÿï¼Œå¦‚æœä¸¤é—´ç›¸é‚»çš„æˆ¿å±‹åœ¨åŒä¸€æ™šä¸Šè¢«å°å·é—¯å…¥ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠ¥è­¦ ã€‚<br>ç»™å®šä¸€ä¸ªä»£è¡¨æ¯ä¸ªæˆ¿å±‹å­˜æ”¾é‡‘é¢çš„éè´Ÿæ•´æ•°æ•°ç»„ï¼Œè®¡ç®—ä½  åœ¨ä¸è§¦åŠ¨è­¦æŠ¥è£…ç½®çš„æƒ…å†µä¸‹ ï¼Œä»Šæ™šèƒ½å¤Ÿå·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ã€‚</p>
</blockquote>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [2,3,2]</span><br><span class="line">è¾“å‡ºï¼š3</span><br><span class="line">è§£é‡Šï¼šä½ ä¸èƒ½å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 2ï¼‰, å› ä¸ºä»–ä»¬æ˜¯ç›¸é‚»çš„ã€‚</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šnums = [1,2,3,1]</span><br><span class="line">è¾“å‡ºï¼š4</span><br><span class="line">è§£é‡Šï¼šä½ å¯ä»¥å…ˆå·çªƒ 1 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 1ï¼‰ï¼Œç„¶åå·çªƒ 3 å·æˆ¿å±‹ï¼ˆé‡‘é¢ = 3ï¼‰ã€‚</span><br><span class="line">Â     å·çªƒåˆ°çš„æœ€é«˜é‡‘é¢ = 1 + 3 = 4 ã€‚</span><br></pre></td></tr></table></figure>

<h2 id="Code-â…¡ğŸ’¡"><a href="#Code-â…¡ğŸ’¡" class="headerlink" title="Code â…¡ğŸ’¡"></a>Code â…¡ğŸ’¡</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">house_rob_ii</span>(<span class="params">nums: <span class="built_in">list</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">    <span class="comment"># è¿™é‡Œåªéœ€è¦åœ¨ç¬¬ä¸€é¢˜çš„åŸºç¡€ä¸Šè€ƒè™‘ä¸¤ç§æƒ…å†µ</span></span><br><span class="line">    <span class="comment"># ç¬¬ä¸€ç§: åŒ…å«é¦–å…ƒç´ , ä¸åŒ…å«å°¾å…ƒç´ </span></span><br><span class="line">    <span class="comment"># ç¬¬äºŒç§: ä¸åŒ…å«é¦–å…ƒç´ , åŒ…å«å°¾å…ƒç´ </span></span><br><span class="line">    <span class="comment"># ç»¼ä¸Š, ä¸€è¡Œä»£ç æå®š~</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(rob_money_i(nums[<span class="number">1</span>:]), rob_money_i(nums[:-<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åŸé¢˜åœ°å€ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvaG91c2Utcm9iYmVyLWlpLw==">https://leetcode-cn.com/problems/house-robber-ii/</span></p>
</blockquote>
<h2 id="Test-â…¡ğŸ’ "><a href="#Test-â…¡ğŸ’ " class="headerlink" title="Test â…¡ğŸ’ "></a>Test â…¡ğŸ’ </h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;house_rob_ii&#x27;</span>)</span><br><span class="line">nums = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(house_rob_ii(nums))</span><br><span class="line">nums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(house_rob_ii(nums))</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Question-â…¢ğŸ”"><a href="#Question-â…¢ğŸ”" class="headerlink" title="Question â…¢ğŸ”"></a>Question â…¢ğŸ”</h2><blockquote>
<p>åœ¨ä¸Šæ¬¡æ‰“åŠ«å®Œä¸€æ¡è¡—é“ä¹‹åå’Œä¸€åœˆæˆ¿å±‹åï¼Œå°å·åˆå‘ç°äº†ä¸€ä¸ªæ–°çš„å¯è¡Œçªƒçš„åœ°åŒºã€‚<br>è¿™ä¸ªåœ°åŒºåªæœ‰ä¸€ä¸ªå…¥å£ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ ¹â€ã€‚ é™¤äº†â€œæ ¹â€ä¹‹å¤–ï¼Œæ¯æ ‹æˆ¿å­æœ‰ä¸”åªæœ‰ä¸€ä¸ªâ€œçˆ¶â€œæˆ¿å­ä¸ä¹‹ç›¸è¿ã€‚<br>ä¸€ç•ªä¾¦å¯Ÿä¹‹åï¼Œèªæ˜çš„å°å·æ„è¯†åˆ°â€œè¿™ä¸ªåœ°æ–¹çš„æ‰€æœ‰æˆ¿å±‹çš„æ’åˆ—ç±»ä¼¼äº<strong>ä¸€æ£µäºŒå‰æ ‘</strong>â€ã€‚<br>å¦‚æœä¸¤ä¸ªç›´æ¥ç›¸è¿çš„æˆ¿å­åœ¨åŒä¸€å¤©æ™šä¸Šè¢«æ‰“åŠ«ï¼Œæˆ¿å±‹å°†è‡ªåŠ¨æŠ¥è­¦ã€‚è®¡ç®—åœ¨ä¸è§¦åŠ¨è­¦æŠ¥çš„æƒ…å†µä¸‹ï¼Œå°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ã€‚</p>
</blockquote>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">è¾“å…¥: [3,2,3,null,3,null,1]      3</span><br><span class="line">                                / <span class="keyword">\</span></span><br><span class="line"><span class="keyword"></span>                               2   3</span><br><span class="line">                                <span class="keyword">\ </span>  <span class="keyword">\ </span></span><br><span class="line">                                 3   1</span><br><span class="line">è¾“å‡º: 7 </span><br><span class="line">è§£é‡Š:Â å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢ = 3 + 3 + 1 = 7.</span><br><span class="line"></span><br><span class="line">è¾“å…¥: [3,4,5,1,3,null,1]Â     3</span><br><span class="line">                            / <span class="keyword">\</span></span><br><span class="line"><span class="keyword"></span>                           4   5</span><br><span class="line">                          / <span class="keyword">\ </span>  <span class="keyword">\ </span></span><br><span class="line">                         1   3   1</span><br><span class="line">è¾“å‡º: 9</span><br><span class="line">è§£é‡Š:Â å°å·ä¸€æ™šèƒ½å¤Ÿç›—å–çš„æœ€é«˜é‡‘é¢Â = 4 + 5 = 9.</span><br></pre></td></tr></table></figure>



<h2 id="Code-â…¢ğŸ’¡"><a href="#Code-â…¢ğŸ’¡" class="headerlink" title="Code â…¢ğŸ’¡"></a>Code â…¢ğŸ’¡</h2><blockquote>
<p>è¿›é˜¶ç‰ˆæ¥äº†, è¿™é‡Œè€ƒè™‘çš„åŒæ ·æ˜¯å‰ä¸€ä¸ªæˆ¿å­å’Œåä¸€ä¸ªæˆ¿å­æ˜¯å¦ç›¸éš”, éœ€è¦è€ƒè™‘çš„åŒæ ·åªæœ‰ä¸¤ç§æƒ…å†µ, è§£é¢˜æ€è·¯æ˜¯ä¸€æ ·çš„.<br>ä½†è¦æ³¨æ„çš„æ˜¯, è¿™æ˜¯äºŒå‰æ ‘ç»“æ„, è¿™æ ·çš„è¯, æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ç§æƒ…å†µ, è€Œæ¯ä¸ªèŠ‚ç‚¹ç”±æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹(æˆ‘ä»¬æŠŠç©ºçš„èŠ‚ç‚¹å½“æˆ0), æ—¢æœ‰${2^n}$çš„å¯èƒ½, å› æ­¤é‡‡ç”¨é€’å½’çš„æ–¹å¼æ¥è§£å†³é—®é¢˜ä¼šæ›´æ–¹ä¾¿.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">house_rob_iii</span>(<span class="params">root: <span class="type">Optional</span>[TreeNode]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è®¾ç½®é€’å½’å‡½æ•°, è¿”å›å·å–å½“å‰å±‚å’Œä¸å·å–å½“å‰å±‚çš„é’±</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">node = root</span>) -&gt; <span class="built_in">tuple</span>:</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å½“å‰èŠ‚ç‚¹ä¸ºç©º, å½“å‰å±‚å’Œä¸å·å–å½“å‰å±‚çš„é’±éƒ½ä¸º0, è¿”å›(0,0)</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> node:</span><br><span class="line">            <span class="keyword">return</span> (<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># é€’å½’è·å–å·¦å³å­æ ‘èƒ½å·å–çš„é‡‘é¢</span></span><br><span class="line">        L, R = dfs(node.left), dfs(node.right)</span><br><span class="line">		</span><br><span class="line">        <span class="comment"># node.val+(L[1]+R[1]) è¡¨ç¤ºå·å–å½“å‰å±‚å’Œä¸‹ä¸‹å±‚çš„é‡‘é¢</span></span><br><span class="line">        <span class="comment"># max(L)+max(R) è¡¨ç¤ºå½“å‰å±‚ä¸å·,å·å–ä¸‹ä¸€å±‚çš„é‡‘é¢</span></span><br><span class="line">        <span class="keyword">return</span> (node.val+(L[<span class="number">1</span>]+R[<span class="number">1</span>]), <span class="built_in">max</span>(L)+<span class="built_in">max</span>(R))</span><br><span class="line">	</span><br><span class="line">    <span class="comment"># è¿”å›å·ç¬¬ä¸€ä¸ªæˆ¿å­é‡‘é¢å’Œä¸å·ç¬¬ä¸€ä¸ªæˆ¿å­é‡‘é¢çš„æœ€å¤§å€¼</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">max</span>(dfs())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åŸé¢˜åœ°å€ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9sZWV0Y29kZS1jbi5jb20vcHJvYmxlbXMvaG91c2Utcm9iYmVyLWlpaS8=">https://leetcode-cn.com/problems/house-robber-iii/</span></p>
</blockquote>
<h2 id="Test-â…¢ğŸ’ "><a href="#Test-â…¢ğŸ’ " class="headerlink" title="Test â…¢ğŸ’ "></a>Test â…¢ğŸ’ </h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, val=<span class="number">0</span>, left=<span class="literal">None</span>, right=<span class="literal">None</span></span>):</span></span><br><span class="line">        self.val = val</span><br><span class="line">        self.left = left</span><br><span class="line">        self.right = right</span><br><span class="line">        </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;house_rob_iii&#x27;</span>)</span><br><span class="line">root = TreeNode(<span class="number">3</span>, TreeNode(<span class="number">2</span>,<span class="literal">None</span>,TreeNode(<span class="number">3</span>)), TreeNode(<span class="number">3</span>, <span class="literal">None</span>, TreeNode(<span class="number">1</span>)))</span><br><span class="line"><span class="built_in">print</span>(house_rob_iii(root))</span><br><span class="line">root = TreeNode(<span class="number">3</span>,  TreeNode(<span class="number">4</span>,TreeNode(<span class="number">1</span>),TreeNode(<span class="number">3</span>)), TreeNode(<span class="number">5</span>, <span class="literal">None</span>, TreeNode(<span class="number">1</span>)))</span><br><span class="line"><span class="built_in">print</span>(house_rob_iii(root))</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>ç»“æ„ç®—æ³•</category>
      </categories>
  </entry>
  <entry>
    <title>FastAPI ä»å…¥é—¨åˆ°è½åœ°</title>
    <url>/1a0a2507/</url>
    <content><![CDATA[<blockquote>
<p>FastAPI æ˜¯ä¸€ä¸ªç°ä»£ã€å¿«é€Ÿï¼ˆé«˜æ€§èƒ½ï¼‰çš„ Web æ¡†æ¶.</p>
</blockquote>
<blockquote>
<p>å®˜æ–¹æ–‡æ¡£ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9mYXN0YXBpLnRpYW5nb2xvLmNvbS96aC8=">ğŸšª</span></p>
<p>é¡¹ç›®æºç  -&gt; <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RpYW5nb2xvL2Zhc3RhcGk=">ğŸšª</span></p>
<p>Uvicorn -&gt; <span class="exturl" data-url="aHR0cHM6Ly93d3cudXZpY29ybi5vcmcv">ğŸšª</span></p>
</blockquote>
<h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install fastapi uvicorn[standard]</span><br></pre></td></tr></table></figure>

<ul>
<li>uvicorn: ASGI(å¼‚æ­¥)æœåŠ¡å™¨</li>
</ul>
<h2 id="åŸºç¡€ä¾‹å­"><a href="#åŸºç¡€ä¾‹å­" class="headerlink" title="åŸºç¡€ä¾‹å­"></a>åŸºç¡€ä¾‹å­</h2><p>åˆ›å»º<code>main.py</code>æ–‡ä»¶</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Optional</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_root</span>():</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;Hello&quot;</span>: <span class="string">&quot;World&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/items/&#123;item_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_item</span>(<span class="params">item_id: <span class="built_in">int</span>, q: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;item_id&quot;</span>: item_id, <span class="string">&quot;q&quot;</span>: q&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å…³äºå‡½æ•°æ˜¯å¦ä½¿ç”¨<code>async</code>?</strong></p>
<blockquote>
<p>æ–‡æ¡£å‚è€ƒ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9mYXN0YXBpLnRpYW5nb2xvLmNvbS9hc3luYy8jaW4tYS1odXJyeQ==">ğŸšª</span></p>
</blockquote>
<p>å¦‚æœä¸æ¸…æ¥šå‡½æ•°å†…è°ƒç”¨æ˜¯å¦å¼‚æ­¥, é‚£å°±å®šä¹‰ä¸ºæ™®é€šå‡½æ•°, <code>Fastapi</code>ä¼šæ”¾åˆ°<code>thread pool</code>é‡Œæ‰§è¡Œ; å¦‚æœæœ‰ä½¿ç”¨å¼‚æ­¥å¹¶ä¸”æ˜¯åœ¨é«˜å¹¶å‘æƒ…æ™¯ä¸‹, ä½¿ç”¨<code>async</code>é€Ÿåº¦ä¼šæ›´å¿«.</p>
<h2 id="è¿è¡Œå¯åŠ¨"><a href="#è¿è¡Œå¯åŠ¨" class="headerlink" title="è¿è¡Œå¯åŠ¨"></a>è¿è¡Œå¯åŠ¨</h2><h3 id="å‘½ä»¤è¡Œå¯åŠ¨"><a href="#å‘½ä»¤è¡Œå¯åŠ¨" class="headerlink" title="å‘½ä»¤è¡Œå¯åŠ¨"></a>å‘½ä»¤è¡Œå¯åŠ¨</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">uvicorn main:app --reload</span><br></pre></td></tr></table></figure>

<ul>
<li><code>main</code>: <code>main.py</code> æ–‡ä»¶ï¼ˆä¸€ä¸ª Python &quot;æ¨¡å—&quot;ï¼‰ã€‚</li>
<li><code>app</code>: åœ¨ <code>main.py</code> æ–‡ä»¶ä¸­é€šè¿‡ <code>app = FastAPI()</code> åˆ›å»ºçš„å¯¹è±¡ã€‚</li>
<li><code>--reload</code>: è®©æœåŠ¡å™¨åœ¨æ›´æ–°ä»£ç åé‡æ–°å¯åŠ¨ã€‚ä»…åœ¨å¼€å‘æ—¶ä½¿ç”¨è¯¥é€‰é¡¹ã€‚</li>
<li><code>--host</code>: è®¾ç½®æ˜ å°„IP, é»˜è®¤127.0.0.1</li>
<li><code>--port</code>: è®¾ç½®æ˜ å°„ç«¯å£, é»˜è®¤8000</li>
</ul>
<p>è®¿é—® <span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL2l0ZW1zLzU/cT1zb21lcXVlcnk=">http://127.0.0.1:8000/items/5?q=somequery</span> ä¼šè¿”å› <code>&#123;&quot;item_id&quot;: 5, &quot;q&quot;: &quot;somequery&quot;&#125;</code></p>
<h3 id="ç¨‹åºå†…å¯åŠ¨"><a href="#ç¨‹åºå†…å¯åŠ¨" class="headerlink" title="ç¨‹åºå†…å¯åŠ¨"></a>ç¨‹åºå†…å¯åŠ¨</h3><p>å¯ä»¥ç”¨äºè°ƒè¯•</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> uvicorn</span><br><span class="line"></span><br><span class="line"><span class="comment"># body...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    uvicorn.run(app, host=<span class="string">&quot;127.0.0.1&quot;</span>, port=<span class="number">8000</span>)</span><br></pre></td></tr></table></figure>



<h2 id="è‡ªå¸¦æ–‡æ¡£"><a href="#è‡ªå¸¦æ–‡æ¡£" class="headerlink" title="è‡ªå¸¦æ–‡æ¡£"></a>è‡ªå¸¦æ–‡æ¡£</h2><ul>
<li>è®¿é—® <span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL2RvY3M=">http://127.0.0.1:8000/docs</span> æ˜¯ç”±<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3N3YWdnZXItYXBpL3N3YWdnZXItdWk=">Swagger UI</span>è‡ªåŠ¨ç”Ÿæˆçš„äº¤äº’å¼æ–‡æ¡£</li>
<li>è®¿é—® <span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL3JlZG9j">http://127.0.0.1:8000/redoc</span> æ˜¯ç”±<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL1JlYmlsbHkvUmVEb2M=">ReDoc</span> ç”Ÿæˆè‡ªåŠ¨ç”Ÿæˆçš„äº¤äº’å¼æ–‡æ¡£</li>
</ul>
<h2 id="è®¾ç½®æšä¸¾ç±»å‹"><a href="#è®¾ç½®æšä¸¾ç±»å‹" class="headerlink" title="è®¾ç½®æšä¸¾ç±»å‹"></a>è®¾ç½®æšä¸¾ç±»å‹</h2><p>å¯¼å…¥<code>Enum</code></p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> <span class="keyword">enum</span> <span class="keyword">import</span> Enum</span><br></pre></td></tr></table></figure>

<p>ç»§æ‰¿å¹¶å£°æ˜æšä¸¾ç±»</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="symbol">ModelName</span>(<span class="symbol">str, <span class="symbol">Enum</span></span>):</span><br><span class="line">    <span class="symbol">alexnet</span> = &quot;<span class="symbol">alexnet</span>&quot;</span><br><span class="line">    <span class="symbol">resnet</span> = &quot;<span class="symbol">resnet</span>&quot;</span><br><span class="line">    <span class="symbol">lenet</span> = &quot;<span class="symbol">lenet</span>&quot;</span><br></pre></td></tr></table></figure>

<p>å°†å…¶å£°æ˜ä¸ºå‚æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/models/&#123;model_name&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">get_model</span>(<span class="params">model_name: ModelName</span>):</span></span><br><span class="line">    <span class="keyword">if</span> model_name == ModelName.alexnet:</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;model_name&quot;</span>: model_name, <span class="string">&quot;message&quot;</span>: <span class="string">&quot;Deep Learning FTW!&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> model_name.value == <span class="string">&quot;lenet&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;model_name&quot;</span>: model_name, <span class="string">&quot;message&quot;</span>: <span class="string">&quot;LeCNN all the images&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;model_name&quot;</span>: model_name, <span class="string">&quot;message&quot;</span>: <span class="string">&quot;Have some residuals&quot;</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="è®¾ç½®è¯·æ±‚ä½“"><a href="#è®¾ç½®è¯·æ±‚ä½“" class="headerlink" title="è®¾ç½®è¯·æ±‚ä½“"></a>è®¾ç½®è¯·æ±‚ä½“</h2><h3 id="åŸºç¡€åº”ç”¨"><a href="#åŸºç¡€åº”ç”¨" class="headerlink" title="åŸºç¡€åº”ç”¨"></a>åŸºç¡€åº”ç”¨</h3><p>å¯¼å…¥<code>BaseModel</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel</span><br></pre></td></tr></table></figure>

<p>ç»§æ‰¿å¹¶å£°æ˜æ•°æ®æ¨¡å‹ç±»</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span>(<span class="params">BaseModel</span>):</span></span><br><span class="line">    name: <span class="built_in">str</span></span><br><span class="line">    description: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span><br><span class="line">    price: <span class="built_in">float</span></span><br><span class="line">    tax: <span class="type">Optional</span>[<span class="built_in">float</span>] = <span class="literal">None</span></span><br></pre></td></tr></table></figure>

<p>å°†å…¶å£°æ˜ä¸ºå‚æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.post(<span class="params"><span class="string">&quot;/items/&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_item</span>(<span class="params">item: Item</span>):</span></span><br><span class="line">    <span class="keyword">return</span> item</span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚æ ¼å¼åº”ä¸º</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Foo&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;An optional description&quot;</span>,</span><br><span class="line">  <span class="string">&quot;price&quot;</span>: <span class="number">45.2</span>,</span><br><span class="line">  <span class="string">&quot;tax&quot;</span>: <span class="number">3.5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¤šä¸ªè¯·æ±‚ä½“å‚æ•°"><a href="#å¤šä¸ªè¯·æ±‚ä½“å‚æ•°" class="headerlink" title="å¤šä¸ªè¯·æ±‚ä½“å‚æ•°"></a>å¤šä¸ªè¯·æ±‚ä½“å‚æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">BaseModel</span>):</span></span><br><span class="line">    username: <span class="built_in">str</span></span><br><span class="line">    full_name: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">@app.put(<span class="params"><span class="string">&quot;/items/&#123;item_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">update_item</span>(<span class="params">item_id: <span class="built_in">int</span>, item: Item, user: User</span>):</span></span><br><span class="line">    results = &#123;<span class="string">&quot;item_id&quot;</span>: item_id, <span class="string">&quot;item&quot;</span>: item, <span class="string">&quot;user&quot;</span>: user&#125;</span><br><span class="line">    <span class="keyword">return</span> results</span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚æ ¼å¼åº”ä¸º</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;item&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Foo&quot;</span>,</span><br><span class="line">        <span class="string">&quot;description&quot;</span>: <span class="string">&quot;The pretender&quot;</span>,</span><br><span class="line">        <span class="string">&quot;price&quot;</span>: <span class="number">42.0</span>,</span><br><span class="line">        <span class="string">&quot;tax&quot;</span>: <span class="number">3.2</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;user&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;username&quot;</span>: <span class="string">&quot;dave&quot;</span>,</span><br><span class="line">        <span class="string">&quot;full_name&quot;</span>: <span class="string">&quot;Dave Grohl&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å•ä¸ªè¯·æ±‚ä½“å‚æ•°"><a href="#å•ä¸ªè¯·æ±‚ä½“å‚æ•°" class="headerlink" title="å•ä¸ªè¯·æ±‚ä½“å‚æ•°"></a>å•ä¸ªè¯·æ±‚ä½“å‚æ•°</h3><p>å¯¼å…¥<code>Body</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> Body</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>Body()</code>è®¾ç½®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.post(<span class="params"><span class="string">&quot;/items/&#123;item_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">update_item</span>(<span class="params">item_id: <span class="built_in">int</span>, item: Item = Body(<span class="params">..., embed=<span class="literal">True</span></span>)</span>):</span></span><br><span class="line">    results = &#123;<span class="string">&quot;item_id&quot;</span>: item_id, <span class="string">&quot;item&quot;</span>: item&#125;</span><br><span class="line">    <span class="keyword">return</span> results</span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚æ ¼å¼åº”ä¸º</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;item&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Foo&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;The pretender&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;price&quot;</span>: <span class="number">42.0</span>,</span><br><span class="line">        <span class="attr">&quot;tax&quot;</span>: <span class="number">3.2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åµŒå¥—æ ¼å¼è¯·æ±‚ä½“"><a href="#åµŒå¥—æ ¼å¼è¯·æ±‚ä½“" class="headerlink" title="åµŒå¥—æ ¼å¼è¯·æ±‚ä½“"></a>åµŒå¥—æ ¼å¼è¯·æ±‚ä½“</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Image</span>(<span class="params">BaseModel</span>):</span></span><br><span class="line">    url: HttpUrl</span><br><span class="line">    name: <span class="built_in">str</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span>(<span class="params">BaseModel</span>):</span></span><br><span class="line">    image: <span class="type">Optional</span>[Image] = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.put(<span class="params"><span class="string">&quot;/items/&#123;item_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">update_item</span>(<span class="params">item_id: <span class="built_in">int</span>, item: Item</span>):</span></span><br><span class="line">    results = &#123;<span class="string">&quot;item_id&quot;</span>: item_id, <span class="string">&quot;item&quot;</span>: item&#125;</span><br><span class="line">    <span class="keyword">return</span> results</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚æ ¼å¼åº”ä¸º</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;images&quot;</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;url&quot;</span>: <span class="string">&quot;http://example.com/baz.jpg&quot;</span>,</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;The Foo live&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;url&quot;</span>: <span class="string">&quot;http://example.com/dave.jpg&quot;</span>,</span><br><span class="line">            <span class="string">&quot;name&quot;</span>: <span class="string">&quot;The Baz&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="ä¸ºå‚æ•°æ·»åŠ æ ¡éªŒ"><a href="#ä¸ºå‚æ•°æ·»åŠ æ ¡éªŒ" class="headerlink" title="ä¸ºå‚æ•°æ·»åŠ æ ¡éªŒ"></a>ä¸ºå‚æ•°æ·»åŠ æ ¡éªŒ</h2><h3 id="æŸ¥è¯¢å‚æ•°æ ¡éªŒ"><a href="#æŸ¥è¯¢å‚æ•°æ ¡éªŒ" class="headerlink" title="æŸ¥è¯¢å‚æ•°æ ¡éªŒ"></a>æŸ¥è¯¢å‚æ•°æ ¡éªŒ</h3><p>å¯¼å…¥<code>Query</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> Query</span><br></pre></td></tr></table></figure>

<p>å°† <code>Query</code> ç”¨ä½œæŸ¥è¯¢å‚æ•°çš„é»˜è®¤å€¼ï¼Œå¹¶è®¾ç½®<code>min_length</code>ä¸º3,<code>max_length</code>ä¸º9</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/items/&quot;</span></span>)</span></span><br><span class="line"><span class="comment"># Query çš„ç¬¬ä¸€ä¸ªå‚æ•°ç”¨äºå®šä¹‰é»˜è®¤å€¼</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">read_items</span>(<span class="params">q: <span class="type">Optional</span>[<span class="built_in">str</span>] = Query(<span class="params"><span class="literal">None</span>, min_length=<span class="number">3</span>, max_length=<span class="number">9</span></span>)</span>):</span></span><br><span class="line">    results = &#123;<span class="string">&quot;items&quot;</span>: [&#123;<span class="string">&quot;item_id&quot;</span>: <span class="string">&quot;Foo&quot;</span>&#125;, &#123;<span class="string">&quot;item_id&quot;</span>: <span class="string">&quot;Bar&quot;</span>&#125;]&#125;</span><br><span class="line">    <span class="keyword">if</span> q:</span><br><span class="line">        results.update(&#123;<span class="string">&quot;q&quot;</span>: q&#125;)</span><br><span class="line">    <span class="keyword">return</span> results</span><br></pre></td></tr></table></figure>

<p>å…¶å®ƒæ ¡éªŒå‚æ•°(å¯¹åº”ç±»å‹ä¸ºintæˆ–float)</p>
<ul>
<li><code>gt</code>ï¼šå¤§äºï¼ˆ<code>g</code>reater <code>t</code>hanï¼‰</li>
<li><code>ge</code>ï¼šå¤§äºç­‰äºï¼ˆ<code>g</code>reater than or <code>e</code>qualï¼‰</li>
<li><code>lt</code>ï¼šå°äºï¼ˆ<code>l</code>ess <code>t</code>hanï¼‰</li>
<li><code>le</code>ï¼šå°äºç­‰äºï¼ˆ<code>l</code>ess than or <code>e</code>qualï¼‰</li>
</ul>
<p>ä¹Ÿå¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­<code>regex</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Query(<span class="literal">None</span>, regex=<span class="string">r&quot;.&#123;3,9&#125;&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ä¸€ä¸‹</p>
<ul>
<li><span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL2l0ZW1zLz9xPTEy">http://127.0.0.1:8000/items/?q=12</span></li>
<li><span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL2l0ZW1zLz9xPTEyMzQ1Ng==">http://127.0.0.1:8000/items/?q=123456</span></li>
<li><span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL2l0ZW1zLz9xPTEyMzQ1Njc4OTA=">http://127.0.0.1:8000/items/?q=1234567890</span></li>
</ul>
<h3 id="ä½¿ç”¨å‚æ•°åˆ«å"><a href="#ä½¿ç”¨å‚æ•°åˆ«å" class="headerlink" title="ä½¿ç”¨å‚æ•°åˆ«å"></a>ä½¿ç”¨å‚æ•°åˆ«å</h3><p>åœ¨Queryä¸­ä½¿ç”¨<code>alias</code>, è®¾ç½®<code>q</code>åˆ«åä¸º<code>item-query</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&#x27;/items/&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">read_items</span>(<span class="params">q: <span class="type">Optional</span>[<span class="built_in">str</span>] = Query(<span class="params"><span class="literal">None</span>, alias=<span class="string">&quot;item-query&quot;</span></span>)</span>):</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;q&#x27;</span>: q&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ä¸€ä¸‹</p>
<ul>
<li><span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL2l0ZW1zP3E9aGVsbG8=">http://127.0.0.1:8000/items?q=hello</span></li>
<li><span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL2l0ZW1zP2l0ZW0tcXVlcnk9aGVsbG8=">http://127.0.0.1:8000/items?item-query=hello</span></li>
</ul>
<h3 id="è·¯å¾„å‚æ•°æ ¡éªŒ"><a href="#è·¯å¾„å‚æ•°æ ¡éªŒ" class="headerlink" title="è·¯å¾„å‚æ•°æ ¡éªŒ"></a>è·¯å¾„å‚æ•°æ ¡éªŒ</h3><p>å¯¼å…¥<code>Path</code></p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> <span class="type">Path</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ–¹æ³•å’Œ<code>Query</code>ä¸€æ ·, ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºé»˜è®¤å‚æ•°, ä½¿ç”¨<code>...</code>è¡¨ç¤ºè¯¥å‚æ•°ä¸ºå¿…éœ€å‚æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/items/&#123;item_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">read_items</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    *,</span></span></span><br><span class="line"><span class="params"><span class="function">    item_id: <span class="built_in">int</span> = Path(<span class="params">..., title=<span class="string">&quot;The ID of the item to get&quot;</span>, ge=<span class="number">0</span>, le=<span class="number">1000</span></span>),</span></span></span><br><span class="line"><span class="params"><span class="function">    size: <span class="built_in">float</span> = Query(<span class="params">..., gt=<span class="number">0</span>, lt=<span class="number">10.5</span></span>)</span></span></span><br><span class="line"><span class="params"><span class="function"></span>):</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;item_id&quot;</span>: item_id&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•ä¸€ä¸‹</p>
<ul>
<li><span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL2l0ZW1zLzEwMDA/c2l6ZT0xLjI=">http://127.0.0.1:8000/items/1000?size=1.2</span></li>
<li><span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwL2l0ZW1zLzEwMA==">http://127.0.0.1:8000/items/100</span></li>
</ul>
<h3 id="è¯·æ±‚ä½“å­—æ®µæ ¡éªŒ"><a href="#è¯·æ±‚ä½“å­—æ®µæ ¡éªŒ" class="headerlink" title="è¯·æ±‚ä½“å­—æ®µæ ¡éªŒ"></a>è¯·æ±‚ä½“å­—æ®µæ ¡éªŒ</h3><blockquote>
<p>å®˜æ–¹å‚è€ƒ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9mYXN0YXBpLnRpYW5nb2xvLmNvbS96aC90dXRvcmlhbC9ib2R5LWZpZWxkcy8=">ğŸšª</span></p>
</blockquote>
<p><em><strong>æ³¨: Bodyã€Queryã€Pathçš„å¤§éƒ¨åˆ†å‚æ•°æ˜¯ä¸€æ ·çš„</strong></em></p>
<h2 id="è·å–Headerå’ŒCookie"><a href="#è·å–Headerå’ŒCookie" class="headerlink" title="è·å–Headerå’ŒCookie"></a>è·å–Headerå’ŒCookie</h2><p>å¯¼å…¥</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> Header, Cookie</span><br></pre></td></tr></table></figure>

<p>å£°æ˜</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/items/&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_items</span>(<span class="params">user_agent: <span class="type">Optional</span>[<span class="built_in">str</span>] = Header(<span class="params"><span class="literal">None</span></span>), ads_id: <span class="type">Optional</span>[<span class="built_in">str</span>] = Cookie(<span class="params"><span class="literal">None</span></span>):</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="string">&quot;User-Agent&quot;</span>: user_agent,</span></span></span><br><span class="line"><span class="params"><span class="function">    	<span class="string">&quot;ads_id&quot;</span>: ads_id</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;</span></span></span><br></pre></td></tr></table></figure>



<h2 id="å“åº”å’Œè¾“å‡º"><a href="#å“åº”å’Œè¾“å‡º" class="headerlink" title="å“åº”å’Œè¾“å‡º"></a>å“åº”å’Œè¾“å‡º</h2><h3 id="è®¾ç½®è¾“å‡ºæ¨¡å‹"><a href="#è®¾ç½®è¾“å‡ºæ¨¡å‹" class="headerlink" title="è®¾ç½®è¾“å‡ºæ¨¡å‹"></a>è®¾ç½®è¾“å‡ºæ¨¡å‹</h3><p><code>@app</code>è®¾ç½®<code>response_model</code>å‚æ•°, </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Optional</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel, EmailStr</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserIn</span>(<span class="params">BaseModel</span>):</span></span><br><span class="line">    username: <span class="built_in">str</span></span><br><span class="line">    password: <span class="built_in">str</span></span><br><span class="line">    email: EmailStr</span><br><span class="line">    full_name: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºæ¨¡å‹ä¸åŒ…å«å¯†ç </span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserOut</span>(<span class="params">BaseModel</span>):</span></span><br><span class="line">    username: <span class="built_in">str</span></span><br><span class="line">    email: EmailStr</span><br><span class="line">    full_name: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å¯¹åº”è¾“å‡ºæ¨¡å‹</span></span><br><span class="line"><span class="meta">@app.post(<span class="params"><span class="string">&quot;/user/&quot;</span>, response_model=UserOut</span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">create_user</span>(<span class="params">user: UserIn</span>):</span></span><br><span class="line">    <span class="keyword">return</span> user</span><br></pre></td></tr></table></figure>

<h3 id="è®¾ç½®å“åº”ä¸åŒ…å«é»˜è®¤å€¼"><a href="#è®¾ç½®å“åº”ä¸åŒ…å«é»˜è®¤å€¼" class="headerlink" title="è®¾ç½®å“åº”ä¸åŒ…å«é»˜è®¤å€¼"></a>è®¾ç½®å“åº”ä¸åŒ…å«é»˜è®¤å€¼</h3><p><code>@app</code>è®¾ç½®<code>response_model_exclude_unset</code>å‚æ•°ä¸º<code>True</code>, ä¸æƒ³è·å–è¿‡å¤šJsonå¯ä»¥ç”¨çš„ä¸Š.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span>, <span class="type">Optional</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="keyword">from</span> pydantic <span class="keyword">import</span> BaseModel</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Item</span>(<span class="params">BaseModel</span>):</span></span><br><span class="line">    name: <span class="built_in">str</span></span><br><span class="line">    description: <span class="type">Optional</span>[<span class="built_in">str</span>] = <span class="literal">None</span></span><br><span class="line">    price: <span class="built_in">float</span></span><br><span class="line">    tax: <span class="built_in">float</span> = <span class="number">10.5</span></span><br><span class="line">    tags: <span class="type">List</span>[<span class="built_in">str</span>] = []</span><br><span class="line"></span><br><span class="line">items = &#123;</span><br><span class="line">    <span class="string">&quot;foo&quot;</span>: &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Foo&quot;</span>, <span class="string">&quot;price&quot;</span>: <span class="number">50.2</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/items/&#123;item_id&#125;&quot;</span>, response_model=Item, response_model_exclude_unset=<span class="literal">True</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">read_item</span>(<span class="params">item_id: <span class="built_in">str</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> items[item_id]</span><br></pre></td></tr></table></figure>

<p>å“åº”ä¸º</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Foo&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;price&quot;</span>: <span class="number">50.2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è€Œä¸æ˜¯</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Foo&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;description&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">&quot;price&quot;</span>: <span class="number">50.2</span>,</span><br><span class="line">  <span class="attr">&quot;tax&quot;</span>: <span class="number">10.5</span>,</span><br><span class="line">  <span class="attr">&quot;tags&quot;</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è®¾ç½®å“åº”çŠ¶æ€ç "><a href="#è®¾ç½®å“åº”çŠ¶æ€ç " class="headerlink" title="è®¾ç½®å“åº”çŠ¶æ€ç "></a>è®¾ç½®å“åº”çŠ¶æ€ç </h2><p><code>@app</code>è®¾ç½®å‚æ•°<code>status_code</code>, å“åº”æ—¶ä¼šè¿”å›å¯¹åº”çŠ¶æ€ç , ä¸æƒ³æš´éœ²çœŸå®çŠ¶æ€ç æ—¶ä¼šå¾ˆæœ‰ç”¨.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI, status</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨statusè‡ªå¸¦çš„å˜é‡æ˜ å°„,æˆ–è€…ç›´æ¥ä½¿ç”¨æ•°å­—</span></span><br><span class="line"><span class="meta">@app.post(<span class="params"><span class="string">&quot;/items/&quot;</span>, status_code=status.HTTP_201_CREATED</span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">create_item</span>(<span class="params">name: <span class="built_in">str</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;name&quot;</span>: name&#125;</span><br></pre></td></tr></table></figure>





<hr>
<blockquote>
<p>PS: åˆ°è¿™é‡Œ, ç®€å•çš„APIåº”ç”¨å°±æ²¡é—®é¢˜äº†, æ¥ä¸‹æ¥æ˜¯ä¸€äº›è¿›é˜¶æŠ€å·§</p>
</blockquote>
<h2 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h2><blockquote>
<p>&quot;ä¸­é—´ä»¶&quot;æ˜¯ä¸€ä¸ªå‡½æ•°,å®ƒåœ¨æ¯ä¸ª<strong>è¯·æ±‚</strong>è¢«ç‰¹å®šçš„<em>è·¯å¾„æ“ä½œ</em>å¤„ç†ä¹‹å‰,ä»¥åŠåœ¨æ¯ä¸ª<strong>å“åº”</strong>è¿”å›ä¹‹å‰å·¥ä½œ.</p>
</blockquote>
<p>ä½¿ç”¨è£…é¥°å™¨ <code>@app.middleware(&quot;http&quot;)</code>æ¥æ·»åŠ ä¸­é—´ä»¶</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°: request</li>
<li>ç¬¬äºŒä¸ªå‚æ•°: ä¸€ä¸ªå‡½æ•° <code>call_next</code> (å‡½æ•°åå¯è‡ªå®šä¹‰)<ul>
<li>å®ƒå°†æ¥æ”¶ <code>request</code> ä½œä¸ºå‚æ•°</li>
<li>å°† <code>request</code> ä¼ é€’ç»™ç›¸åº”çš„ è·¯å¾„æ“ä½œ</li>
<li>ç„¶åå®ƒå°†è¿”å›ç”±ç›¸åº”çš„ è·¯å¾„æ“ä½œ ç”Ÿæˆçš„ <code>response</code>.</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI, Request</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">num: <span class="built_in">int</span></span>):</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;num&quot;</span>: num&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.middleware(<span class="params"><span class="string">&quot;http&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">add_process_time_header</span>(<span class="params">request: Request, call_next</span>):</span></span><br><span class="line"></span><br><span class="line">    start_time = time.time()</span><br><span class="line">    response = <span class="keyword">await</span> call_next(request)</span><br><span class="line">    process_time = time.time() - start_time</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># æ·»åŠ å›è°ƒæ—¶é—´</span></span><br><span class="line">    response.headers[<span class="string">&quot;X-Process-Time&quot;</span>] = <span class="built_in">str</span>(process_time)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.middleware(<span class="params"><span class="string">&quot;http&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">set_status_code_eq_200</span>(<span class="params">request: Request, call_next</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;set code eq 200&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    response = <span class="keyword">await</span> call_next(request)</span><br><span class="line">    </span><br><span class="line">	<span class="comment"># ä¿®æ”¹æ‰€æœ‰å“åº”çŠ¶æ€ç ä¸€ç›´ä¸º200</span></span><br><span class="line">    response.status_code = <span class="number">200</span></span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    uvicorn.run(app, host=<span class="string">&quot;127.0.0.1&quot;</span>, port=<span class="number">8000</span>)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è°ƒè¯•æ¨¡å¼æµ‹è¯•ä¸€ä¸‹, é¡ºä¾¿è§‚å¯Ÿä¸‹ä¸­é—´ä»¶çš„æ‰§è¡Œé¡ºåº</p>
<ul>
<li><span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwLz9udW09MjI=">http://127.0.0.1:8000/?num=22</span></li>
<li><span class="exturl" data-url="aHR0cDovLzEyNy4wLjAuMTo4MDAwLz9udW09c3Ry">http://127.0.0.1:8000/?num=str</span></li>
</ul>
<p>æ‰§è¡Œé¡ºåºæ˜¯ä»ä¸‹å¾€ä¸Šå…ˆæ‰§è¡Œ<code>call_next</code>å‰çš„ä»£ç ,ç„¶åæ‰§è¡Œ<code>call_next</code>å, å†ä»ä¸Šå¾€ä¸‹æ‰§è¡Œ<code>call_next</code>åçš„éƒ¨åˆ†, å¯ä»¥çœ‹æˆæ ˆçš„æ“ä½œé¡ºåº, å…ˆå…¥åå‡º, åå…¥å…ˆå‡º.</p>
<h3 id="è·¨åŸŸèµ„æºå…±äº«"><a href="#è·¨åŸŸèµ„æºå…±äº«" class="headerlink" title="è·¨åŸŸèµ„æºå…±äº«"></a>è·¨åŸŸèµ„æºå…±äº«</h3><blockquote>
<p>æŒ‡æµè§ˆå™¨ä¸­è¿è¡Œçš„å‰ç«¯æ‹¥æœ‰ä¸åç«¯é€šä¿¡çš„ JavaScript ä»£ç ï¼Œè€Œåç«¯å¤„äºä¸å‰ç«¯ä¸åŒçš„ã€Œæºã€çš„æƒ…å†µ.</p>
</blockquote>
<p>æºæ˜¯åè®®ï¼ˆ<code>http</code>ï¼Œ<code>https</code>ï¼‰ã€åŸŸï¼ˆ<code>myapp.com</code>ï¼Œ<code>localhost</code>ï¼Œ<code>localhost.tiangolo.com</code>ï¼‰ä»¥åŠç«¯å£ï¼ˆ<code>80</code>ã€<code>443</code>ã€<code>8080</code>ï¼‰çš„ç»„åˆã€‚</p>
<p>å› æ­¤ï¼Œè¿™äº›éƒ½æ˜¯ä¸åŒçš„æºï¼š</p>
<ul>
<li><code>http://localhost</code></li>
<li><code>https://localhost</code></li>
<li><code>http://localhost:8080</code></li>
</ul>
<p>å³ä½¿å®ƒä»¬éƒ½åœ¨ <code>localhost</code> ä¸­ï¼Œä½†æ˜¯å®ƒä»¬ä½¿ç”¨ä¸åŒçš„åè®®æˆ–è€…ç«¯å£ï¼Œæ‰€ä»¥å®ƒä»¬éƒ½æ˜¯ä¸åŒçš„ã€Œæºã€</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI</span><br><span class="line"><span class="comment"># å¯¼å…¥ CORSMiddleware</span></span><br><span class="line"><span class="keyword">from</span> fastapi.middleware.cors <span class="keyword">import</span> CORSMiddleware</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªå…è®¸çš„æºåˆ—è¡¨ï¼ˆç”±å­—ç¬¦ä¸²ç»„æˆï¼‰</span></span><br><span class="line">origins = [</span><br><span class="line">    <span class="string">&quot;http://localhost.tiangolo.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;https://localhost.tiangolo.com&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http://localhost&quot;</span>,</span><br><span class="line">    <span class="string">&quot;http://localhost:8080&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å…¶ä½œä¸ºã€Œä¸­é—´ä»¶ã€æ·»åŠ åˆ°ä½ çš„ FastAPI åº”ç”¨ä¸­</span></span><br><span class="line">app.add_middleware(</span><br><span class="line">    CORSMiddleware,</span><br><span class="line">    allow_origins=origins,</span><br><span class="line">    allow_credentials=<span class="literal">True</span>,	<span class="comment"># å…è®¸å‡­è¯ï¼ˆæˆæƒ headersï¼ŒCookies ç­‰ï¼‰</span></span><br><span class="line">    allow_methods=[<span class="string">&quot;*&quot;</span>],  <span class="comment"># ç‰¹å®šçš„ HTTP æ–¹æ³•ï¼ˆPOSTï¼ŒPUTï¼‰æˆ–è€…ä½¿ç”¨é€šé…ç¬¦ &quot;*&quot; å…è®¸æ‰€æœ‰æ–¹æ³•</span></span><br><span class="line">    allow_headers=[<span class="string">&quot;*&quot;</span>],  <span class="comment"># ç‰¹å®šçš„ HTTP headers æˆ–è€…ä½¿ç”¨é€šé…ç¬¦ &quot;*&quot; å…è®¸æ‰€æœ‰ headersã€‚</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Hello World&quot;</span>&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>å…¶å®ƒåº”ç”¨ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9mYXN0YXBpLnRpYW5nb2xvLmNvbS96aC9hZHZhbmNlZC9taWRkbGV3YXJlLw==">ğŸšª</span></p>
</blockquote>
<h2 id="åˆ›å»ºåå°ä»»åŠ¡"><a href="#åˆ›å»ºåå°ä»»åŠ¡" class="headerlink" title="åˆ›å»ºåå°ä»»åŠ¡"></a>åˆ›å»ºåå°ä»»åŠ¡</h2><blockquote>
<p>ä½¿ç”¨åœºæ™¯: é‚®ä»¶å‘é€, å›¾ç‰‡æ¸²æŸ“ä¸‹è½½...</p>
</blockquote>
<p>ä½¿ç”¨<code>BackgroundTasks</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> BackgroundTasks, FastAPI</span><br><span class="line"></span><br><span class="line">app = FastAPI()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">write_notification</span>(<span class="params">email: <span class="built_in">str</span>, message=<span class="string">&quot;&quot;</span></span>):</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;log.txt&quot;</span>, mode=<span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> email_file:</span><br><span class="line">        content = <span class="string">f&quot;notification for <span class="subst">&#123;email&#125;</span>: <span class="subst">&#123;message&#125;</span>&quot;</span></span><br><span class="line">        email_file.write(content)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.post(<span class="params"><span class="string">&quot;/send-notification/&#123;email&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">send_notification</span>(<span class="params">email: <span class="built_in">str</span>, background_tasks: BackgroundTasks</span>):</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># å…ˆæ–¹æ³•ååä¼ å‚</span></span><br><span class="line">    background_tasks.add_task(write_notification, email, message=<span class="string">&quot;some notification&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Notification sent in the background&quot;</span>&#125;</span><br></pre></td></tr></table></figure>



<h2 id="å…¶å®ƒåŠŸèƒ½"><a href="#å…¶å®ƒåŠŸèƒ½" class="headerlink" title="å…¶å®ƒåŠŸèƒ½"></a>å…¶å®ƒåŠŸèƒ½</h2><blockquote>
<p>ä»¥ä¸‹éƒ¨åˆ†å±äºæ¯”è¾ƒå°‘ç”¨åˆ°æˆ–è€…æ˜¯çŸ¥è¯†é‡è¾ƒå¤šéœ€è¦æ·±å…¥å­¦ä¹ çš„, æ•…åªæä¾›å®˜æ–¹é“¾æ¥ä»¥ä¾›å‚è€ƒ</p>
</blockquote>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9mYXN0YXBpLnRpYW5nb2xvLmNvbS96aC90dXRvcmlhbC9leHRyYS1kYXRhLXR5cGVzLw==">ä½¿ç”¨å…¶å®ƒæ•°æ®ç±»å‹</span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9mYXN0YXBpLnRpYW5nb2xvLmNvbS96aC90dXRvcmlhbC9yZXF1ZXN0LWZpbGVzLw==">è®¾ç½®è¯·æ±‚æ–‡ä»¶</span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9mYXN0YXBpLnRpYW5nb2xvLmNvbS96aC90dXRvcmlhbC9oYW5kbGluZy1lcnJvcnMv">é”™è¯¯å¼‚å¸¸å¤„ç†</span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9mYXN0YXBpLnRpYW5nb2xvLmNvbS96aC90dXRvcmlhbC9ib2R5LXVwZGF0ZXMv">è¯·æ±‚ä½“æ›´æ–°æ•°æ®</span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9mYXN0YXBpLnRpYW5nb2xvLmNvbS96aC90dXRvcmlhbC9zcWwtZGF0YWJhc2VzLw==">ä½¿ç”¨å…³ç³»æ•°æ®åº“</span></li>
</ul>
]]></content>
      <categories>
        <category>å…¥é—¨æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>FastAPI</tag>
      </tags>
  </entry>
  <entry>
    <title>Python çº¿ç¨‹è¿›ç¨‹ç›¸å…³åº“çš„ç®€å•åº”ç”¨</title>
    <url>/f89f9ea4/</url>
    <content><![CDATA[<h2 id="ğŸ‡ç®€å•äº†è§£"><a href="#ğŸ‡ç®€å•äº†è§£" class="headerlink" title="ğŸ‡ç®€å•äº†è§£"></a>ğŸ‡ç®€å•äº†è§£</h2><h3 id="çº¿ç¨‹å’Œè¿›ç¨‹"><a href="#çº¿ç¨‹å’Œè¿›ç¨‹" class="headerlink" title="çº¿ç¨‹å’Œè¿›ç¨‹"></a>çº¿ç¨‹å’Œè¿›ç¨‹</h3><ul>
<li>æ¯ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸åŒè¿›ç¨‹ä¹‹é—´ä¸å…±äº«å†…å­˜</li>
<li>ä¸€ä¸ªè¿›ç¨‹åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹å…±äº«ç€åŒä¸€ä¸ªè¿›ç¨‹çš„å†…å­˜</li>
<li>åœ¨æ“ä½œç³»ç»Ÿä¿æŠ¤æ¨¡å¼ä¸‹ï¼Œä¸€ä¸ªè¿›ç¨‹å´©æºƒä¸ä¼šå¯¹å…¶ä»–è¿›ç¨‹äº§ç”Ÿå½±å“ï¼Œè€Œçº¿ç¨‹æ²¡æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œä½†å®ƒæœ‰è‡ªå·±çš„å †æ ˆå’Œå±€éƒ¨å˜é‡</li>
<li>çº¿ç¨‹å¯ä»¥é€šè¿‡å…±äº«å˜é‡çš„æ–¹å¼å®ç°å¤šçº¿ç¨‹ç›´æ¥çš„é€šä¿¡ï¼Œè€Œè¿›ç¨‹çš„é€šä¿¡ä¸»è¦é€šè¿‡æ¶ˆæ¯ä¼ é€’ã€‚ç›¸å¯¹å…±äº«å˜é‡è€Œè¨€ï¼Œæ¶ˆæ¯ä¼ é€’ä¼šæ¶ˆè€—æ›´å¤šèµ„æº</li>
</ul>
<h3 id="åŒæ­¥å’Œå¼‚æ­¥"><a href="#åŒæ­¥å’Œå¼‚æ­¥" class="headerlink" title="åŒæ­¥å’Œå¼‚æ­¥"></a>åŒæ­¥å’Œå¼‚æ­¥</h3><ul>
<li>åŒæ­¥æ˜¯æŒ‡ä¸åŒçš„ç¨‹åºå•å…ƒä¸ºäº†å®ŒæˆæŸä¸ªä»»åŠ¡é€šè¿‡æŸç§é€šä¿¡æ–¹å¼åè°ƒä¸€è‡´ï¼Œæ„å‘³ç€æœ‰åº</li>
<li>å¼‚æ­¥æŒ‡ä¸åŒç¨‹åºå•å…ƒä¹‹é—´ä¸éœ€è¦åè°ƒä¹Ÿå¯å•ç‹¬å®Œæˆä»»åŠ¡</li>
</ul>
<h3 id="å¹¶å‘å’Œå¹¶è¡Œ"><a href="#å¹¶å‘å’Œå¹¶è¡Œ" class="headerlink" title="å¹¶å‘å’Œå¹¶è¡Œ"></a>å¹¶å‘å’Œå¹¶è¡Œ</h3><blockquote>
<p>æ¥è‡ª Erlangä¹‹çˆ¶ Joe Armstrong çš„è§£é‡Š</p>
<p>å¹¶å‘ï¼šä¸¤ä¸ªé˜Ÿåˆ—å’Œä¸€å°å’–å•¡æœº<br>å¹¶è¡Œï¼šä¸¤ä¸ªé˜Ÿåˆ—å’Œä¸¤å°å’–å•¡æœº</p>
</blockquote>
<p><img data-src="http://img.owq.world/2021/11/2134-81fe70.png"></p>
<ul>
<li>å¹¶å‘è¡¨ç¤º<strong>å¤šä¸ªç¨‹åºå¯ä»¥åœ¨åŒä¸€ä¸ªæ—¶é—´æ®µå†…è¢«æ‰§è¡Œ</strong></li>
<li>å¹¶è¡Œè¡¨ç¤ºå¤šä¸ªç¨‹åºå¯ä»¥åœ¨<strong>åŒä¸€æ—¶åˆ»</strong>è¢«è¿è¡Œ</li>
</ul>
<h2 id="Threadingåº“"><a href="#Threadingåº“" class="headerlink" title="Threadingåº“"></a>Threadingåº“</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">longtime</span>(<span class="params">n</span>):</span> <span class="comment"># éœ€è¦è¢«çº¿ç¨‹æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line">    time.sleep(n)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="comment"># å®ä¾‹åŒ–çº¿ç¨‹</span></span><br><span class="line">    t = threading.Thread(target=longtime, args=[<span class="number">10</span>])</span><br><span class="line">    t.start()</span><br><span class="line">    t.join()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Done&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>



<blockquote>
<p>æœªå®Œå¾…ç»­</p>
</blockquote>
]]></content>
      <categories>
        <category>æŠ€æœ¯è®°å½•</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Python ä½¿ç”¨ YAML é…ç½®å¸¦æœ‰é¢œè‰²è¾“å‡ºçš„loging</title>
    <url>/dfbb4c9/</url>
    <content><![CDATA[<blockquote>
<p>å®˜æ–¹æ•™ç¨‹æ–‡æ¡£ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy9ob3d0by9sb2dnaW5nLmh0bWw=">ğŸšª</span><br>å®˜æ–¹é…ç½®æ–‡æ¡£ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvMy9saWJyYXJ5L2xvZ2dpbmcuY29uZmlnLmh0bWw=">ğŸšª</span><br>æ ¼å¼å±æ€§è¡¨ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnB5dGhvbi5vcmcvemgtdHcvMy9saWJyYXJ5L2xvZ2dpbmcuaHRtbCNsb2dnaW5nLkxvZ1JlY29yZA==">ğŸ”</span><br>å¦‚ä½•å†™å¥½æ—¥å¿— -&gt; <span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNTU5NTE5">ğŸ”</span></p>
</blockquote>
<h2 id="â­å¸¸ç”¨åè¯"><a href="#â­å¸¸ç”¨åè¯" class="headerlink" title="â­å¸¸ç”¨åè¯"></a>â­å¸¸ç”¨åè¯</h2><table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>Logger</td>
<td>æ—¥å¿—è®°å½•ç¨‹åº</td>
</tr>
<tr>
<td>Handler</td>
<td>å¤„ç†ç¨‹åº</td>
</tr>
<tr>
<td>Formatter</td>
<td>æ ¼å¼åŒ–ç¨‹åº</td>
</tr>
<tr>
<td>CRITICAL</td>
<td>å±é™©</td>
</tr>
<tr>
<td>ERROR</td>
<td>é”™è¯¯</td>
</tr>
<tr>
<td>WARNING</td>
<td>è­¦å‘Š</td>
</tr>
<tr>
<td>INFO</td>
<td>ä¿¡æ¯</td>
</tr>
<tr>
<td>DEBUG</td>
<td>è°ƒè¯•</td>
</tr>
</tbody></table>
<h2 id="ğŸŒ å…ˆæœ‰ä¸ªå°è±¡"><a href="#ğŸŒ å…ˆæœ‰ä¸ªå°è±¡" class="headerlink" title="ğŸŒ å…ˆæœ‰ä¸ªå°è±¡"></a>ğŸŒ å…ˆæœ‰ä¸ªå°è±¡</h2><p>æ—¥å¿—åº“é‡‡ç”¨æ¨¡å—åŒ–æ–¹æ³•ï¼Œå¹¶æä¾›å‡ ç±»ç»„ä»¶ï¼šè®°å½•å™¨ã€å¤„ç†å™¨ã€è¿‡æ»¤å™¨å’Œæ ¼å¼å™¨ã€‚</p>
<ul>
<li>è®°å½•å™¨æš´éœ²äº†åº”ç”¨ç¨‹åºä»£ç ç›´æ¥ä½¿ç”¨çš„æ¥å£ã€‚</li>
<li>å¤„ç†å™¨å°†æ—¥å¿—è®°å½•ï¼ˆç”±è®°å½•å™¨åˆ›å»ºï¼‰å‘é€åˆ°é€‚å½“çš„ç›®æ ‡ã€‚</li>
<li>è¿‡æ»¤å™¨æä¾›äº†æ›´ç²¾ç»†çš„é™„åŠ åŠŸèƒ½ï¼Œç”¨äºç¡®å®šè¦è¾“å‡ºçš„æ—¥å¿—è®°å½•ã€‚(æœ¬æ–‡ä¸æ¶‰åŠ)</li>
<li>æ ¼å¼å™¨æŒ‡å®šæœ€ç»ˆè¾“å‡ºä¸­æ—¥å¿—è®°å½•çš„æ ·å¼ã€‚</li>
</ul>
<h2 id="ğŸ§¿æœ€å°ä½¿ç”¨æ¡ˆä¾‹"><a href="#ğŸ§¿æœ€å°ä½¿ç”¨æ¡ˆä¾‹" class="headerlink" title="ğŸ§¿æœ€å°ä½¿ç”¨æ¡ˆä¾‹"></a>ğŸ§¿æœ€å°ä½¿ç”¨æ¡ˆä¾‹</h2><p><strong>ä½¿ç”¨æ ¹è®°å½•å™¨è¾“å‡ºæ—¥å¿—</strong><br>ç®€å•äº†è§£æ—¥å¿—è¾“å‡ºæ–¹å¼çš„ä¸¤ç§æ–¹å¼å’Œæ—¥å¿—è¾“å‡ºçš„ç­‰çº§</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># é»˜è®¤æ ¹è®°å½•åªè®°å½•WARNINGä»¥ä¸Šçš„æ—¥å¿—, æ‰€ä»¥ä½¿ç”¨debugå’Œinfoæ˜¯ä¸ä¼šè¢«è¾“å‡ºçš„</span></span><br><span class="line"><span class="comment"># logging.basicConfig(level=logging.DEBUG) # é…ç½®ä¸‹æ—¥å¿—ç­‰çº§å°±è¾“å‡ºäº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®æ—¥å¿—æ–‡ä»¶è·¯å¾„, ä¼šå†™åˆ°æ–‡ä»¶é‡Œ</span></span><br><span class="line"><span class="comment"># logging.basicConfig(filename=&#x27;example.log&#x27;, level=logging.INFO)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒç”¨ æ ¹æ—¥å¿—è®°å½•å™¨ è¾“å‡º(è®°å½•ç­‰çº§ä»é«˜åˆ°ä½)</span></span><br><span class="line">logging.debug(<span class="string">&#x27;DEBUG&#x27;</span>)</span><br><span class="line">logging.info(<span class="string">&#x27;INFO&#x27;</span>)</span><br><span class="line">logging.warning(<span class="string">&#x27;WARNING&#x27;</span>)</span><br><span class="line">logging.error(<span class="string">&#x27;ERROR&#x27;</span>)</span><br><span class="line">logging.critical(<span class="string">&#x27;CRITICAL&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>æ ¼å¼åŒ–æ—¥å¿—è¾“å‡º</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="comment"># format æ ¼å¼åŒ–è¾“å‡ºå½¢å¼</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨ datefmt å¯ä»¥è‡ªå®šä¹‰æ—¶é—´è¾“å‡ºæ ¼å¼</span></span><br><span class="line">logging.basicConfig(<span class="built_in">format</span>=<span class="string">&#x27;%(asctime)s %(levelname)s: %(message)s&#x27;</span>, datefmt=<span class="string">&#x27;%m/%d/%Y %I:%M:%S %p&#x27;</span>)</span><br><span class="line"></span><br><span class="line">logging.warning(<span class="string">&#x27;å†ä¸ç­¾åˆ°å°±è¿Ÿåˆ°äº†!&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="ğŸŒˆå¸¦ç‚¹é¢œè‰²è¾“å‡º"><a href="#ğŸŒˆå¸¦ç‚¹é¢œè‰²è¾“å‡º" class="headerlink" title="ğŸŒˆå¸¦ç‚¹é¢œè‰²è¾“å‡º"></a>ğŸŒˆå¸¦ç‚¹é¢œè‰²è¾“å‡º</h2><blockquote>
<p>åŸºæœ¬ä½¿ç”¨, äº†è§£3å¤§ç»„ä»¶è®°å½•å™¨ã€å¤„ç†å™¨å’Œæ ¼å¼å™¨ä¹‹é—´çš„å…³ç³»</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> colorlog</span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢œè‰²é…ç½®</span></span><br><span class="line"><span class="comment"># å¯ç”¨: black red green yellow blue purple cyan white, å’Œ bold_**</span></span><br><span class="line">log_colors = &#123;</span><br><span class="line">    <span class="string">&#x27;DEBUG&#x27;</span>: <span class="string">&#x27;cyan&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;INFO&#x27;</span>: <span class="string">&#x27;green&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;WARNING&#x27;</span>: <span class="string">&#x27;yellow&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;ERROR&#x27;</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;CRITICAL&#x27;</span>: <span class="string">&#x27;bold_red&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ—¥å¿—è®°å½•å™¨</span></span><br><span class="line">logger = logging.getLogger(<span class="string">&#x27;logger_main&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ§åˆ¶å°å¤„ç†å™¨, ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—</span></span><br><span class="line">console_handler = logging.StreamHandler()</span><br><span class="line"><span class="comment"># åˆ›å»ºæ–‡ä»¶å¤„ç†å™¨, ä¼šè®°å½•æ—¥å¿—åˆ°test.log</span></span><br><span class="line">file_handler = logging.FileHandler(filename=<span class="string">&#x27;test.log&#x27;</span>, mode=<span class="string">&#x27;a&#x27;</span>, encoding=<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ—¥å¿—çº§åˆ«</span></span><br><span class="line">logger.setLevel(logging.DEBUG)</span><br><span class="line">console_handler.setLevel(logging.DEBUG)</span><br><span class="line">file_handler.setLevel(logging.INFO)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨æŒ‡å®šçš„æ ¼å¼å­—ç¬¦ä¸²åˆå§‹åŒ–æ ¼å¼åŒ–ç¨‹åº</span></span><br><span class="line">file_formatter = logging.Formatter(</span><br><span class="line">    fmt=<span class="string">&#x27;[%(asctime)s %(levelname)s] %(filename)s -&gt; %(funcName)s line:%(lineno)d: %(message)s&#x27;</span>,</span><br><span class="line">    datefmt=<span class="string">&#x27;%Y-%m-%d  %H:%M:%S&#x27;</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># ä½¿ç”¨ colorlog çš„æ ¼å¼åŒ–ç¨‹åº</span></span><br><span class="line">console_formatter = colorlog.ColoredFormatter(</span><br><span class="line">    fmt=<span class="string">&#x27;%(log_color)s[%(asctime)s %(levelname)s] %(message)s&#x27;</span>,</span><br><span class="line">    datefmt=<span class="string">&#x27;%Y-%m-%d  %H:%M:%S&#x27;</span>,</span><br><span class="line">    log_colors=log_colors</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ ¼å¼åŒ–ç¨‹åº</span></span><br><span class="line">console_handler.setFormatter(console_formatter)</span><br><span class="line">file_handler.setFormatter(file_formatter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å¤„ç†å™¨åˆ°è®°å½•å™¨ä¸­</span></span><br><span class="line">logger.addHandler(console_handler)</span><br><span class="line">logger.addHandler(file_handler)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­IOæµ, éå¸¸é‡è¦ </span></span><br><span class="line">console_handler.close()</span><br><span class="line">file_handler.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºæ—¥å¿—</span></span><br><span class="line">logger.info(<span class="string">&#x27;ä¸€åˆ‡æ­£å¸¸~&#x27;</span>)</span><br><span class="line">logger.error(<span class="string">&#x27;æŠ¥é”™å•¦!!&#x27;</span>)</span><br><span class="line">logger.debug(<span class="string">&#x27;æ‰¾bugä¸­...&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰å¤„ç†å™¨</span></span><br><span class="line"><span class="built_in">print</span>(logger.handlers)</span><br></pre></td></tr></table></figure>



<h2 id="âœ¨ä½¿ç”¨YAMLé…ç½®æ—¥å¿—"><a href="#âœ¨ä½¿ç”¨YAMLé…ç½®æ—¥å¿—" class="headerlink" title="âœ¨ä½¿ç”¨YAMLé…ç½®æ—¥å¿—"></a>âœ¨ä½¿ç”¨YAMLé…ç½®æ—¥å¿—</h2><blockquote>
<p>æ¥è§¦YAMLæ˜¯åœ¨æ­å»ºåšå®¢æ—¶, å‘ç°äº†å¦‚æ­¤ç®€æ´ä¼˜é›…çš„æ–‡ä»¶æ ¼å¼, æ­é¡¹ç›®æ—¶è€ƒè™‘åˆ°é…ç½®çš„æ˜“ç”¨æ€§å’Œæ˜“è¯»æ€§, éšå³ä¾¿æŠ˜è…¾èµ·æ¥äº†Ï†(*ï¿£0ï¿£)</p>
<p>pyyamlå®˜æ–¹æ–‡æ¡£ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9weXlhbWwub3JnL3dpa2kvUHlZQU1MRG9jdW1lbnRhdGlvbg==">ğŸšª</span></p>
</blockquote>
<p>åœ¨<code>conf</code>ç›®å½•ä¸‹åˆ›å»º<code>log_conf.yml</code>, å­˜æ”¾é…ç½®, é…ç½®æœ€åå°†è½¬ä¸ºdistä¼ å…¥åˆ°<code>dictConfig()</code>é‡Œ, è¿™ä¹Ÿæ˜¯è¿›ä¸€æ­¥äº†è§£loggingçš„è¿‡ç¨‹.</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="number">1</span></span><br><span class="line"><span class="comment"># å°†ä¿¡æ¯ä¼ æ’­åˆ°é…ç½®æ–‡ä»¶çš„è·Ÿæ—¥å¿—è®°å½•å™¨ä¸­</span></span><br><span class="line"><span class="attr">disable_existing_loggers:</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¼å¼åŒ–å™¨</span></span><br><span class="line"><span class="attr">formatters:</span></span><br><span class="line">  <span class="attr">file:</span> <span class="comment"># æ ¼å¼åŒ–å™¨id, è‡ªå®šä¹‰</span></span><br><span class="line">    <span class="attr">datefmt:</span> <span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">&#x27;%(asctime)s.%(msecs)03d|%(levelname)s|[%(process)d,%(thread)d]|[%(filename)s,%(lineno)d,%(funcName)s]|%(message)s&#x27;</span></span><br><span class="line">  <span class="attr">color:</span></span><br><span class="line">    <span class="comment"># ä½¿ç”¨ç‰¹æ®Šé”®&#x27;()&#x27;ä¼ å…¥æ ¼å¼åŒ–å™¨, ä¸‹é¢çš„é…ç½®ä¼šä½œä¸ºå‚æ•°ä¼ å…¥, åŒç†, å¤„ç†å™¨ã€è¿‡æ»¤å™¨ä¹Ÿæ”¯æŒè‡ªå®šä¹‰å¯¹è±¡</span></span><br><span class="line">    <span class="string">():</span> <span class="string">&#x27;colorlog.ColoredFormatter&#x27;</span> <span class="comment"># =&gt; colorlog.ColoredFormatter(**kwargs)</span></span><br><span class="line">    <span class="attr">datefmt:</span> <span class="string">&#x27;%m-%d %H:%M:%S&#x27;</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">&#x27;%(white)s%(asctime)s %(reset)s%(log_color)s[%(levelname)s %(process)d]%(reset)s %(cyan)s%(reset)s%(message)s&#x27;</span></span><br><span class="line">    <span class="attr">log_colors:</span></span><br><span class="line">      <span class="attr">DEBUG:</span> <span class="string">cyan</span></span><br><span class="line">      <span class="attr">INFO:</span> <span class="string">green</span></span><br><span class="line">      <span class="attr">WARNING:</span> <span class="string">yellow</span></span><br><span class="line">      <span class="attr">ERROR:</span> <span class="string">red</span></span><br><span class="line">      <span class="attr">CRITICAL:</span> <span class="string">bold_red</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤„ç†ç¨‹åº</span></span><br><span class="line"><span class="attr">handlers:</span></span><br><span class="line">  <span class="attr">console:</span></span><br><span class="line">    <span class="attr">class:</span> <span class="string">logging.StreamHandler</span> <span class="comment"># è¿™æ˜¯å¤„ç†ç¨‹åºç±»çš„å®Œæ•´åç§°</span></span><br><span class="line">    <span class="attr">formatter:</span> <span class="string">color</span>  <span class="comment"># å¤„ç†ç¨‹åºæ‰€å¯¹åº”æ ¼å¼åŒ–å™¨çš„ID</span></span><br><span class="line">    <span class="attr">level:</span> <span class="string">DEBUG</span>  <span class="comment"># å¤„ç†ç¨‹åºçš„çº§åˆ«</span></span><br><span class="line">    <span class="comment"># filters: [allow_foo]  # ç”±å¤„ç†ç¨‹åºæ‰€å¯¹åº”è¿‡æ»¤å™¨çš„ID ç»„æˆçš„åˆ—è¡¨</span></span><br><span class="line">  <span class="attr">file:</span></span><br><span class="line">    <span class="attr">class:</span> <span class="string">logging.handlers.RotatingFileHandler</span></span><br><span class="line">    <span class="attr">formatter:</span> <span class="string">file</span></span><br><span class="line">    <span class="attr">level:</span> <span class="string">INFO</span></span><br><span class="line">    <span class="attr">filename:</span> <span class="string">logconfig.log</span></span><br><span class="line">    <span class="attr">maxBytes:</span> <span class="number">52428800</span> <span class="comment"># 1024*1024*50</span></span><br><span class="line">    <span class="attr">backupCount:</span> <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥å¿—è®°å½•å™¨</span></span><br><span class="line"><span class="attr">loggers:</span></span><br><span class="line">  <span class="attr">my_logger:</span></span><br><span class="line">    <span class="comment"># level: ERROR # è¿™é‡Œçš„ä¼˜å…ˆçº§é«˜</span></span><br><span class="line">    <span class="attr">handlers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">console</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">file</span></span><br><span class="line">    <span class="comment"># æ‰“å¼€æ—¥å¿—è®°å½•å™¨</span></span><br><span class="line">    <span class="attr">propagate:</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹è®°å½•å™¨é…ç½®</span></span><br><span class="line"><span class="attr">root:</span></span><br><span class="line">  <span class="attr">level:</span> <span class="string">DEBUG</span></span><br><span class="line">  <span class="attr">handlers:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">consoleversion:</span> <span class="number">1</span></span><br><span class="line"><span class="comment"># å°†ä¿¡æ¯ä¼ æ’­åˆ°é…ç½®æ–‡ä»¶çš„è·Ÿæ—¥å¿—è®°å½•å™¨ä¸­</span></span><br><span class="line"><span class="attr">disable_existing_loggers:</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p><strong>ä»£ç éƒ¨åˆ†</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">import</span> logging.config</span><br><span class="line"></span><br><span class="line">LOG_CONF_DIR = <span class="string">r&#x27;config/log_conf.yml&#x27;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(file=LOG_CONF_DIR, mode=<span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    log_conf = yaml.load(stream=f, Loader=yaml.FullLoader)</span><br><span class="line"></span><br><span class="line">logging.config.dictConfig(config=log_conf)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ—¥å¿—è®°å½•å™¨</span></span><br><span class="line">logger = logging.getLogger(<span class="string">&#x27;my_logger&#x27;</span>)</span><br><span class="line"></span><br><span class="line">logger.debug(<span class="string">&#x27;æ‰¾bugä¸­...&#x27;</span>)</span><br><span class="line">logger.info(<span class="string">&#x27;ä¸€åˆ‡æ­£å¸¸~&#x27;</span>)</span><br><span class="line">logger.error(<span class="string">&#x27;æŠ¥é”™å•¦!!&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="è®°å½•æµç¨‹å›¾"><a href="#è®°å½•æµç¨‹å›¾" class="headerlink" title="è®°å½•æµç¨‹å›¾"></a>è®°å½•æµç¨‹å›¾</h2><blockquote>
<p>æœ‰ä¸ªå°è±¡(ï½ï¿£â–½ï¿£)ï½</p>
</blockquote>
<img data-src="http://img.owq.world/2021/11/2123-044c15.png" style="border-radius: 0px;" />



<hr>
<blockquote>
<p>æ—¥å¿—æ‡’äººåº“: <strong>loguru</strong> æ›´åŠ å¼ºå¤§æ›´ä¸ºæ˜“ç”¨ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0RlbGdhbi9sb2d1cnU=">ğŸšª</span></p>
</blockquote>
]]></content>
      <categories>
        <category>æŠ€æœ¯è®°å½•</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>YAML</tag>
        <tag>log</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker+Redis å®‰è£…é…ç½®</title>
    <url>/8be682ad/</url>
    <content><![CDATA[<h2 id="ä¸‹è½½åŒ…"><a href="#ä¸‹è½½åŒ…" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h2><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">docker pull redis</span></span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºæŒ‚è½½ç›®å½•"><a href="#åˆ›å»ºæŒ‚è½½ç›®å½•" class="headerlink" title="åˆ›å»ºæŒ‚è½½ç›®å½•"></a>åˆ›å»ºæŒ‚è½½ç›®å½•</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">mkdir -p <span class="regexp">/data/</span>db<span class="regexp">/redis &amp;&amp; mkdir -p /</span>data<span class="regexp">/config/</span>redis</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‹è½½é…ç½®æ–‡ä»¶"><a href="#ä¸‹è½½é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸‹è½½é…ç½®æ–‡ä»¶"></a>ä¸‹è½½é…ç½®æ–‡ä»¶</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">curl http:<span class="regexp">//</span>download.redis.io<span class="regexp">/redis-stable/</span>redis.conf &gt;&gt; <span class="regexp">/data/</span>db<span class="regexp">/redis/</span>redis.conf</span><br></pre></td></tr></table></figure>

<h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">vim <span class="regexp">/data/</span>db<span class="regexp">/redis/</span>redis.conf</span><br></pre></td></tr></table></figure>

<p>æ ¹æ®éœ€æ±‚ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<blockquote>
<p>å‚è€ƒèµ„æ–™ &gt; <span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC80MWYzOTNmNTk0ZTg=">ğŸšª</span></p>
</blockquote>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç›‘å¬ç«¯å£</span></span><br><span class="line"><span class="attribute">bind</span> <span class="number">127.0.0.1</span></span><br><span class="line"></span><br><span class="line">port <span class="number">6379</span></span><br><span class="line">requirepass ****</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¯å¦å¼€å¯ä¿æŠ¤æ¨¡å¼ï¼Œé»˜è®¤å¼€å¯ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®bindé¡¹å’Œrediså¯†ç çš„è¯ï¼ŒæœåŠ¡å°†åªå…è®¸æœ¬åœ°è®¿é—®ã€‚</span></span><br><span class="line">protected-mode <span class="literal">no</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®åº“ä¸ªæ•°</span></span><br><span class="line">databases <span class="number">16</span></span><br><span class="line"></span><br><span class="line">dir ./	<span class="comment"># è¾“å…¥æœ¬åœ°redisæ•°æ®åº“å­˜æ”¾æ–‡ä»¶å¤¹</span></span><br><span class="line"></span><br><span class="line">appendonly <span class="literal">yes</span> <span class="comment"># redisæŒä¹…åŒ–</span></span><br><span class="line"></span><br><span class="line">logfile <span class="string">&quot;redis.log&quot;</span> <span class="comment"># æ—¥å¿—æ–‡ä»¶å­˜æ”¾</span></span><br></pre></td></tr></table></figure>

<h2 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker run \</span><br><span class="line">-p 6379:6379 --name redis \</span><br><span class="line">-v /data/redis/redis.conf:/etc/redis/redis.conf \</span><br><span class="line">-v /data/redis/data:/data:rw \</span><br><span class="line">--privileged=<span class="literal">true</span> -d redis redis-server /etc/redis/redis.conf \</span><br><span class="line">--appendonly yes</span><br></pre></td></tr></table></figure>

<h2 id="éªŒè¯å¯åŠ¨"><a href="#éªŒè¯å¯åŠ¨" class="headerlink" title="éªŒè¯å¯åŠ¨"></a>éªŒè¯å¯åŠ¨</h2><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">docker ps</span></span><br></pre></td></tr></table></figure>

<h2 id="å¤±è´¥å¤„ç†"><a href="#å¤±è´¥å¤„ç†" class="headerlink" title="å¤±è´¥å¤„ç†"></a>å¤±è´¥å¤„ç†</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹é”™è¯¯æ—¥å¿—</span></span><br><span class="line">docker logs redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ redis æŒ‚è½½ç«¯å£æ˜ å°„ç­‰ä¿¡æ¯</span></span><br><span class="line">docker inspect redis</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ redis ç«¯å£æ˜ å°„</span></span><br><span class="line">docker port myredis</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤é‡è¯•</span></span><br><span class="line">docker rm redis</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>é…ç½®è®°å½•</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker+MongoDB å®‰è£…é…ç½®</title>
    <url>/d2633d2c/</url>
    <content><![CDATA[<h2 id="ä¸‹è½½åŒ…"><a href="#ä¸‹è½½åŒ…" class="headerlink" title="ä¸‹è½½åŒ…"></a>ä¸‹è½½åŒ…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker pull mongo</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºæŒ‚è½½ç›®å½•"><a href="#åˆ›å»ºæŒ‚è½½ç›®å½•" class="headerlink" title="åˆ›å»ºæŒ‚è½½ç›®å½•"></a>åˆ›å»ºæŒ‚è½½ç›®å½•</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">mkdir -p /data/db</span><br></pre></td></tr></table></figure>

<h2 id="è¿è¡Œå®¹å™¨"><a href="#è¿è¡Œå®¹å™¨" class="headerlink" title="è¿è¡Œå®¹å™¨"></a>è¿è¡Œå®¹å™¨</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker run -p 27017:27017 -v /data/mongo:/data/db --name mongo -d mongo --auth</span><br></pre></td></tr></table></figure>

<h2 id="è¿›å…¥å®¹å™¨"><a href="#è¿›å…¥å®¹å™¨" class="headerlink" title="è¿›å…¥å®¹å™¨"></a>è¿›å…¥å®¹å™¨</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it mongo mongo admin</span><br></pre></td></tr></table></figure>



<h2 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">db.createUser(&#123; user:<span class="string">&#x27;admin&#x27;</span>,<span class="built_in">pwd</span>:<span class="string">&#x27;****&#x27;</span>,roles:[ &#123; role:<span class="string">&#x27;userAdminAnyDatabase&#x27;</span>, db: <span class="string">&#x27;admin&#x27;</span>&#125;,<span class="string">&quot;readWriteAnyDatabase&quot;</span>]&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="è¿æ¥"><a href="#è¿æ¥" class="headerlink" title="è¿æ¥"></a>è¿æ¥</h2><figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">mongodb:</span>//admin:admin<span class="subst">@127</span><span class="number">.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">27017</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>é…ç½®è®°å½•</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Mongo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo + Nginx æœåŠ¡å™¨éƒ¨ç½²è¸©å‘è®°å½•</title>
    <url>/e823826f/</url>
    <content><![CDATA[<blockquote>
<p>Hexo éƒ¨ç½²æ–¹å¼æœ‰å¾ˆå¤š, è¿™é‡Œé€‰æ‹©æ˜¯é»˜è®¤çš„ Git ä¸€é”®éƒ¨ç½²æ–¹å¼.<br>å‰ææ¡ä»¶: æ­å»ºå¥½çš„ Hexo æœ¬åœ°ç¯å¢ƒ, å…·æœ‰å…¬ç½‘IPçš„æœåŠ¡å™¨, å…·å¤‡sshçŸ¥è¯†.</p>
</blockquote>
<h2 id="ç›¸å…³èµ„æ–™"><a href="#ç›¸å…³èµ„æ–™" class="headerlink" title="ç›¸å…³èµ„æ–™"></a>ç›¸å…³èµ„æ–™</h2><ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3poLWNuL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudA==">å®˜æ–¹æ–‡æ¡£</span> ï¼ˆç”¨å¤„è¾ƒå°ï¼‰</li>
<li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvLWRlcGxveWVyLWdpdA==">éƒ¨ç½²æ’ä»¶</span> ï¼ˆè‡ªå®šä¹‰é…ç½®ä¼šç”¨åˆ°ï¼‰</li>
</ul>
<h2 id="æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡"><a href="#æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡" class="headerlink" title="æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡"></a>æœåŠ¡å™¨ç¯å¢ƒå‡†å¤‡</h2><h3 id="å®‰è£…-git-å’Œ-Nginx"><a href="#å®‰è£…-git-å’Œ-Nginx" class="headerlink" title="å®‰è£… git å’Œ Nginx"></a>å®‰è£… git å’Œ Nginx</h3><ul>
<li><p>git<br>ç”¨æ¥æ¥æ”¶ä½ çš„ç½‘ç«™æ–‡ä»¶æ¨é€çš„ï¼Œæ˜¯å®ç°ä¸€é”®éƒ¨ç½²çš„å…³é”®ã€‚</p>
</li>
<li><p>Nginx<br>ä¸€æ¬¾åå‘ä»£ç†ç½‘é¡µæœåŠ¡å™¨ï¼Œè®©ä½ çš„ç½‘ç«™å¾—ä»¥è¢«å¤–éƒ¨è®¿é—®çš„å…³é”®ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Ubuntu</span></span><br><span class="line">apt install git nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># CentOS</span></span><br><span class="line">yum install -y git nginx</span><br></pre></td></tr></table></figure>



<h3 id="åˆ›å»ºä¸€ä¸ª-git-ç”¨æˆ·-å¯é€‰"><a href="#åˆ›å»ºä¸€ä¸ª-git-ç”¨æˆ·-å¯é€‰" class="headerlink" title="åˆ›å»ºä¸€ä¸ª git ç”¨æˆ·(å¯é€‰)"></a>åˆ›å»ºä¸€ä¸ª git ç”¨æˆ·(å¯é€‰)</h3><p>åˆ›å»ºä¸“é—¨ç”¨æ¥ç®¡ç†Gitä»“åº“çš„ç”¨æˆ·ï¼Œä¸»è¦æ˜¯ä¸ºäº†æƒé™ç®¡ç†ï¼Œå¯å‚è€ƒ<span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS9ib29rL2VuL3YyL0dpdC1vbi10aGUtU2VydmVyLVNldHRpbmctVXAtdGhlLVNlcnZlcg==">å®˜æ–¹æ–‡æ¡£</span></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adduser git</span><br></pre></td></tr></table></figure>

<h3 id="å¯ç”¨git-shell-å¯é€‰"><a href="#å¯ç”¨git-shell-å¯é€‰" class="headerlink" title="å¯ç”¨git shell(å¯é€‰)"></a>å¯ç”¨<code>git shell</code>(å¯é€‰)</h3><p>æŸ¥çœ‹git-shellæ˜¯å¦å­˜åœ¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cat /etc/shells</span><br></pre></td></tr></table></figure>

<p>ä¸å­˜åœ¨åˆ™æ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹git-shellè·¯å¾„ é»˜è®¤ï¼š/usr/bin/git-shell</span></span><br><span class="line"><span class="built_in">which</span> git-shell</span><br><span class="line"><span class="comment"># æŠŠè·¯å¾„æ·»åŠ åˆ°shellsæ–‡ä»¶é‡Œ</span></span><br><span class="line">sudo vim /etc/shells</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹gitç”¨æˆ·é»˜è®¤shell</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo chsh git -s $(<span class="built_in">which</span> git-shell)</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•sshè¿æ¥ï¼Œç™»å½•ä¸æˆåŠŸå³é…ç½®ok</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">ssh <span class="symbol">git@<span class="keyword">&lt;IPåœ°å€&gt;</span></span></span><br></pre></td></tr></table></figure>



<h3 id="é…ç½®sshå…¬é’¥"><a href="#é…ç½®sshå…¬é’¥" class="headerlink" title="é…ç½®sshå…¬é’¥"></a>é…ç½®sshå…¬é’¥</h3><p>ç”¨æˆ·ç›®å½•ä¸‹åˆ›å»º <code>.ssh</code> æ–‡ä»¶å¤¹å¹¶è®¾ç½®æƒé™ä¸º 700</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨gitç”¨æˆ·éœ€è¦è¿›è¡Œåˆ‡æ¢</span></span><br><span class="line">su git</span><br><span class="line"></span><br><span class="line">mkdir ~/.ssh &amp;&amp; chmod 700 ~/.ssh</span><br></pre></td></tr></table></figure>

<p>åˆ›å»º <code>authorized_keys </code> æ–‡ä»¶, å°†æœ¬æœºå…¬é’¥å¤åˆ¶åˆ°é‡Œé¢.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹æƒé™</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod 600 ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>



<h3 id="åˆ›å»ºç›¸å…³ç›®å½•"><a href="#åˆ›å»ºç›¸å…³ç›®å½•" class="headerlink" title="åˆ›å»ºç›¸å…³ç›®å½•"></a>åˆ›å»ºç›¸å…³ç›®å½•</h3><p>åˆ›å»ºå­˜æ”¾Blogçš„gitä»“åº“</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir /var/repo &amp;&amp; <span class="built_in">cd</span> /var/repo</span><br><span class="line">git init --bare blog.git</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºå­˜æ”¾ç½‘ç«™é™æ€æ–‡ä»¶çš„ç›®å½•</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mkdir /var/www/hexo</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®ç›®å½•æƒé™</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chown -R git:git /var/www/hexo</span><br><span class="line">chmod -R 755 /var/www/hexo</span><br></pre></td></tr></table></figure>

<p><em>PS:ä»“åº“å<code>blog.git</code>ã€é™æ€æ–‡ä»¶ç›®å½•<code>hoxo</code>å¯è‡ªå®šä¹‰</em></p>
<h3 id="æ·»åŠ post-receiveé’©å­"><a href="#æ·»åŠ post-receiveé’©å­" class="headerlink" title="æ·»åŠ post-receiveé’©å­"></a>æ·»åŠ <code>post-receive</code>é’©å­</h3><blockquote>
<p>å®˜æ–¹å‚è€ƒæ–‡æ¡£ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS9ib29rL3poL3YyLyVFOCU4NyVBQSVFNSVBRSU5QSVFNCVCOSU4OS1HaXQtR2l0LSVFOSU5MiVBOSVFNSVBRCU5MA==">ğŸšª</span></p>
</blockquote>
<p>åœ¨ä»“åº“ä¸‹çš„ <code>hooks</code> ç›®å½•åˆ›å»º <code>post-receive</code> æ–‡ä»¶</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">vim <span class="regexp">/var/</span>repo<span class="regexp">/blog.git/</span>hooks/post-receive</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ä»¥ä¸‹å†…å®¹, è¿™ä¸ªé’©å­ä¼šåœ¨ä½ æœ¬åœ°æ›´æ–°æ¨é€åˆ°æœåŠ¡å™¨å®Œæˆåæ‰§è¡Œ, æ›´æ–°ä½ çš„ç½‘ç«™å†…å®¹ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">git --work-tree=/var/www/hexo --git-dir=/var/repo/blog.git checkout -f</span><br></pre></td></tr></table></figure>

<p>é…ç½®æƒé™</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/repo/blog.git/hooks/</span><br><span class="line">chown -R git:git /var/repo/</span><br><span class="line">chown -R git:git /var/www/hexo</span><br><span class="line">chmod +x post-receive</span><br></pre></td></tr></table></figure>



<h3 id="æ£€æµ‹ä»“åº“æ˜¯å¦é…ç½®æˆåŠŸ"><a href="#æ£€æµ‹ä»“åº“æ˜¯å¦é…ç½®æˆåŠŸ" class="headerlink" title="æ£€æµ‹ä»“åº“æ˜¯å¦é…ç½®æˆåŠŸ"></a>æ£€æµ‹ä»“åº“æ˜¯å¦é…ç½®æˆåŠŸ</h3><p>èƒ½æˆåŠŸå…‹éš†åˆ™ä»£è¡¨é…ç½®æ­£ç¡®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> &lt;ä½¿ç”¨çš„ç”¨æˆ·å&gt;@&lt;ä½ çš„æœåŠ¡å™¨IP&gt;:/var/repo/blog.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾‹å­</span></span><br><span class="line">git <span class="built_in">clone</span> git@8.8.8.8:/var/repo/blog.git</span><br></pre></td></tr></table></figure>



<h3 id="é…ç½®Nginx"><a href="#é…ç½®Nginx" class="headerlink" title="é…ç½®Nginx"></a>é…ç½®Nginx</h3><p>è¿™é‡Œä¿®æ”¹ä¸‹Nginxçš„é»˜è®¤ç«™ç‚¹é…ç½®</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/nginx/</span><br><span class="line">vim sites-enabled/default</span><br></pre></td></tr></table></figure>

<p>é‡Œé¢é•¿è¿™æ · â†“<br><img data-src="http://img.owq.world/2021/11/2122-11343b.png"  /></p>
<p>è¿™é‡Œä¿®æ”¹rootç½‘ç«™æ ¹ç›®å½•å°±è¡Œäº†ï¼Œå…¶å®ƒå¯ä»¥ä¿æŒä¸åŠ¨</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">root /var/www/hexo;</span><br></pre></td></tr></table></figure>

<h3 id="å¯é€‰é…ç½®"><a href="#å¯é€‰é…ç½®" class="headerlink" title="å¯é€‰é…ç½®"></a>å¯é€‰é…ç½®</h3><p><code>server_name _;</code> ä¸€è¡Œè¡¨ç¤ºå…¨åŒ¹é…ï¼Œåªè¦è®¿é—®æœåŠ¡å™¨ï¼Œéƒ½ä¼šç›´æ¥è½¬å‘åˆ°å½“å‰<code>server</code>ä¸‹ï¼Œæœ‰åŸŸååå¯ä»¥è®¾ç½®ä¸ºåŸŸåï¼Œç„¶åé…ç½®<code>ä¸å…è®¸ipè®¿é—®</code>ï¼Œè¿™æ ·å¯ä»¥é¿å…å…¶ä»–äººæŠŠæœªå¤‡æ¡ˆçš„åŸŸåè§£æåˆ°è‡ªå·±çš„æœåŠ¡å™¨ IPï¼Œè€Œå¯¼è‡´æœåŠ¡å™¨è¢«æ–­ç½‘ã€‚(å¦‚æœä½ æ²¡å¤‡æ¡ˆå°±è§£æåŸŸåäº†ï¼Œé‚£ç°åœ¨å°±è¯¥çŸ¥é“æœåŠ¡å™¨ç™»ä¸äº†çš„åŸå› äº†ğŸ¤£)</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„ï¼šä»¥ä¸‹å†…å®¹å¯ä»¥åœ¨defaultæ–‡ä»¶ä¸­ä¿®æ”¹ï¼Œä¸è¿‡æ¨èå…ˆäº†è§£Nginxç„¶åå†é…ç½®ä¸ºå¦™ã€‚</span></span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    <span class="comment">// æ–°å¢serverï¼Œè®¾ç½®ä¸å…è®¸Ipè®¿é—®web(default_server)</span></span><br><span class="line">    server &#123;</span><br><span class="line">        listen 80 default_server;</span><br><span class="line">        server_name _;</span><br><span class="line">        return 403;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŸæœ‰defaultï¼Œè®¾ç½®www.you.comåŸŸåè®¿é—®web</span></span><br><span class="line">    server &#123;</span><br><span class="line">        listen 80;</span><br><span class="line">        server_name www.you.com;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–°å¢serverï¼Œè®¾ç½®é¡¶çº§åŸŸåyou.comé‡å®šå‘</span></span><br><span class="line">    server &#123;</span><br><span class="line">       listen 80;</span><br><span class="line">       server_name you.com;</span><br><span class="line">       return 301 http:<span class="comment">//www.you.com$request_uri;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>æ£€æŸ¥é…ç½®ç„¶åé‡è½½<code>Nginx</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nginx -t	<span class="comment"># æ£€æŸ¥é…ç½®</span></span><br><span class="line">nginx -s reload	<span class="comment"># é‡è½½é…ç½®</span></span><br></pre></td></tr></table></figure>



<h2 id="æœ¬åœ°éƒ¨ç½²é…ç½®"><a href="#æœ¬åœ°éƒ¨ç½²é…ç½®" class="headerlink" title="æœ¬åœ°éƒ¨ç½²é…ç½®"></a>æœ¬åœ°éƒ¨ç½²é…ç½®</h2><blockquote>
<p>éƒ¨ç½²æ’ä»¶é¡¹ç›® -&gt; <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvLWRlcGxveWVyLWdpdA==">ğŸšª</span></p>
</blockquote>
<p><strong>ä¿®æ”¹ç«™ç‚¹ç›®å½•ä¸‹<code>_config.yml</code>æ–‡ä»¶</strong></p>
<h3 id="å•ä¸ªå­˜å‚¨éƒ¨ç½²é…ç½®"><a href="#å•ä¸ªå­˜å‚¨éƒ¨ç½²é…ç½®" class="headerlink" title="å•ä¸ªå­˜å‚¨éƒ¨ç½²é…ç½®"></a>å•ä¸ªå­˜å‚¨éƒ¨ç½²é…ç½®</h3><figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repo:</span> git@x.x.x.x:<span class="meta-keyword">/var/</span>repo/blog.git</span><br></pre></td></tr></table></figure>

<h3 id="å¤šä¸ªå­˜å‚¨åº“éƒ¨ç½²é…ç½®ï¼ˆå¯é€‰ï¼‰"><a href="#å¤šä¸ªå­˜å‚¨åº“éƒ¨ç½²é…ç½®ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="å¤šä¸ªå­˜å‚¨åº“éƒ¨ç½²é…ç½®ï¼ˆå¯é€‰ï¼‰"></a>å¤šä¸ªå­˜å‚¨åº“éƒ¨ç½²é…ç½®ï¼ˆå¯é€‰ï¼‰</h3><p>è¿™é‡ŒåŒæ—¶å¯¹githubå’ŒæœåŠ¡å™¨è¿›è¡ŒåŒæ­¥ï¼Œå¯ä»¥ç”¨æ¥åº”ä»˜ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚ï¼šæœåŠ¡å™¨æŒ‚äº†ã€å°äº†ä»€ä¹ˆçš„ã€‚</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repo:</span></span><br><span class="line"><span class="symbol">    server:</span> <span class="meta"># åç§°å¯è‡ªå®šä¹‰</span></span><br><span class="line"><span class="symbol">      url:</span> git@x.x.x.x:<span class="meta-keyword">/var/</span>repo/blog.git</span><br><span class="line"><span class="symbol">      branch:</span> master</span><br><span class="line"><span class="symbol">    git:</span></span><br><span class="line"><span class="symbol">      url:</span> git@github.com:owq/owq.github.io.git</span><br><span class="line"><span class="symbol">      branch:</span> main</span><br></pre></td></tr></table></figure>



<h2 id="éƒ¨ç½²åˆ°æœåŠ¡å™¨"><a href="#éƒ¨ç½²åˆ°æœåŠ¡å™¨" class="headerlink" title="éƒ¨ç½²åˆ°æœåŠ¡å™¨"></a>éƒ¨ç½²åˆ°æœåŠ¡å™¨</h2><p>æœ¬åœ°æ“ä½œ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¸…é™¤ç¼“å­˜</span></span><br><span class="line">hexo clean</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€é”®éƒ¨ç½²</span></span><br><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æµè§ˆå™¨è¾“å…¥æœåŠ¡å™¨IP,èƒ½æ­£å¸¸è®¿é—®å°±æˆåŠŸäº†</p>
</blockquote>
]]></content>
      <categories>
        <category>æŠ€æœ¯è®°å½•</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Nginx</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¼˜é›…çš„ä½¿ç”¨WSL2-Kaliæ¡Œé¢ç¯å¢ƒ</title>
    <url>/202281bd/</url>
    <content><![CDATA[<blockquote>
<p>Win-KeXå®˜æ–¹æ–‡æ¡£ -&gt; <span class="exturl" data-url="aHR0cHM6Ly93d3cua2FsaS5vcmcvZG9jcy93c2wvd2luLWtleC8=">ğŸšª</span></p>
</blockquote>
<h2 id="å®‰è£…win-kex"><a href="#å®‰è£…win-kex" class="headerlink" title="å®‰è£…win-kex"></a>å®‰è£…win-kex</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install kali-win-kex</span><br></pre></td></tr></table></figure>

<h2 id="å¯åŠ¨Win-Kex"><a href="#å¯åŠ¨Win-Kex" class="headerlink" title="å¯åŠ¨Win-Kex"></a>å¯åŠ¨Win-Kex</h2><blockquote>
<p>Win-KeX æœ‰ä¸‰ç§å¯åŠ¨æ¨¡å¼</p>
</blockquote>
<ul>
<li><p>çª—å£æ¨¡å¼<br>åœ¨ä¸“ç”¨çª—å£ä¸­å¯åŠ¨ Kali Linux æ¡Œé¢.</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kex --win -s	</span><br></pre></td></tr></table></figure></li>
<li><p>è¿œç¨‹è¿æ¥ï¼ˆæ¨èï¼‰<br>å¾®è½¯è‡ªå¸¦çš„è¿œç¨‹æ¡Œé¢å·¥å…·ï¼Œç”¨è¿‡çš„éƒ½è¯´å¥½~</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kex --esm --ip -s</span><br></pre></td></tr></table></figure></li>
<li><p>æ— ç¼æ¨¡å¼<br>åœ¨ Windows å’Œ Kali åº”ç”¨ç¨‹åºå’Œèœå•ä¹‹é—´å…±äº« Windows æ¡Œé¢.</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">kex <span class="comment">--sl -s</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><em>æ³¨: åé¢å‚æ•°<code>-s</code>æ˜¯å¯åŠ¨å£°éŸ³æ”¯æŒ.</em></p>
<h2 id="é«˜åˆ†å±ä¸‹çš„ä½¿ç”¨"><a href="#é«˜åˆ†å±ä¸‹çš„ä½¿ç”¨" class="headerlink" title="é«˜åˆ†å±ä¸‹çš„ä½¿ç”¨"></a>é«˜åˆ†å±ä¸‹çš„ä½¿ç”¨</h2><blockquote>
<p>å®˜æ–¹æ–‡æ¡£ -&gt; <span class="exturl" data-url="aHR0cHM6Ly93d3cua2FsaS5vcmcvZG9jcy9nZW5lcmFsLXVzZS9oaWRwaS8=">ğŸšª</span></p>
</blockquote>
<p>èœå•æœç´¢<code>hidpi</code>, æ‰“å¼€å®ƒ</p>
<p><img data-src="http://img.owq.world/2021/11/2110-eb457c.png"></p>
<p>é»˜è®¤ç¼©æ”¾2X, ç‚¹å‡»<code>æ˜¯</code>ç¡®è®¤, ç„¶åå¼€å§‹æ„‰å¿«çš„Linuxä¹‹æ—…å§~</p>
<p><img data-src="http://img.owq.world/2021/11/2110-542567.png"></p>
<p><em>æ³¨:å¦‚æœè¦è‡ªå®šä¹‰ç¼©æ”¾å› å­è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£</em></p>
<h2 id="å¿«æ·å¯åŠ¨"><a href="#å¿«æ·å¯åŠ¨" class="headerlink" title="å¿«æ·å¯åŠ¨"></a>å¿«æ·å¯åŠ¨</h2><ul>
<li>æ·»åŠ åˆ°<code>Windows Termial</code>å¯åŠ¨</li>
</ul>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;guid&quot;</span>: <span class="string">&quot;&#123;576cd4fd-d6e2-4b99-9305-2e03a898af04&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;hidden&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Win-KeX&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;commandline&quot;</span>: <span class="string">&quot;wsl -d kali-linux kex --esm --wtstart -s&quot;</span>,</span><br><span class="line">&#125;ï¼Œ</span><br></pre></td></tr></table></figure>

<ul>
<li>è®¾ç½®å‘½ä»¤åˆ«å</li>
</ul>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">alias</span> winkex=<span class="string">&#x27;kex --esm --ip -s&#x27;</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>é…ç½®è®°å½•</category>
      </categories>
      <tags>
        <tag>WSL2</tag>
        <tag>Kali Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>WSL2 å®‰è£…é…ç½®</title>
    <url>/1fe3c459/</url>
    <content><![CDATA[<h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><blockquote>
<p>WSL1 å‡çº§ WSL2 å®˜æ–¹æ–‡æ¡£ä¼ é€é—¨ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvd2luZG93cy93c2wvaW5zdGFsbC13aW4xMA==">ğŸšª</span></p>
</blockquote>
<p><code>Win+S</code> æœç´¢, ç”¨<strong>ç®¡ç†å‘˜æƒé™</strong>è¿è¡Œ<code>Windows PowerShell</code>, æˆ–ä½¿ç”¨<code>Win+X</code>æ‰“å¼€èœå•è¿è¡Œé€‰æ‹©<code>Windows PowerShell</code>.</p>
<p>ps:æ¥æ¥çš„å‘½ä»¤éƒ½æ˜¯åœ¨è¿™ä¸ªç»ˆç«¯ä¸Šæ‰§è¡Œ.</p>
<img data-src="http://img.owq.world/2021/11/2125-658665.png" style="zoom:50%;" />

<ol>
<li><h3 id="å¯ç”¨-WSL-å­ç³»ç»Ÿ"><a href="#å¯ç”¨-WSL-å­ç³»ç»Ÿ" class="headerlink" title="å¯ç”¨ WSL å­ç³»ç»Ÿ"></a>å¯ç”¨ WSL å­ç³»ç»Ÿ</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">dism.exe /online /<span class="built_in">enable-feature</span> /featurename:Microsoft<span class="literal">-Windows</span><span class="literal">-Subsystem</span><span class="literal">-Linux</span> /all /norestart</span><br></pre></td></tr></table></figure></li>
<li><h3 id="å¯ç”¨è™šæ‹ŸæœºåŠŸèƒ½"><a href="#å¯ç”¨è™šæ‹ŸæœºåŠŸèƒ½" class="headerlink" title="å¯ç”¨è™šæ‹ŸæœºåŠŸèƒ½"></a>å¯ç”¨è™šæ‹ŸæœºåŠŸèƒ½</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">dism.exe /online /<span class="built_in">enable-feature</span> /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure>

<p>åˆ°äº†è¿™ä¸€æ­¥è¦ <strong>é‡å¯è®¡ç®—æœº</strong> è¿›è¡Œåº”ç”¨(æ›´æ–°)</p>
</li>
<li><h3 id="ä¸‹è½½-Linux-å†…æ ¸æ›´æ–°åŒ…"><a href="#ä¸‹è½½-Linux-å†…æ ¸æ›´æ–°åŒ…" class="headerlink" title="ä¸‹è½½ Linux å†…æ ¸æ›´æ–°åŒ…"></a>ä¸‹è½½ Linux å†…æ ¸æ›´æ–°åŒ…</h3><p><strong>é€‰æ‹©è‡ªå·±è®¡ç®—æœºå†…æ ¸æ¶æ„å¯¹åº”çš„åŒ…</strong>, ä¸€èˆ¬ä¸ºæ¶æ„æ˜¯64ä½ä¹Ÿå°±æ˜¯x64.</p>
<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly93c2xzdG9yZXN0b3JhZ2UuYmxvYi5jb3JlLndpbmRvd3MubmV0L3dzbGJsb2Ivd3NsX3VwZGF0ZV94NjQubXNp">x64æ›´æ–°åŒ…</span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly93c2xzdG9yZXN0b3JhZ2UuYmxvYi5jb3JlLndpbmRvd3MubmV0L3dzbGJsb2Ivd3NsX3VwZGF0ZV9hcm02NC5tc2k=">ARM64æ›´æ–°åŒ…</span></li>
</ul>
</li>
<li><h3 id="å°†-WSL-2-è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬"><a href="#å°†-WSL-2-è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬" class="headerlink" title="å°† WSL 2 è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬"></a>å°† WSL 2 è®¾ç½®ä¸ºé»˜è®¤ç‰ˆæœ¬</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">wsl -<span class="literal">-set</span><span class="literal">-default</span><span class="literal">-version</span> <span class="number">2</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="å®‰è£…-WSL"><a href="#å®‰è£…-WSL" class="headerlink" title="å®‰è£… WSL"></a>å®‰è£… WSL</h2><p>å®‰è£…å­ç³»ç»Ÿæ–¹å¼æœ‰ä¸‰, å¯æ ¹æ®ä¸ªäººå–œå¥½é€‰æ‹©.</p>
<ul>
<li><h3 id="å¾®è½¯å•†åº—æœç´¢å®‰è£…-æ¨è"><a href="#å¾®è½¯å•†åº—æœç´¢å®‰è£…-æ¨è" class="headerlink" title="å¾®è½¯å•†åº—æœç´¢å®‰è£…(æ¨è)"></a>å¾®è½¯å•†åº—æœç´¢å®‰è£…(æ¨è)</h3><ul>
<li><code>Win + S</code> æœç´¢æ‰“å¼€ <code>Microsoft Store</code> æœç´¢ Linux æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬å®‰è£…å³å¯.</li>
</ul>
</li>
<li><h3 id="æ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…å®‰è£…"><a href="#æ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…å®‰è£…" class="headerlink" title="æ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…å®‰è£…"></a>æ‰‹åŠ¨ä¸‹è½½å®‰è£…åŒ…å®‰è£…</h3><ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vemgtY24vd2luZG93cy93c2wvaW5zdGFsbC1tYW51YWwjZG93bmxvYWRpbmctZGlzdHJpYnV0aW9ucw==">å®˜æ–¹ä¸‹è½½åœ°å€</span></li>
<li>å…¶å®ƒLinuxåœ°å€<ul>
<li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3l1azcvQXJjaFdTTA==">ArchWSL</span></li>
</ul>
</li>
</ul>
</li>
<li><h3 id="å‘½ä»¤è¡Œå®‰è£…"><a href="#å‘½ä»¤è¡Œå®‰è£…" class="headerlink" title="å‘½ä»¤è¡Œå®‰è£…"></a>å‘½ä»¤è¡Œå®‰è£…</h3><p>ä¸åŒå‘è¡Œç‰ˆå®‰è£…å‘½ä»¤, ä½¿ç”¨<code>PowerShell</code>æ‰§è¡Œ, é“¾æ¥ä¸ºåŒ…é“¾æ¥.</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Kali Linux</span></span><br><span class="line"><span class="built_in">Invoke-WebRequest</span> <span class="literal">-Uri</span> https://aka.ms/wsl<span class="literal">-kali</span><span class="literal">-linux</span><span class="literal">-new</span> <span class="literal">-OutFile</span> Ubuntu.appx <span class="literal">-UseBasicParsing</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ubuntu 20.04</span></span><br><span class="line"><span class="built_in">Invoke-WebRequest</span> <span class="literal">-Uri</span> https://aka.ms/wslubuntu2004 <span class="literal">-OutFile</span> Ubuntu.appx <span class="literal">-UseBasicParsing</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="WSL-ä½ç½®ç§»åŠ¨-å¯é€‰"><a href="#WSL-ä½ç½®ç§»åŠ¨-å¯é€‰" class="headerlink" title="WSL ä½ç½®ç§»åŠ¨(å¯é€‰)"></a>WSL ä½ç½®ç§»åŠ¨(å¯é€‰)</h2><blockquote>
<p>è¿™é‡Œä½¿ç”¨LxRunOfflineå·¥å…·è¿›è¡Œç§»åŠ¨ ä¸‹è½½ä¼ é€é—¨ -&gt;  <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0REb1NvbGl0YXJ5L0x4UnVuT2ZmbGluZS9yZWxlYXNlcw==">ğŸšª</span></p>
</blockquote>
<p>å¦‚æœæ‹…å¿ƒCç›˜ç©ºé—´ä¸å¤Ÿå¯ä»¥æŠŠWSLçš„å®‰è£…ä½ç½®ç§»åŠ¨åˆ°å…¶å®ƒç›˜.</p>
<p>ä¸‹è½½è§£å‹å‹ç¼©åŒ…å, åœ¨è§£å‹ç›®å½•å¤„æ‰“å¼€å‘½ä»¤è¡Œ, å°±å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤äº†.</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å·²å®‰è£… wsl åç§°</span></span><br><span class="line">wsl <span class="literal">-l</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»åŠ¨ wsl åˆ°æŒ‡å®šç›®å½•</span></span><br><span class="line">lxrunoffline m <span class="literal">-n</span> &lt;wsl<span class="literal">-name</span>&gt; <span class="literal">-d</span> &lt;<span class="built_in">dir</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹</span></span><br><span class="line">lxrunoffline m <span class="literal">-n</span> docker<span class="literal">-desktop</span> <span class="literal">-d</span> D:\OWQ\Docker\wsl\distro</span><br><span class="line">lxrunoffline m <span class="literal">-n</span> docker<span class="literal">-desktop</span><span class="literal">-data</span> <span class="literal">-d</span> D:\OWQ\Docker\wsl\data</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹wslè·¯å¾„</span></span><br><span class="line">lxrunoffline di <span class="literal">-n</span> docker<span class="literal">-desktop</span></span><br><span class="line">lxrunoffline di <span class="literal">-n</span> docker<span class="literal">-desktop</span><span class="literal">-data</span></span><br></pre></td></tr></table></figure>



<h2 id="WSL-2-ä¼˜åŒ–é…ç½®-å¯é€‰"><a href="#WSL-2-ä¼˜åŒ–é…ç½®-å¯é€‰" class="headerlink" title="WSL 2 ä¼˜åŒ–é…ç½®(å¯é€‰)"></a>WSL 2 ä¼˜åŒ–é…ç½®(å¯é€‰)</h2><blockquote>
<p>é…ç½®æ–‡æ¡£å®˜æ–¹ä¼ é€é—¨ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvd2luZG93cy93c2wvd3NsLWNvbmZpZyNjb25maWd1cmUtZ2xvYmFsLW9wdGlvbnMtd2l0aC13c2xjb25maWc=">ğŸšª</span></p>
</blockquote>
<h3 id="å†…å­˜é…ç½®"><a href="#å†…å­˜é…ç½®" class="headerlink" title="å†…å­˜é…ç½®"></a>å†…å­˜é…ç½®</h3><p>WSL2å†…å­˜å ç”¨é«˜çš„é—®é¢˜è‡³ä»Šå­˜åœ¨ï¼Œä¿®æ”¹Windowsä½äºç”¨æˆ·ç›®å½•<code>%home%</code>ä¸‹çš„<code>.wslconfig</code>æ–‡ä»¶ï¼Œè‹¥æ²¡æœ‰åˆ™è‡ªå·±åˆ›å»ºä¸€ä¸ª.</p>
<p>ps:ç›´æ¥åœ¨èµ„æºç®¡ç†å™¨è¾“å…¥<code>%home%</code>æŒ‰å›è½¦å°±å¯è·³è½¬, è‹¥å‡ºé”™åˆ™æ˜¯ç”µè„‘ç¯å¢ƒå˜é‡æ²¡æœ‰é…ç½®å¥½</p>
<img data-src="http://img.owq.world/2021/11/2125-5f3eaf.png" style="zoom:50%;" />

<h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>ä¸»è¦é…ç½®å†…å­˜å’Œäº¤æ¢å†…å­˜, å…¶å®ƒå¯ä»¥ä¸ç”¨ç®¡, çœ‹è‡ªå·±ç”µè„‘é…ç½®è®¾ç½®.</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="section">[wsl2]</span></span><br><span class="line"><span class="comment"># ç»™ WSL 2 è™šæ‹Ÿæœºåˆ†é…çš„å†…å­˜å¤§å° (é»˜è®¤ä¸ºæœ¬æœºå†…å­˜çš„50%ï¼‰</span></span><br><span class="line"><span class="attr">memory</span>=<span class="number">8</span>GB</span><br><span class="line"><span class="comment"># ä¸º WSL 2 è™šæ‹Ÿæœºåˆ†é…çš„äº¤æ¢ç©ºé—´ (0 è¡¨ç¤ºæ²¡æœ‰äº¤æ¢ç©ºé—´, ä¸€èˆ¬è®¾ç½®ä¸ºæœ¬æœºå†…å­˜çš„25%)</span></span><br><span class="line"><span class="attr">swap</span>=<span class="number">0</span></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰äº¤æ¢è™šæ‹Ÿç£ç›˜ vhd çš„ç»å¯¹è·¯å¾„ (å¯é€‰é…ç½®)</span></span><br><span class="line"><span class="attr">swapFile</span>=&lt;path&gt;</span><br><span class="line"><span class="comment"># æ˜¯å¦å…è®¸å°† WSL 2 çš„ç«¯å£è½¬å‘åˆ°ä¸»æœºï¼ˆé»˜è®¤ä¸º trueï¼‰</span></span><br><span class="line"><span class="attr">localhostForwarding</span>=<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>é…ç½®å¥½æ–‡ä»¶åéœ€è¦å…³é—­WSLé‡æ–°è¿›å…¥æ‰ä¼šç”Ÿæ•ˆ.</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">wsl -<span class="literal">-shutdown</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å…¥é—¨æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>WSL</tag>
      </tags>
  </entry>
  <entry>
    <title>zsh + oh-my-zsh ç®€æ˜“é…ç½®</title>
    <url>/4bfebac1/</url>
    <content><![CDATA[<h2 id="å®‰è£…zsh"><a href="#å®‰è£…zsh" class="headerlink" title="å®‰è£…zsh"></a>å®‰è£…zsh</h2><p>ä½¿ç”¨ç³»ç»Ÿå¯¹åº”çš„åŒ…ç®¡ç†å™¨å®‰è£…</p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">apt <span class="keyword">install</span> zsh</span><br></pre></td></tr></table></figure>


<h2 id="å®‰è£…oh-my-zsh"><a href="#å®‰è£…oh-my-zsh" class="headerlink" title="å®‰è£…oh-my-zsh"></a>å®‰è£…oh-my-zsh</h2><table>
<thead>
<tr>
<th>Method</th>
<th>Command</th>
</tr>
</thead>
<tbody><tr>
<td><strong>curl</strong></td>
<td>sh -c &quot;$(curl -fsSL <span class="exturl" data-url="aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL29obXl6c2gvb2hteXpzaC9tYXN0ZXIvdG9vbHMvaW5zdGFsbC5zaCkmcXVvdDs=">https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span></td>
</tr>
<tr>
<td><strong>wget</strong></td>
<td>sh -c &quot;$(wget -O- <span class="exturl" data-url="aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL29obXl6c2gvb2hteXpzaC9tYXN0ZXIvdG9vbHMvaW5zdGFsbC5zaCkmcXVvdDs=">https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span></td>
</tr>
<tr>
<td><strong>fetch</strong></td>
<td>sh -c &quot;$(fetch -o - <span class="exturl" data-url="aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL29obXl6c2gvb2hteXpzaC9tYXN0ZXIvdG9vbHMvaW5zdGFsbC5zaCkmcXVvdDs=">https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span></td>
</tr>
</tbody></table>
<h2 id="è¿æ¥è¢«å¢™é—®é¢˜"><a href="#è¿æ¥è¢«å¢™é—®é¢˜" class="headerlink" title="è¿æ¥è¢«å¢™é—®é¢˜"></a>è¿æ¥è¢«å¢™é—®é¢˜</h2><h3 id="æ–¹æ³•ä¸€-ç§‘å­¦ä¸Šç½‘"><a href="#æ–¹æ³•ä¸€-ç§‘å­¦ä¸Šç½‘" class="headerlink" title="æ–¹æ³•ä¸€: ç§‘å­¦ä¸Šç½‘"></a>æ–¹æ³•ä¸€: <del>ç§‘å­¦ä¸Šç½‘</del></h3><blockquote>
<p>åªå¯æ„ä¼šä¸å¯è¨€ä¼ ğŸ•</p>
</blockquote>
<h3 id="æ–¹æ³•äºŒ-åŠ é€Ÿsshç™»å½•"><a href="#æ–¹æ³•äºŒ-åŠ é€Ÿsshç™»å½•" class="headerlink" title="æ–¹æ³•äºŒ: åŠ é€Ÿsshç™»å½•"></a>æ–¹æ³•äºŒ: åŠ é€Ÿsshç™»å½•</h3><blockquote>
<p>é€‚ç”¨äºé˜¿é‡Œäº‘æœåŠ¡å™¨ğŸ˜¶</p>
</blockquote>
<p>ä¿®æ”¹ <code>/etc/ssh/ssh_config</code></p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">vim <span class="regexp">/etc/</span>ssh/ssh_config</span><br></pre></td></tr></table></figure>

<p>å–æ¶ˆä»¥ä¸‹è¡Œçš„æ³¨é‡Š</p>
<figure class="highlight vala"><table><tr><td class="code"><pre><span class="line"><span class="meta"># GSSAPIAuthentication no</span></span><br></pre></td></tr></table></figure>

<p>æ²¡æœ‰ç”Ÿæ•ˆå¯ä»¥é‡å¯ä¸‹sshdæœåŠ¡å™¨</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="regexp">/etc/i</span>nit.d/sshd restart</span><br></pre></td></tr></table></figure>



<h3 id="æ–¹æ³•ä¸‰-æ˜ å°„hosts"><a href="#æ–¹æ³•ä¸‰-æ˜ å°„hosts" class="headerlink" title="æ–¹æ³•ä¸‰: æ˜ å°„hosts"></a>æ–¹æ³•ä¸‰: æ˜ å°„hosts</h3><blockquote>
<p>æ­»é©¬å½“æ´»é©¬åŒ»ğŸ˜‚</p>
</blockquote>
<p>è¿›å…¥ <span class="exturl" data-url="aHR0cHM6Ly93d3cuaXBhZGRyZXNzLmNvbS8=">https://www.ipaddress.com/</span> è·å–åŸŸåçš„æ˜ å°„IP</p>
<p><img data-src="http://img.owq.world/2021/11/2123-f639cc.png"></p>
<p>ä¿®æ”¹<code>hosts</code>æ–‡ä»¶</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">vim <span class="regexp">/etc/</span>hosts</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ å¯¹åº”çš„ipæ˜ å°„å³å¯</p>
<figure class="highlight accesslog"><table><tr><td class="code"><pre><span class="line"><span class="number">185.199.108.133</span> raw.githubusercontent.com</span><br></pre></td></tr></table></figure>

<h2 id="ä¸»é¢˜é…ç½®"><a href="#ä¸»é¢˜é…ç½®" class="headerlink" title="ä¸»é¢˜é…ç½®"></a>ä¸»é¢˜é…ç½®</h2><blockquote>
<p>ä¸»é¢˜æ–‡ä»¶ä½äº <code>.oh-my-zsh/themes</code> ç›®å½•ä¸‹ï¼Œå¯è‡ªå®šä¹‰ä¿®æ”¹</p>
</blockquote>
<h3 id="ç®€å•å®ç”¨çš„"><a href="#ç®€å•å®ç”¨çš„" class="headerlink" title="ç®€å•å®ç”¨çš„"></a>ç®€å•å®ç”¨çš„</h3><img data-src="http://img.owq.world/2021/11/2124-f27aa9.png" style="zoom:80%;" />

<p>ä¿®æ”¹ <code>~/.zshrc</code> æ–‡ä»¶</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">ZSH_THEME</span>=<span class="string">&quot;ys&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="å¤æ‚ç‚«é…·çš„"><a href="#å¤æ‚ç‚«é…·çš„" class="headerlink" title="å¤æ‚ç‚«é…·çš„"></a>å¤æ‚ç‚«é…·çš„</h3><img data-src="http://img.owq.world/2021/11/2124-9962fa.png" style="zoom: 80%;" />

<h4 id="å®‰è£…powerlineä¸»é¢˜"><a href="#å®‰è£…powerlineä¸»é¢˜" class="headerlink" title="å®‰è£…powerlineä¸»é¢˜"></a><strong>å®‰è£…powerlineä¸»é¢˜</strong></h4><blockquote>
<p>ä¼ é€é—¨ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2plcmVteUZyZWVBZ2VudC9vaC1teS16c2gtcG93ZXJsaW5lLXRoZW1l">ğŸšª</span></p>
</blockquote>
<p>å…‹éš†ä¸»é¢˜æ–‡ä»¶åˆ°æœ¬åœ°</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/jeremyFreeAgent/oh-my-zsh-powerline-theme.git powerline</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œå®‰è£…è„šæœ¬</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> powerline &amp;&amp; ./install_in_omz.sh</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ <code>~/.zshrc</code> é…ç½®æ–‡ä»¶</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹ä¸»é¢˜</span></span><br><span class="line">ZSH_THEME=<span class="string">&quot;powerline&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ç»ˆç«¯ä¸º256ä½é¢œè‰²æ¨¡å¼</span></span><br><span class="line"><span class="built_in">export</span> TERM=<span class="string">&quot;xterm-256color&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>è‹¥ç»ˆç«¯ç¬¦å·æ˜¾ç¤ºä¸å…¨æˆ–é”™ä½éœ€è¦è®¾ç½®ä¸º <code>TureTypeå­—ä½“</code></p>
<p>å¦‚: <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RvbnNreS9GaXJhQ29kZQ==">FiraCode</span>ã€powerline</p>
</blockquote>
<p><strong>å®‰è£…powerlineå­—ä½“</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get install fonts-powerline</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰é…ç½®"><a href="#è‡ªå®šä¹‰é…ç½®" class="headerlink" title="è‡ªå®šä¹‰é…ç½®"></a>è‡ªå®šä¹‰é…ç½®</h2><p>ä¿®æ”¹<code>~/.zshrc</code>é…ç½®æ–‡ä»¶</p>
<p><strong>å¿«é€Ÿæ·»åŠ sudo</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># EscEsc to sudo</span></span><br><span class="line"><span class="built_in">bindkey</span> -s <span class="string">&#x27;\e\e&#x27;</span> <span class="string">&#x27;\C-asudo \C-e&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>WSL2ä¸‹çš„ä»£ç†é…ç½®</strong></p>
<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Proxy config</span></span><br><span class="line"><span class="keyword">export</span> hostip=$(cat /etc/resolv.conf | grep -oP &#x27;(?&lt;=nameserver\ ).*&#x27;)</span><br><span class="line">alias proxyon=&#x27;<span class="keyword">export</span> https_proxy=<span class="string">&quot;http://$&#123;hostip&#125;:7890&quot;</span> &amp;&amp; <span class="keyword">export</span> http_proxy=<span class="string">&quot;http://$&#123;hostip&#125;:7890&quot;</span> &amp;&amp; <span class="keyword">export</span> all_proxy=<span class="string">&quot;socks5://$&#123;hostip&#125;:7890&quot;</span>&#x27;</span><br><span class="line">alias unproxy=&#x27;<span class="keyword">unset</span> http_proxy &amp;&amp; <span class="keyword">unset</span> https_proxy &amp;&amp; <span class="keyword">unset</span> all_proxy&#x27;</span><br></pre></td></tr></table></figure>

<p><strong>å¸¸ç”¨åˆ«åè®¾ç½®</strong></p>
<figure class="highlight mel"><table><tr><td class="code"><pre><span class="line"># git <span class="keyword">log</span></span><br><span class="line"><span class="keyword">alias</span> glog=<span class="string">&#x27;git log --graph --pretty=oneline --abbrev-commit&#x27;</span></span><br><span class="line"></span><br><span class="line"># <span class="keyword">ls</span> -al</span><br><span class="line"><span class="keyword">alias</span> ll=<span class="keyword">ls</span> -al --show-<span class="keyword">control</span>-chars --<span class="keyword">color</span> $*</span><br><span class="line"></span><br><span class="line"># Other <span class="keyword">alias</span> config</span><br><span class="line"><span class="keyword">alias</span> ipython=<span class="string">&#x27;ipython3&#x27;</span></span><br><span class="line"><span class="keyword">alias</span> npm=<span class="string">&#x27;sudo npm&#x27;</span></span><br><span class="line"><span class="keyword">alias</span> typora=<span class="string">&#x27;typora.exe&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="é…ç½®å…¶ä»–ç”¨æˆ·å¯ç”¨"><a href="#é…ç½®å…¶ä»–ç”¨æˆ·å¯ç”¨" class="headerlink" title="é…ç½®å…¶ä»–ç”¨æˆ·å¯ç”¨"></a>é…ç½®å…¶ä»–ç”¨æˆ·å¯ç”¨</h2><blockquote>
<p>è¯¥æ–¹æ³•è™½ç„¶å¯ä»¥ä¸€æ¬¡é…ç½®å…¨å±€ç”Ÿæ•ˆ, ä½†ä¼šå­˜åœ¨æƒé™é—®é¢˜æ•…ä¸å»ºè®®ä½¿ç”¨.</p>
<p>å»ºè®®å…¶å®ƒç”¨æˆ·æœ€å¥½é‡æ–°å®‰è£…é…ç½®.</p>
</blockquote>
<p>ä¸ºrootç”¨æˆ·å»ºç«‹è½¯è¿æ¥ï¼Œå³rootç”¨æˆ·ä½¿ç”¨å½“å‰ç”¨æˆ·çš„é…ç½®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo ln -s <span class="variable">$HOME</span>/.oh-my-zsh /root/.oh-my-zsh</span><br><span class="line">sudo ln -s <span class="variable">$HOME</span>/.zshrc /root/.zshrc</span><br></pre></td></tr></table></figure>

<p>åˆ‡æ¢rootè¿›å…¥zshï¼Œè‹¥æç¤ºæ— pyenvå‘½ä»¤ï¼Œåˆ™å†å»ºç«‹è½¯è¿æ¥å³å¯</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo ln -s <span class="variable">$HOME</span>/.pyenv /root/.pyenv</span><br></pre></td></tr></table></figure>

<p>è‹¥æç¤ºç›®å½•æƒé™è­¦å‘Šï¼Œåˆ™åœ¨ .zshrc æ–‡ä»¶å‰é¢æ·»åŠ </p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">ZSH_DISABLE_COMPFIX</span>=<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>è‹¥è¦å•ç‹¬é…ç½®ï¼Œå¤åˆ¶ç›¸åº”ç›®å½•åˆ°å¯¹åº”ç”¨æˆ·ä¸»ç›®å½•ä¸‹å³å¯</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo cp -r <span class="variable">$HOME</span>/.oh-my-zsh	/root</span><br><span class="line">sudo cp -r <span class="variable">$HOME</span>/.zshrc	/root</span><br></pre></td></tr></table></figure>



<h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><h3 id="autojump"><a href="#autojump" class="headerlink" title="autojump"></a><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3d0aW5nL2F1dG9qdW1w">autojump</span></h3><blockquote>
<p>å¿«é€Ÿè·³è½¬ç›®å½•</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git://github.com/wting/autojump.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·³è½¬ç›®å½•å®‰è£…</span></span><br><span class="line"><span class="built_in">cd</span> autojump</span><br><span class="line">./install.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸è½½</span></span><br><span class="line">./uninstall.py</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨</span></span><br><span class="line">j &lt;éƒ¨åˆ†ç›®å½•å&gt;</span><br></pre></td></tr></table></figure>

<h3 id="zsh-autosuggestions"><a href="#zsh-autosuggestions" class="headerlink" title="zsh-autosuggestions"></a><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3pzaC11c2Vycy96c2gtYXV0b3N1Z2dlc3Rpb25z">zsh-autosuggestions</span></h3><blockquote>
<p>å†å²å‘½ä»¤ç°è‰²æç¤º</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure>

<h3 id="git-open"><a href="#git-open" class="headerlink" title="git-open"></a><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3BhdWxpcmlzaC9naXQtb3Blbg==">git-open</span></h3><blockquote>
<p>æµè§ˆå™¨å¿«é€Ÿæ‰“å¼€gité¡¹ç›®</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/paulirish/git-open.git <span class="variable">$ZSH_CUSTOM</span>/plugins/git-open</span><br></pre></td></tr></table></figure>

<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">git open</span><br></pre></td></tr></table></figure>

<p><strong>é…ç½®æ’ä»¶</strong></p>
<p><em>æ³¨æ„ï¼šæ’ä»¶ä¸­é—´æ˜¯ä»¥ç©ºæ ¼åˆ†å¼€</em></p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">plugins</span>=(git zsh-autosuggestions git-open)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>é…ç½®è®°å½•</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>Terminal</tag>
        <tag>zsh</tag>
      </tags>
  </entry>
  <entry>
    <title>MariaDB å®‰è£…å›¾æ–‡æ•™ç¨‹</title>
    <url>/9ec13a7e/</url>
    <content><![CDATA[<style type="text/css">.post img {border-radius: 0;}</style>

<h2 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h2><p>å¯¹äºåˆå­¦è€…, åªéœ€è¦çŸ¥é“ä»¥ä¸‹å‡ ç‚¹å°±è¡Œäº†</p>
<ul>
<li><p>MariaDB æ˜¯å¼€æºè½¯ä»¶</p>
</li>
<li><p>MariaDB æ˜¯ MySQL çš„åˆ†æ”¯</p>
</li>
<li><p>æä¾›äº†ä¸MySQLç›¸åŒçš„åŠŸèƒ½</p>
</li>
<li><p>å’Œ MySQL ä¸€æ ·æ˜¯ <strong>å…³ç³»å‹æ•°æ®åº“</strong></p>
</li>
</ul>
<h2 id="ä¸‹è½½-MariaDB-å®‰è£…åŒ…"><a href="#ä¸‹è½½-MariaDB-å®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½ MariaDB å®‰è£…åŒ…"></a>ä¸‹è½½ MariaDB å®‰è£…åŒ…</h2><p><span class="exturl" data-url="aHR0cHM6Ly9tYXJpYWRiLmNvbS9kb3dubG9hZHMv">å®˜ç½‘ä¸‹è½½</span></p>
<p>æ‰“å¼€åå¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ï¼Œè¿™é‡Œè¦æ³¨æ„ä¸‹ï¼Œä¸åŒæ—¶æœŸç½‘ç«™çš„å¤–è§‚å¯èƒ½ä¼šä¸åŒï¼Œä½†è½¯ä»¶çš„ä¸‹è½½é¡µåœ°å€æ˜¯ä¸ä¼šå˜çš„ã€‚</p>
<p><img data-src="http://img.owq.world/2021/11/2111-62424c.png"></p>
<p>è½¯ä»¶ç‰ˆæœ¬é€‰æ‹©é»˜è®¤(æœ€æ–°ç‰ˆ)å°±è¡Œäº†<br>æ‰‹åŠ¨é€‰æ‹©ä¸‹ç³»ç»Ÿç‰ˆæœ¬, Windows 64ä½é€‰æ‹© <code>MS Windows (64-bit)</code><br>å¦‚æœä¸çŸ¥é“è‡ªå·±çš„ç³»ç»Ÿæ˜¯å¤šå°‘ä½çš„, é‚£å°±é€‰æ‹©32ä½åŒ… <code>MS Windows (32-bit)</code><br>é€‰æ‹©å¥½å, ä½ ä¼šå‘ç°ä¸‹é¢çš„é“¾æ¥æ˜¯ä¼šå˜çš„, è¿™å°±æ˜¯ä½ è¦ä¸‹è½½çš„æ–‡ä»¶, è®©æˆ‘ä»¬ç‚¹å‡» <code>Download</code> å¼€å§‹ä¸‹è½½</p>
<p><img data-src="http://img.owq.world/2021/11/2112-284361.png"></p>
<p>ç‚¹å‡»åä¼šè·³è½¬åˆ° &quot;æ„Ÿè°¢ä¸‹è½½&quot; é¡µé¢, è¿™æ—¶å€™ç­‰å¾…ä¸‹è½½é“¾æ¥å»ºç«‹èµ·æ¥å°±è¡Œäº†</p>
<p><img data-src="http://img.owq.world/2021/11/2115-3660c6.png"></p>
<h2 id="å®‰è£…-MariaDB"><a href="#å®‰è£…-MariaDB" class="headerlink" title="å®‰è£… MariaDB"></a>å®‰è£… MariaDB</h2><img data-src="http://img.owq.world/2021/11/2114-1271e8.png" style="zoom:50%;" />

<p>å‹¾é€‰&quot;æ¥å—ä½¿ç”¨è®¸å¯æ¡æ¬¾&quot;, ç„¶å<code>Next</code>è¿›å…¥ä¸‹ä¸€æ­¥</p>
<img data-src="http://img.owq.world/2021/11/2115-52857d.png" style="zoom:50%;" />

<p>å·¦è¾¹åŒºåŸŸæ˜¯è¦å®‰è£…çš„ç»„ä»¶, å³è¾¹æ˜¯å¯¹åº”ç»„ä»¶çš„è¯´æ˜, é»˜è®¤è®¾ç½®å°±è¡Œäº†<br><em>(ä¹‹åå¦‚æœè¦åˆ é™¤ä¸éœ€è¦çš„ç»„ä»¶, é‡æ–°æ‰“å¼€å®‰è£…åŒ…ä¸‹å°±å¯ä»¥åˆ é™¤äº†)</em><br>ç‚¹å‡» <code>Browse...</code> , ä¿®æ”¹ä¸‹å‚¨å­˜è·¯å¾„, é»˜è®¤è½¯ä»¶æ˜¯æ”¾åœ¨ Cç›˜ ä¸‹çš„<br>è¿™é‡Œæ¨èæ”¾åœ¨å…¶å®ƒç›˜é‡Œ, æ¯”å¦‚æˆ‘å°±æ”¾åœ¨ <code>D:\Environment\MariaDB</code> è¿™ä¸ªè·¯å¾„ä¸‹</p>
<img data-src="http://img.owq.world/2021/11/2116-2e7524.png" style="zoom:50%;" />

<p>è®¾ç½® <code>root</code> ç”¨æˆ·å¯†ç , è¾“å…¥ä¸¤æ¬¡å¯†ç ä»¥ç¡®è®¤, <strong>å¯†ç è¦è®°ç‰¢, å¿˜è®°çš„è¯å°±åªèƒ½é‡æ–°å®‰è£…äº†</strong>, ç„¶åå‹¾ä¸Š <code>Use UTF8 as default server&#39;s character set</code>, è¿™ä¸ªæ˜¯è®¾ç½® <code>*UTF-8*</code> ä¸ºé»˜è®¤ç¼–ç çš„, é˜²æ­¢ä¸­æ–‡ä¹±ç å¿…å¤‡é€‰é¡¹</p>
<img data-src="http://img.owq.world/2021/11/2116-7f0aec.png" style="zoom:50%;" />



<p>è®¾ç½®æœåŠ¡åç§°, è¿™é‡Œæˆ‘å¡«çš„æ˜¯ <code>MariaDB</code> , åç§°æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„<br>è®¾ç½®è®¿é—®ç«¯å£å·, ç”¨æ¥è®¿é—®ä½ çš„ MariaDB æ•°æ®åº“ç”¨çš„, é»˜è®¤å¡« <code>3306</code> ,è¿™ä¸ªè¦ç‰¢è®°<br>ä¸‹é¢çš„ç¼“å†²æ± å¤§å°ä¸ç”¨ç®¡å®ƒ, å¯¹å‰æœŸå­¦ä¹ æ²¡æœ‰å½±å“çš„</p>
<img data-src="http://img.owq.world/2021/11/2116-59615f.png" style="zoom:50%;" />

<p>å¼€å§‹å®‰è£…...</p>
<img data-src="http://img.owq.world/2021/11/2116-ff9d22.png" style="zoom:50%;" />

<p>é™å¾…ä¸€ä¼šå„¿ å°±å¤§åŠŸå‘Šæˆäº†~</p>
<img data-src="http://img.owq.world/2021/11/2116-d26191.png" style="zoom:50%;" />
]]></content>
      <categories>
        <category>å…¥é—¨æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>MariaDB</tag>
      </tags>
  </entry>
  <entry>
    <title>Python å¼€å‘ç¯å¢ƒæ­å»ºèŒæ–°æ•™ç¨‹</title>
    <url>/958bc56b/</url>
    <content><![CDATA[<style type="text/css">.post img {border-radius: 0;}</style>

<h2 id="ä¸‹è½½å®‰è£…åŒ…"><a href="#ä¸‹è½½å®‰è£…åŒ…" class="headerlink" title="ä¸‹è½½å®‰è£…åŒ…"></a>ä¸‹è½½å®‰è£…åŒ…</h2><p><span class="exturl" data-url="aHR0cHM6Ly93d3cucHl0aG9uLm9yZy9kb3dubG9hZHMv">å®˜ç½‘ä¸‹è½½</span>, åˆšå¼€å§‹å­¦ä¹ çš„è¯ç›´æ¥ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„å°±è¡Œäº†</p>
<p><img data-src="http://img.owq.world/2021/11/2120-1da682.png"></p>
<p>é»˜è®¤ä¸‹è½½ä¸º64ä½ç‰ˆæœ¬å°±è¡Œäº† è¦ä¸‹è½½32ä½è¯·è·³è½¬<span class="exturl" data-url="aHR0cHM6Ly93d3cucHl0aG9uLm9yZy9kb3dubG9hZHMvd2luZG93cy8=">è¯¦ç»†é¡µé¢ä¸‹è½½</span></p>
<p><img data-src="http://img.owq.world/2021/11/2120-92875c.png"></p>
<h2 id="å®‰è£…å›¾ç¤º"><a href="#å®‰è£…å›¾ç¤º" class="headerlink" title="å®‰è£…å›¾ç¤º"></a>å®‰è£…å›¾ç¤º</h2><p>æ‰“å¼€å®‰è£…åŒ… å‹¾ä¸Šç¯å¢ƒå˜é‡ ç„¶åé€‰æ‹©è‡ªå®šä¹‰å®‰è£…</p>
<img data-src="http://img.owq.world/2021/11/2118-b66de4.png" style="zoom:50%;" />

<p>é…ç½®å®‰è£…é€‰é¡¹ ä¾éœ€æ±‚æ›´æ”¹ é»˜è®¤å…¨å‹¾ä¸Šå°±è¡Œäº† &gt;&gt; <strong>Next</strong></p>
<img data-src="http://img.owq.world/2021/11/2120-00e3ae.png" style="zoom:50%;" />

<p>å‹¾ä¸Šç¬¬ä¸€ä¸ªé€‰é¡¹ &quot;ä¸ºå…¨éƒ¨ç”¨æˆ·å®‰è£…&quot; &gt;&gt; <strong>Install</strong></p>
<img data-src="http://img.owq.world/2021/11/2122-72c13f.png" style="zoom:50%;" />

<p>ç­‰å¾…å®‰è£…å®Œæˆ ç„¶åç‚¹ä¸€ä¸‹å®ƒ è§£é™¤è·¯å¾„é•¿åº¦é™åˆ¶ &gt;&gt; <strong>Close</strong></p>
<img data-src="http://img.owq.world/2021/11/2121-7daf02.png" style="zoom:50%;" />



<h2 id="éªŒè¯å®‰è£…ç»“æœ"><a href="#éªŒè¯å®‰è£…ç»“æœ" class="headerlink" title="éªŒè¯å®‰è£…ç»“æœ"></a>éªŒè¯å®‰è£…ç»“æœ</h2><p>Win + R æ‰“å¼€&quot;è¿è¡Œ&quot; è¾“å…¥ cmd å›è½¦æ‰“å¼€</p>
<img data-src="http://img.owq.world/2021/11/2121-be174c.png" style="zoom:33%;" />

<p>è¾“å…¥ <code>python -V</code> æŸ¥çœ‹ python ç‰ˆæœ¬ å¦‚æˆåŠŸè¾“å‡ºåˆ™å®‰è£…æˆåŠŸ</p>
<img data-src="http://img.owq.world/2021/11/2122-8b7be8.png" style="zoom:33%;" />









]]></content>
      <categories>
        <category>å…¥é—¨æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Java å¼€å‘ç¯å¢ƒæ­å»ºèŒæ–°æ•™ç¨‹</title>
    <url>/46118abd/</url>
    <content><![CDATA[<style type="text/css">.post img {border-radius: 0;}</style>

<blockquote>
<p> ç”¨æœ€å®ç”¨çš„æ–¹æ³•æ¥è§£å†³é—®é¢˜ã€‚<br>è¯¥æ•™ç¨‹ä¸æ˜¯ç”¨å®‰è£…ç¨‹åºå®‰è£…ï¼Œè€Œæ˜¯é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæ¥å®ç°åŸºç¡€Javaç¯å¢ƒæ­å»ºã€‚</p>
</blockquote>
<h2 id="ä¸‹è½½-Java-JDK"><a href="#ä¸‹è½½-Java-JDK" class="headerlink" title="ä¸‹è½½ Java JDK"></a>ä¸‹è½½ Java JDK</h2><blockquote>
<p> è¿™é‡Œé€‰æ‹© Java8 è¿›è¡Œæ¼”ç¤ºï¼Œå¹¶æä¾›3ç§ä¸‹è½½æ–¹æ³•å‚è€ƒ~</p>
</blockquote>
<ul>
<li><p><span class="exturl" data-url="aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UtZG93bmxvYWRzLmh0bWw=">å®˜ç½‘</span></p>
<p>å®˜ç½‘çš„ Java 8 åªæä¾›å®‰è£…åŒ…ä¸‹è½½ å¯ä»¥åˆ°å…¶å®ƒåœ°æ–¹ä¸‹è½½æ‰“åŒ…å¥½çš„JDK,è¿™é‡Œä½¿ç”¨ Java 11 åšä¸ºç¤ºä¾‹</p>
<p><img data-src="http://img.owq.world/2021/11/2055-078cf6.png"><br><img data-src="http://img.owq.world/2021/11/2056-418efc.png"></p>
</li>
<li><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuYXp1bC5jb20vZG93bmxvYWRzL3p1bHUtY29tbXVuaXR5Lz9wYWNrYWdlPWpkaw==">Azul Zulu</span><br>ç½‘é¡µå¾€ä¸‹æ‹‰ï¼Œæ‰¾åˆ°ä¸‹è½½å¤„ï¼Œé€‰æ‹©Javaç‰ˆæœ¬å’Œç³»ç»Ÿï¼Œç„¶åä¸‹è½½å‹ç¼©åŒ…</p>
<p><img data-src="http://img.owq.world/2021/11/2057-075278.png"></p>
</li>
<li><p><span class="exturl" data-url="aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvMTJoRnFBZ1BOQ0h6b09TV21xVG9qdmc=">ç½‘ç›˜ä¸‹è½½</span><br>æå–ç : 47w5</p>
</li>
<li><p>ç‰ˆæœ¬å°è§£</p>
<ul>
<li>Java æ˜¯å‘åå…¼å®¹çš„<ul>
<li>æ–°ç‰ˆæœ¬ä»èƒ½ä½¿ç”¨æ—§ç‰ˆæœ¬å¼€å‘çš„ç¨‹åº</li>
</ul>
</li>
<li>Java 8 æ˜¯ç›®å‰å¸‚åœºä»½é¢æœ€å¤šç‰ˆæœ¬ï¼ˆ2020ï¼‰<ul>
<li>å¾ˆå¤šå…¬å¸ä»åœ¨ç”¨ Java8 å¼€å‘</li>
</ul>
</li>
<li>Java 11 æ˜¯ Java8 åé¦–ä¸ªé•¿æœŸæ”¯æŒç‰ˆæœ¬(LTS)<ul>
<li>å¸‚åœºä»½é¢åœ¨ Java8 ä¹‹å æ­£åœ¨æ…¢æ…¢æå‡ä¸­</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="è§£å‹-Java-JDK"><a href="#è§£å‹-Java-JDK" class="headerlink" title="è§£å‹ Java JDK"></a>è§£å‹ Java JDK</h2><p>è®°ä½è§£å‹è·¯å¾„ è¿™æ˜¯ Java JDK çš„æ ¹ç›®å½•</p>
<p><img data-src="http://img.owq.world/2021/11/2057-02a578.png"></p>
<h2 id="æ·»åŠ ç¯å¢ƒå˜é‡"><a href="#æ·»åŠ ç¯å¢ƒå˜é‡" class="headerlink" title="æ·»åŠ ç¯å¢ƒå˜é‡"></a>æ·»åŠ ç¯å¢ƒå˜é‡</h2><p><code>Win + R</code> è¿è¡Œ è¾“å…¥ <code>sysdm.cpl</code> å›è½¦è¿›å…¥ ç³»ç»Ÿå±æ€§é…ç½®</p>
<img data-src="http://img.owq.world/2021/11/2058-06af6e.png" style="zoom:50%;" />

<p>ä¾æ¬¡ç‚¹å‡» é«˜çº§ &gt;&gt; ç¯å¢ƒå˜é‡</p>
<img data-src="http://img.owq.world/2021/11/2058-e21112.png" style="zoom:50%;" />

<p>æ–°å»º å˜é‡å: <code>JAVA_HOME</code>  å˜é‡å€¼: <code>C:\Java\jdk8.0.275</code>(åˆšåˆšè§£å‹çš„Javaè·¯å¾„)</p>
<img data-src="http://img.owq.world/2021/11/2102-13fe59.png" style="zoom:50%;" />

<p>åŒå‡» <strong>Path</strong> ç¯å¢ƒå˜é‡  è¿›å…¥ç¼–è¾‘ (å›¾ç¤ºæ“ä½œä¹Ÿæ˜¯å¯ä»¥çš„)</p>
<img data-src="http://img.owq.world/2021/11/2102-9698ea.png" style="zoom:50%;" />

<p>æ–°å»ºå˜é‡ <code>%JAVA_HOME%/bin</code></p>
<img data-src="http://img.owq.world/2021/11/2103-f557ae.png" style="zoom:50%;" />

<p>Win7 ä¸‹æ·»åŠ ç¯å¢ƒå˜é‡è¦ç”¨<strong>åˆ†å·</strong>éš”å¼€</p>
<img data-src="http://img.owq.world/2021/11/2103-ee21ba.png" style="zoom:80%;" />



<h2 id="æ£€éªŒç¯å¢ƒ"><a href="#æ£€éªŒç¯å¢ƒ" class="headerlink" title="æ£€éªŒç¯å¢ƒ"></a>æ£€éªŒç¯å¢ƒ</h2><p><code>Win +R</code> è¿è¡Œ cmd è¾“å…¥ <code>java -version</code>  è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯</p>
<p><img data-src="http://img.owq.world/2021/11/2103-5f568b.png"></p>
<h2 id="é”™è¯¯æ’æŸ¥"><a href="#é”™è¯¯æ’æŸ¥" class="headerlink" title="é”™è¯¯æ’æŸ¥"></a>é”™è¯¯æ’æŸ¥</h2><ul>
<li>è‹¥æ˜¯æ²¡æœ‰æ­£å¸¸è¾“å‡º è¯·æ£€æŸ¥ç¯å¢ƒå˜é‡çš„<strong>è·¯å¾„</strong>æ˜¯å¦é…ç½®æ­£ç¡®</li>
<li>åœ¨ cmd çª—å£ è¾“å…¥ <code>echo %JAVA_HOME%</code> æŸ¥çœ‹è·¯å¾„<ul>
<li>æ³¨æ„å¤§å°å†™æ­£ç¡® </li>
<li>æ–œæ æ˜¯å¦å†™å</li>
<li><strong>åˆ†å·</strong> æ˜¯å¦ä¸ºè‹±æ–‡ç¬¦å·</li>
</ul>
</li>
<li>åœ¨ cmd çª—å£ è¾“å…¥ <code>echo %PATH%</code> æŸ¥çœ‹ æ˜¯å¦æœ‰ <code>%JAVA_HOME%\bin</code><ul>
<li>ç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠ <code>%JAVA_HOME%</code> å˜é‡è½¬æ¢æˆè·¯å¾„<br><img data-src="http://img.owq.world/2021/11/2103-615b99.png"></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>å…¥é—¨æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Selenium æ“ä½œæ–‡æ¡£</title>
    <url>/selenium/</url>
    <content><![CDATA[<h2 id="ç®€å•ä»‹ç»"><a href="#ç®€å•ä»‹ç»" class="headerlink" title="ç®€å•ä»‹ç»"></a>ç®€å•ä»‹ç»</h2><blockquote>
<p>åŸºäºæµè§ˆå™¨é©±åŠ¨çš„è‡ªåŠ¨åŒ–æ“ä½œæµè§ˆå™¨å·¥å…·, ç”¨äºè¿ç»´æµ‹è¯•ä¹Ÿå¯ç”¨äºçˆ¬è™«ã€‚</p>
</blockquote>
<figure class="highlight xl"><table><tr><td class="code"><pre><span class="line">æ“ä½œæµç¨‹</span><br><span class="line"><span class="function"><span class="title">selenium</span> -&gt;</span> ä¼ è¾“æŒ‡ä»¤ â€”&gt; <span class="function"><span class="title">webdriver</span> -&gt;</span> è½¬æ¢æŒ‡ä»¤ -&gt; æµè§ˆå™¨æ‰§è¡Œ</span><br></pre></td></tr></table></figure>



<h2 id="å®‰è£…ä½¿ç”¨"><a href="#å®‰è£…ä½¿ç”¨" class="headerlink" title="å®‰è£…ä½¿ç”¨"></a>å®‰è£…ä½¿ç”¨</h2><ul>
<li><p>å®‰è£…Pythonç‰ˆæœ¬çš„selenium</p>
  <figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pip <span class="keyword">install</span> selenium</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹Chromeç‰ˆæœ¬ï¼Œæµè§ˆå™¨è¾“å…¥å›è½¦</p>
  <figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">chrome:<span class="regexp">//</span>version/</span><br></pre></td></tr></table></figure></li>
<li><p>ä¸‹è½½å¯¹åº”æµè§ˆå™¨ç‰ˆæœ¬çš„chrome driver<br>  <em>PS:é©±åŠ¨ç‰ˆæœ¬é€‰æ‹©æœ€æ¥è¿‘çš„ï¼Œä¸ä¸€å®šè¦å®Œå…¨ä¸€æ ·çš„ã€‚</em></p>
<ul>
<li><span class="exturl" data-url="aHR0cDovL25wbS50YW9iYW8ub3JnL21pcnJvcnMvY2hyb21lZHJpdmVyLw==">æ·˜å®é•œåƒä¸‹è½½</span></li>
<li><span class="exturl" data-url="aHR0cHM6Ly9jaHJvbWVkcml2ZXIuY2hyb21pdW0ub3JnL2Rvd25sb2Fkcw==">å®˜æ–¹ä¸‹è½½</span> (éœ€è¦æŒ‚ä»£ç†)</li>
</ul>
</li>
<li><p>è§£å‹åˆ°ç‰¹å®šç›®å½•ï¼Œæ–¹ä¾¿è°ƒç”¨</p>
  <figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">.<span class="string">\drivers\</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> setting <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">options = webdriver.ChromeOptions()</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½® ...</span></span><br><span class="line"></span><br><span class="line">brower = webdriver.Chrome(executable_path=DRIVER_PATH, options=options)</span><br></pre></td></tr></table></figure>



<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">UA = <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36&#x27;</span></span><br><span class="line">PROXY = &#123;<span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">7890</span>&#125;</span><br><span class="line">CACHE_DIR = <span class="string">r&#x27;cache/user_1&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>é©±åŠ¨è·¯å¾„é…ç½®</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> platform</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> platform.system() == <span class="string">&#x27;Windows&#x27;</span>:</span><br><span class="line">    DRIVER_PATH = <span class="string">r&quot;drivers/win/chromedriver.exe&quot;</span></span><br><span class="line"><span class="keyword">elif</span> platform.system() == <span class="string">&#x27;Linux&#x27;</span>:</span><br><span class="line">    <span class="comment"># Linuxä¸‹èµ‹äºˆé©±åŠ¨æ‰§è¡Œæƒé™ sudo chmod +x drivers/chromedriver_linux64/chromedriver</span></span><br><span class="line">    DRIVER_PATH = <span class="string">r&quot;drivers/linux/chromedriver&quot;</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">raise</span> <span class="built_in">print</span>(<span class="string">f&#x27;!!Error Driver path!!\nUnknown system: <span class="subst">&#123;platform.system()&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="å¸¸ç”¨è®¾ç½®"><a href="#å¸¸ç”¨è®¾ç½®" class="headerlink" title="å¸¸ç”¨è®¾ç½®"></a>å¸¸ç”¨è®¾ç½®</h2><ul>
<li><p>æ— å¤´æ¨¡å¼</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Headless</span></span><br><span class="line">options.add_argument(<span class="string">&quot;--headless&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>ç¦ç”¨å›¾ç‰‡åŠ è½½</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Disable image loading</span></span><br><span class="line">prefs = &#123; <span class="string">&#x27;profile.managed_default_content_settings.images&#x27;</span>: <span class="number">2</span> &#125;</span><br><span class="line">options.add_experimental_option(<span class="string">&quot;prefs&quot;</span>, prefs)</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®User-Agent</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># UA</span></span><br><span class="line">options.add_argument(<span class="string">f&#x27;user-agent=<span class="subst">&#123;UA&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®ä»£ç†</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Proxy</span></span><br><span class="line">options.add_argument(<span class="string">f&quot;--proxy-server=<span class="subst">&#123;PROXY&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®ç¼“å­˜</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Cache data</span></span><br><span class="line">options.add_argument(<span class="string">f&quot;--user-data-dir=<span class="subst">&#123;CACHE_DIR&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®éšå¼ç­‰å¾…</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">brower</span>.implicitly_wait(<span class="number">10</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>è®¾ç½®çª—å£å¤§å°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># resize</span></span><br><span class="line">options.add_argument(<span class="string">&#x27;window-size=1500x1200&#x27;</span>) </span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="æµè§ˆå™¨ç‰¹å¾éšè—"><a href="#æµè§ˆå™¨ç‰¹å¾éšè—" class="headerlink" title="æµè§ˆå™¨ç‰¹å¾éšè—"></a>æµè§ˆå™¨ç‰¹å¾éšè—</h2><p><strong>éšè—é©±åŠ¨æ ‡è¯†</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Delete &quot;navigator.webdriver&quot; property</span></span><br><span class="line">options.add_argument(<span class="string">&quot;disable-blink-features=AutomationControlled&quot;</span>)</span><br></pre></td></tr></table></figure>



<p>ä½¿ç”¨puppeteerå‰ç«¯æ¡†æ¶éšè—æ¨¡æ‹Ÿæµè§ˆå™¨çš„æŒ‡çº¹ç‰¹å¾çš„JS</p>
<blockquote>
<p>é¡¹ç›®åœ°å€ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2JlcnN0ZW5kL3B1cHBldGVlci1leHRyYS90cmVlL21hc3Rlci9wYWNrYWdlcy9leHRyYWN0LXN0ZWFsdGgtZXZhc2lvbnM=">ğŸšª</span></p>
</blockquote>
<p><code>stealth.min.js</code>æ–‡ä»¶ç”Ÿæˆ, éœ€å®‰è£…å¥½<code>node.js</code>ç¯å¢ƒ, <del>ä¸æŒ‚ä»£ç†é€Ÿåº¦ä¼šå¾ˆæ…¢</del></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰§è¡Œä»¥ä¸‹è¯­å¥,ä¼šåœ¨å½“å‰æ–‡ä»¶å¤¹ç”Ÿæˆstealth.min.jsæ–‡ä»¶</span></span><br><span class="line">npx extract-stealth-evasions</span><br></pre></td></tr></table></figure>

<p>åŠ è½½è¿›æµè§ˆå™¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ‰§è¡Œéšè—é©±åŠ¨ç‰¹å¾JS</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&#x27;data/stealth.min.js&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    stealth_js = f.read()</span><br><span class="line">brower.execute_cdp_cmd(<span class="string">&quot;Page.addScriptToEvaluateOnNewDocument&quot;</span>, &#123;<span class="string">&#x27;source&#x27;</span>: stealth_js&#125;)</span><br></pre></td></tr></table></figure>



<p>è¿›å…¥ <span class="exturl" data-url="aHR0cHM6Ly9ib3Quc2Fubnlzb2Z0LmNvbS8=">https://bot.sannysoft.com</span> æµ‹è¯•æ•ˆæœ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">driver.get(<span class="string">&#x27;https://bot.sannysoft.com/&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line">driver.save_screenshot(<span class="string">&#x27;walkaround.png&#x27;</span>)</span><br></pre></td></tr></table></figure>



<h2 id="å…¶å®ƒé…ç½®"><a href="#å…¶å®ƒé…ç½®" class="headerlink" title="å…¶å®ƒé…ç½®"></a>å…¶å®ƒé…ç½®</h2><ul>
<li><p>ç¦ç”¨JavaScript</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Disable JS</span></span><br><span class="line">option.add_argument(<span class="string">&quot;--disable-javascript&quot;</span>) </span><br></pre></td></tr></table></figure></li>
<li><p>ç¦ç”¨æµè§ˆå™¨å¼¹çª—</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Disable the browser popover</span></span><br><span class="line">prefs = &#123;  </span><br><span class="line">    <span class="string">&#x27;profile.default_content_setting_values&#x27;</span> :  &#123;  </span><br><span class="line">        <span class="string">&#x27;notifications&#x27;</span> : <span class="number">2</span>  </span><br><span class="line">     &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">options.add_experimental_option(<span class="string">&#x27;prefs&#x27;</span>,prefs)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ä½“éªŒé—®é¢˜"><a href="#ä½“éªŒé—®é¢˜" class="headerlink" title="ä½“éªŒé—®é¢˜"></a>ä½“éªŒé—®é¢˜</h2><p>å…³é—­æ—¥å¿—è¾“å‡º</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Close logs</span></span><br><span class="line">options.add_experimental_option(<span class="string">&#x27;excludeSwitches&#x27;</span>, [<span class="string">&#x27;enable-logging&#x27;</span>])</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å‘½ä»¤æ–‡æ¡£</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Selenium</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows å‘½ä»¤æ–‡æ¡£</title>
    <url>/win/</url>
    <content><![CDATA[<blockquote>
<p>ä»ç©Windowsè‡³ä»Šé‡åˆ°è¶…è¿‡2æ¬¡çš„å‘½ä»¤æˆ–é—®é¢˜è®°å½•.</p>
<p>éƒ¨åˆ†å‘½ä»¤cmdå’ŒPowerShellç¯å¢ƒä¸‹å‡å¯ç”¨, æ•…ä¸ä½œç»†åˆ†ğŸ˜œ</p>
</blockquote>
<p>PS: å¤§å¤šæ•°æƒ…å†µä½¿ç”¨ <code>help &lt;å‘½ä»¤&gt;</code> æˆ–è€… <code>&lt;å‘½ä»¤&gt; help</code> æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£å¯ä»¥è‡ªè¡Œè§£å†³é—®é¢˜.</p>
<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ¸…å±</span></span><br><span class="line"><span class="built_in">cls</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æ°¸ä¹…å˜é‡, åŠ ä¸Š /m ä¸ºç³»ç»Ÿå˜é‡, è·¯å¾„æœ‰ç©ºæ ¼è¦ç”¨åŒå¼•å·æ‹¬èµ·æ¥</span></span><br><span class="line">setx env_name env_value /m</span><br><span class="line"><span class="comment"># è¿½åŠ ç¯å¢ƒå˜é‡</span></span><br><span class="line">setx <span class="string">&quot;path&quot;</span> <span class="string">&quot;%path%D:\test;&quot;</span> /m</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯èµ„æºç®¡ç†å™¨</span></span><br><span class="line">taskkill /f /im explorer.exe &amp; <span class="built_in">start</span> explorer.exe</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯»æ‰¾ç«¯å£ç¨‹åº</span></span><br><span class="line">netstat <span class="literal">-ano</span> | findstr <span class="number">8080</span></span><br><span class="line"><span class="comment"># åœæ­¢ç¨‹åº</span></span><br><span class="line">taskkill <span class="literal">-pid</span> &lt;è¿›ç¨‹pid&gt; <span class="operator">-f</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åºåˆ—å·</span></span><br><span class="line">wmic bios get serialnumber</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ­£åœ¨è¿è¡ŒæœåŠ¡</span></span><br><span class="line">net <span class="built_in">start</span></span><br><span class="line"><span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">net <span class="built_in">start</span> [æœåŠ¡å]</span><br><span class="line"><span class="comment"># åœæ­¢æœåŠ¡</span></span><br><span class="line">net stop</span><br></pre></td></tr></table></figure>

<p><strong>PowerShellç¯å¢ƒå˜é‡æ“ä½œ</strong></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹</span></span><br><span class="line"><span class="variable">$Env:path</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®</span></span><br><span class="line"><span class="variable">$Env:ETCDCTL_API</span>=<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿½åŠ </span></span><br><span class="line"><span class="variable">$Env:path</span>=<span class="variable">$Env:Path</span>+<span class="string">&quot;;C:\Run&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç§»é™¤</span></span><br><span class="line"><span class="built_in">remove-item</span> env:all_proxy</span><br></pre></td></tr></table></figure>



<h2 id="å¿«æ·è¿è¡Œ"><a href="#å¿«æ·è¿è¡Œ" class="headerlink" title="å¿«æ·è¿è¡Œ"></a>å¿«æ·è¿è¡Œ</h2><p>ä½¿ç”¨<code>Win + R</code>æ‰“å¼€<code>è¿è¡Œ</code></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è®¿é—®å­ç³»ç»Ÿ</span></span><br><span class="line">\\wsl<span class="variable">$</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç³»ç»Ÿè¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">systeminfo</span><br><span class="line"></span><br><span class="line"><span class="comment"># é©±åŠ¨ç¨‹åºéªŒè¯ç¨‹åºç®¡ç†å™¨ </span></span><br><span class="line">verifier</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢å¯åŠ¨åŠ è½½é¡¹</span></span><br><span class="line">bcdedit</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨å†Œè¡¨ç¼–è¾‘å™¨</span></span><br><span class="line">regedit</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç³»ç»Ÿå±æ€§</span></span><br><span class="line">sysdm.cpl</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line">winver</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯ä¹¦ç®¡ç†</span></span><br><span class="line">certmgr.msc</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç³»ç»Ÿè¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">msinfo32</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœåŠ¡ç®¡ç†</span></span><br><span class="line">services.msc</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨æˆ·ç»„ç®¡ç†</span></span><br><span class="line">lusrmgr.msc</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»»åŠ¡ç®¡ç†å™¨</span></span><br><span class="line">Taskmgr</span><br></pre></td></tr></table></figure>



<h2 id="Linuxå­ç³»ç»Ÿ"><a href="#Linuxå­ç³»ç»Ÿ" class="headerlink" title="Linuxå­ç³»ç»Ÿ"></a>Linuxå­ç³»ç»Ÿ</h2><figure class="highlight vala"><table><tr><td class="code"><pre><span class="line"><span class="meta"># æŸ¥çœ‹å­ç³»ç»Ÿåˆ—è¡¨åŠåˆ†å‘ç‰ˆæœ¬</span></span><br><span class="line">wsl -l -v</span><br><span class="line"></span><br><span class="line"><span class="meta"># å¸è½½å·²ç»å®‰è£…çš„å‘è¡Œç‰ˆ</span></span><br><span class="line">wslconfig /unregister &lt;name&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta"># å‡çº§wslç‰ˆæœ¬</span></span><br><span class="line">wsl --<span class="keyword">set</span>-version &lt;distribution name&gt; &lt;versionNumber&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta"># å…³é—­ æ‰€æœ‰WSLæœåŠ¡</span></span><br><span class="line">wsl --shudown</span><br><span class="line">net stop LxssManager</span><br><span class="line"></span><br><span class="line"><span class="meta"># ç§»åŠ¨WSL</span></span><br><span class="line"><span class="meta"># https://github.com/DDoSolitary/LxRunOffline</span></span><br><span class="line">LxRunOffline.exe move -n &lt;wsl-name&gt; -d &lt;dir&gt;</span><br><span class="line"></span><br><span class="line">lxrunoffline m -n docker-desktop -d D:\OWQ\Docker\wsl\distro</span><br><span class="line">lxrunoffline m -n docker-desktop-data -d D:\OWQ\Docker\wsl\data</span><br><span class="line"></span><br><span class="line"><span class="meta"># æŸ¥çœ‹è·¯å¾„</span></span><br><span class="line">lxrunoffline di -n docker-desktop</span><br><span class="line">lxrunoffline di -n docker-desktop-data</span><br></pre></td></tr></table></figure>

<h3 id="WSL2ç«¯å£è½¬å‘"><a href="#WSL2ç«¯å£è½¬å‘" class="headerlink" title="WSL2ç«¯å£è½¬å‘"></a>WSL2ç«¯å£è½¬å‘</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®ç«¯å£è½¬å‘</span></span><br><span class="line">netsh interface portproxy add v4tov4 listenport=ã€å®¿ä¸»æœºwindowså¹³å°ç›‘å¬ç«¯å£ã€‘ listenaddress=<span class="number">0.0</span>.<span class="number">0.0</span> connectport=ã€wsl2å¹³å°ç›‘å¬ç«¯å£ã€‘ connectaddress=ã€wsl2å¹³å°ipã€‘protocol=tcp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">netsh interface portproxy add v4tov4 listenport=<span class="number">80</span> listenaddress=<span class="number">0.0</span>.<span class="number">0.0</span> connectport=<span class="number">80</span> connectaddress=<span class="number">172.30</span>.<span class="number">144.91</span> protocol=tcp</span><br><span class="line">æˆ–</span><br><span class="line">netsh interface portproxy add v4tov4 listenport=<span class="number">80</span> listenaddress=* connectport=<span class="number">80</span> connectaddress=<span class="number">172.30</span>.<span class="number">144.91</span> protocol=tcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç«¯å£è½¬å‘çŠ¶æ€</span></span><br><span class="line">netsh interface portproxy show all</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤ç«¯å£è½¬å‘</span></span><br><span class="line">netsh interface portproxy delete v4tov4 listenport=ã€å®¿ä¸»æœºwindowså¹³å°ç›‘å¬ç«¯å£ã€‘ listenaddress=<span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">netsh interface portproxy delete v4tov4 listenport=<span class="number">80</span> listenaddress=*</span><br><span class="line">æˆ–</span><br><span class="line">netsh interface portproxy delete v4tov4 listenport=<span class="number">80</span> listenaddress=<span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨æ„: å†™çš„æ˜¯0.0.0.0åˆ çš„æ—¶å€™ä¹Ÿéœ€è¦æ˜¯0.0.0.0è¿›è¡Œå¯¹åº”ï¼Œä¸ç„¶ä¼šæç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶ã€‚</span></span><br></pre></td></tr></table></figure>



<h2 id="ç©ºé—´ä¼˜åŒ–"><a href="#ç©ºé—´ä¼˜åŒ–" class="headerlink" title="ç©ºé—´ä¼˜åŒ–"></a>ç©ºé—´ä¼˜åŒ–</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‹ç¼©ç³»ç»Ÿç©ºé—´</span></span><br><span class="line">compact /compactos:always</span><br></pre></td></tr></table></figure>



<h2 id="ä¿®å¤å‘½ä»¤"><a href="#ä¿®å¤å‘½ä»¤" class="headerlink" title="ä¿®å¤å‘½ä»¤"></a>ä¿®å¤å‘½ä»¤</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># SFCæ‰«æ</span></span><br><span class="line">sfc /scannow</span><br><span class="line"></span><br><span class="line"><span class="comment"># DISMæ‰«æ</span></span><br><span class="line">DISM /Online /Cleanup<span class="literal">-Image</span> /RestoreHealth</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç£ç›˜ä¿®å¤</span></span><br><span class="line">chkdsk C:/f</span><br></pre></td></tr></table></figure>



<h2 id="æ–‡ä»¶ç›®å½•"><a href="#æ–‡ä»¶ç›®å½•" class="headerlink" title="æ–‡ä»¶ç›®å½•"></a>æ–‡ä»¶ç›®å½•</h2><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤æ–‡ä»¶/ç›®å½•</span></span><br><span class="line"><span class="built_in">rmdir</span> /s/q &lt;<span class="built_in">dir</span>&gt; åˆ é™¤æ•´ä¸ªç›®å½•</span><br><span class="line">    /s æ˜¯ä»£è¡¨åˆ é™¤æ‰€æœ‰å­ç›®å½•è·Ÿå…¶ä¸­çš„æ¡£æ¡ˆã€‚ </span><br><span class="line">    /q æ˜¯ä¸è¦å®ƒåœ¨åˆ é™¤æ¡£æ¡ˆæˆ–ç›®å½•æ—¶ï¼Œä¸å†é—®æˆ‘ Yes or No çš„åŠ¨ä½œã€‚ </span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç›®å½•</span></span><br><span class="line"><span class="built_in">md</span> &lt;catalogue&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–‡ä»¶åªè¯»ã€éšè—å±æ€§ä¿®æ”¹</span></span><br><span class="line">attrib S <span class="built_in">H</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å¸®åŠ©(cmd)</span></span><br><span class="line">help attrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ–‡ä»¶æˆ–ç›®å½•å½»åº•éšè—åœ¨èµ„æºç®¡ç†å™¨ä¸­</span></span><br><span class="line">attrib +s +a +<span class="built_in">h</span> +<span class="built_in">r</span> D:\\ico.ico</span><br><span class="line">attrib +s +a +<span class="built_in">h</span> +<span class="built_in">r</span> D:\\autorun.inf</span><br><span class="line"><span class="comment"># æ¢å¤æ­£å¸¸æ˜¾ç¤º</span></span><br><span class="line">attrib <span class="literal">-s</span> <span class="literal">-a</span> <span class="literal">-h</span> <span class="literal">-r</span> C:\\ico.ico</span><br></pre></td></tr></table></figure>



<h2 id="ç”µæºç›¸å…³"><a href="#ç”µæºç›¸å…³" class="headerlink" title="ç”µæºç›¸å…³"></a>ç”µæºç›¸å…³</h2><figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç”µæºæ§åˆ¶</span></span><br><span class="line"><span class="keyword">shutdown</span> <span class="string">/s</span>			å…³æœº</span><br><span class="line"><span class="keyword">shutdown</span> <span class="string">/r</span>			é‡å¯</span><br><span class="line"><span class="keyword">shutdown</span> <span class="string">/l</span>			æ³¨é”€</span><br><span class="line"><span class="keyword">shutdown</span> <span class="string">/h</span> <span class="string">/f</span>		ä¼‘çœ </span><br><span class="line"><span class="keyword">shutdown</span> <span class="string">/a</span>			å–æ¶ˆå…³æœº</span><br><span class="line"><span class="keyword">shutdown</span> <span class="string">/s</span> <span class="string">/t</span> 3600	å®šæ—¶å…³æœºï¼ˆå•ä½ç§’ï¼‰</span><br></pre></td></tr></table></figure>



<h2 id="ç½‘ç»œç›¸å…³"><a href="#ç½‘ç»œç›¸å…³" class="headerlink" title="ç½‘ç»œç›¸å…³"></a>ç½‘ç»œç›¸å…³</h2><figure class="highlight vala"><table><tr><td class="code"><pre><span class="line"><span class="meta"># ç½‘å¡ä¿¡æ¯</span></span><br><span class="line">ipconfig</span><br><span class="line"></span><br><span class="line"><span class="meta"># è·¯ç”±è·Ÿè¸ª</span></span><br><span class="line">tracert &lt;åŸŸå&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta"># ç½‘å…³(DNS)æŸ¥è¯¢</span></span><br><span class="line">nslookup &lt;åŸŸå&gt; [DNSæœåŠ¡å™¨]</span><br><span class="line"></span><br><span class="line"><span class="meta"># æŸ¥çœ‹è·¯ç”±è¡¨</span></span><br><span class="line">route print</span><br><span class="line"></span><br><span class="line"><span class="meta"># è®¾ç½®æ‰¿è½½ç½‘ç»œæ¨¡å¼</span></span><br><span class="line">netsh wlan <span class="keyword">set</span> hostednetwork mode=allow</span><br><span class="line"><span class="meta"># è®¾ç½®æ— çº¿çƒ­ç‚¹åç§°å’Œå¯†ç </span></span><br><span class="line">netsh wlan <span class="keyword">set</span> hostednetwork ssid=CooNb key=<span class="string">&quot;passwprd&quot;</span></span><br><span class="line"><span class="meta"># å¯åŠ¨æ‰¿è½½ç½‘ç»œ</span></span><br><span class="line">netsh wlan start hostednetwork</span><br><span class="line"></span><br><span class="line"><span class="meta"># HTTP ä»£ç†è®¾ç½®</span></span><br><span class="line"><span class="keyword">set</span> http_proxy=http:<span class="comment">//127.0.0.1:7890</span></span><br><span class="line"><span class="keyword">set</span> https_proxy=http:<span class="comment">//127.0.0.1:7890</span></span><br><span class="line"><span class="meta"># SOCKS5 ä»£ç†è®¾ç½®</span></span><br><span class="line"><span class="keyword">set</span> http_proxy=socks5:<span class="comment">//127.0.0.1:7890</span></span><br><span class="line"><span class="keyword">set</span> https_proxy=socks5:<span class="comment">//127.0.0.1:7890</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># å–æ¶ˆä»£ç†</span></span><br><span class="line">unset http_proxy &amp; unset https_proxy</span><br><span class="line"></span><br><span class="line"><span class="meta"># ä»£ç†æ£€æµ‹</span></span><br><span class="line">curl -vv http:<span class="comment">//www.google.com</span></span><br></pre></td></tr></table></figure>



<h2 id="ç¼–ç ç›¸å…³"><a href="#ç¼–ç ç›¸å…³" class="headerlink" title="ç¼–ç ç›¸å…³"></a>ç¼–ç ç›¸å…³</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å½“å‰ç¼–ç </span></span><br><span class="line">chcp</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ä¸ºUTF-8</span></span><br><span class="line">chcp 65001</span><br><span class="line">    - 65001  UTF-8</span><br><span class="line">    - 20936  GB2312</span><br><span class="line">    - 936    GBK</span><br><span class="line">    - 437    English US</span><br></pre></td></tr></table></figure>



<h2 id="å®ç”¨è®¾ç½®"><a href="#å®ç”¨è®¾ç½®" class="headerlink" title="å®ç”¨è®¾ç½®"></a>å®ç”¨è®¾ç½®</h2><h3 id="æ·»åŠ æ–°å»ºæ–‡æœ¬å¿«æ·é”®"><a href="#æ·»åŠ æ–°å»ºæ–‡æœ¬å¿«æ·é”®" class="headerlink" title="æ·»åŠ æ–°å»ºæ–‡æœ¬å¿«æ·é”®"></a>æ·»åŠ æ–°å»ºæ–‡æœ¬å¿«æ·é”®</h3><ul>
<li><code>Win + R</code>è¿è¡Œ<code>regedit</code>æ‰¾åˆ°<code>HKEY_CLASSES_ROOT\LocalSettings\ImmutableMuiCache\Strings\AAF68885</code></li>
<li>ä¹‹åæ‰¾åˆ°å³ä¾§çš„<code>@C:\Windows\system32\notepad.exe,-469</code>ï¼Œå°†å€¼ <code>æ–‡æœ¬æ–‡æ¡£</code> æ”¹ä¸º <code>æ–‡æœ¬æ–‡æ¡£ (&amp;T)</code></li>
<li>é‡åŠ¨èµ„æºç®¡ç†å™¨å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ï¼Œ<code>å³é”®&gt;w&gt;t</code>å°±å¯ä»¥å¿«é€Ÿæ–°å»ºä¸€ä¸ªTXTæ–‡æœ¬äº†</li>
</ul>
<h3 id="æ”¹å˜CMDç¼–ç ä¸ºUTF-8-ä»¥ä½¿ç”¨Truetypeå­—ä½“-ä¸æ¨è"><a href="#æ”¹å˜CMDç¼–ç ä¸ºUTF-8-ä»¥ä½¿ç”¨Truetypeå­—ä½“-ä¸æ¨è" class="headerlink" title="æ”¹å˜CMDç¼–ç ä¸ºUTF-8 ä»¥ä½¿ç”¨Truetypeå­—ä½“(ä¸æ¨è)"></a>æ”¹å˜CMDç¼–ç ä¸ºUTF-8 ä»¥ä½¿ç”¨Truetypeå­—ä½“(ä¸æ¨è)</h3><ul>
<li><code>Win + R</code>è¿è¡Œ<code>regedit</code>æ‰¾åˆ°<code>HKEY_LOCAL_MACHINE\Software\Microsoft\CommandProcessor</code></li>
<li>ä¿®æ”¹<code>Autorun</code>çš„å€¼ä¸º<code>@chcp 65001&gt;nul</code>ï¼Œå¦‚æœæ²¡æœ‰åˆ™åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹<code>Autorun</code>ï¼ŒæŠŠå€¼è®¾ä¸º<code>@chcp 65001&gt;nul</code></li>
<li>ç”¨ç®¡ç†å‘˜æƒé™æ‰“å¼€ä¸€ä¸ªCMDçª—å£ï¼Œè¾“å…¥<code>REG ADD &quot;HKLM\Software\Microsoft\Command Processor&quot; /v Autorun /t REG_SZ /d &quot;@chcp 65001&gt;nul&quot;</code></li>
<li>æŸ¥çœ‹<code>\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\WindowsNT\CurrentVersion\Console\TrueTypeFont</code></li>
</ul>
<h2 id="ç–‘éš¾æ‚ç—‡"><a href="#ç–‘éš¾æ‚ç—‡" class="headerlink" title="ç–‘éš¾æ‚ç—‡"></a>ç–‘éš¾æ‚ç—‡</h2><h3 id="è§£å†³æ–‡ä»¶è¢«å ç”¨"><a href="#è§£å†³æ–‡ä»¶è¢«å ç”¨" class="headerlink" title="è§£å†³æ–‡ä»¶è¢«å ç”¨"></a>è§£å†³æ–‡ä»¶è¢«å ç”¨</h3><p>æ–¹æ³•ä¸€</p>
<ul>
<li><p>å®šä½è¿›ç¨‹<br><code>Win+R</code>æ‰“å¼€ã€è¿è¡Œã€‘-&gt; è¾“å…¥<code>eventvwr.msc</code>å›è½¦æ‰“å¼€ã€äº‹ä»¶æŸ¥çœ‹å™¨ã€‘-&gt; äº‹ä»¶æŸ¥çœ‹å™¨ (æœ¬åœ°) -&gt; Windows æ—¥å¿—-&gt; ç³»ç»Ÿ -&gt; æ‰¾åˆ°æœ€è¿‘çš„ã€è­¦å‘Š æ¥æº Kernel-PnPã€‘-&gt; åŒå‡»æ‰“å¼€ -&gt; æ‰¾åˆ°ã€è¿›ç¨‹IDä¸º xx çš„åº”ç”¨ç¨‹åºå·²åœæ­¢åˆ é™¤æˆ–å¼¹å‡ºè®¾å¤‡ã€‘ï¼Œè®°ä½è¿™ä¸ªè¿›ç¨‹ IDã€‚</p>
</li>
<li><p>ç»“æŸè¿›ç¨‹</p>
<ul>
<li>æ‰“å¼€ã€ä»»åŠ¡ç®¡ç†å™¨ã€‘-&gt; è¯¦ç»†ä¿¡æ¯ -&gt; ç‚¹å‡» PID æ’åº -&gt; æ‰¾åˆ° ID å¯¹åº”çš„è¿›ç¨‹ï¼Œå°è¯•ç»“æŸè¿›ç¨‹ã€‚</li>
</ul>
</li>
</ul>
<p>æ–¹æ³•äºŒ</p>
<ul>
<li><code>Win+R</code> æ‰“å¼€ã€è¿è¡Œã€‘-&gt; è¾“å…¥ <code>taskmgr</code> å›è½¦æ‰“å¼€ã€ä»»åŠ¡ç®¡ç†å™¨ã€‘-&gt; æ€§èƒ½ -&gt; æ‰“å¼€èµ„æºç›‘è§†å™¨ -&gt; CPU -&gt; å…³è”çš„å¥æŸ„ -&gt; è¾“å…¥ä½ çš„ç›˜ç¬¦, ä¾‹å¦‚ä½ çš„ç§»åŠ¨å­˜å‚¨è®¾å¤‡æ˜¯ F ç›˜, è¾“å…¥ F: -&gt; æŠŠä¸‹é¢æœç´¢å‡ºæ¥çš„è¿›ç¨‹å…¨éƒ¨ç»“æŸã€‚</li>
</ul>
<p>æ–¹æ³•ä¸‰</p>
<ul>
<li><code>Win+X</code> æ‰“å¼€ è®¡ç®—æœºç®¡ç† -&gt; ç£ç›˜ç®¡ç†ï¼Œå³é”®ï¼Œé€‰æ‹©è„±æœº</li>
</ul>
<h3 id="å…³æœºåœç•™åœ¨ç­‰å¾…ç¨‹åºå…³é—­ç•Œé¢"><a href="#å…³æœºåœç•™åœ¨ç­‰å¾…ç¨‹åºå…³é—­ç•Œé¢" class="headerlink" title="å…³æœºåœç•™åœ¨ç­‰å¾…ç¨‹åºå…³é—­ç•Œé¢"></a>å…³æœºåœç•™åœ¨ç­‰å¾…ç¨‹åºå…³é—­ç•Œé¢</h3><p>æ‰“å¼€ <code>regedit</code></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">HKEY_CURRENT_USER\Control Panel\Desktop</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ é”®ï¼š<code>AutoEndTasks</code> å€¼ï¼š1</p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">bcdedit /<span class="built_in">set</span> bootstatuspolicy ignoreallfailures</span><br><span class="line">bcdedit /<span class="built_in">set</span> &#123;æœåŠ¡å&#125; recoveryenabled No  ä¿®æ”¹å¯åŠ¨</span><br></pre></td></tr></table></figure>



<h3 id="ç½‘ç»œæ­£å¸¸å›¾æ ‡æ˜¾ç¤ºæ— è¿æ¥"><a href="#ç½‘ç»œæ­£å¸¸å›¾æ ‡æ˜¾ç¤ºæ— è¿æ¥" class="headerlink" title="ç½‘ç»œæ­£å¸¸å›¾æ ‡æ˜¾ç¤ºæ— è¿æ¥"></a>ç½‘ç»œæ­£å¸¸å›¾æ ‡æ˜¾ç¤ºæ— è¿æ¥</h3><p>æ‰“å¼€ <code>regedit</code></p>
<figure class="highlight taggerscript"><table><tr><td class="code"><pre><span class="line">HKEY_LOCAL_MACHINE<span class="symbol">\S</span>YSTEM<span class="symbol">\C</span>urrentControlSet<span class="symbol">\s</span>ervices<span class="symbol">\N</span>laSvc<span class="symbol">\P</span>arameters<span class="symbol">\I</span>nternet</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ <code>EnableActiveProbing</code> å€¼ä¸º 0<br>æ‰“å¼€ <code>services.msc</code> æœåŠ¡ç®¡ç†<br>é‡å¯ <code>Microsoft Account Sign-in Assistant</code> æœåŠ¡</p>
<h3 id="é‡ç½®ç½‘ç»œè®¾ç½®åWiFiå›¾æ ‡æ¶ˆå¤±"><a href="#é‡ç½®ç½‘ç»œè®¾ç½®åWiFiå›¾æ ‡æ¶ˆå¤±" class="headerlink" title="é‡ç½®ç½‘ç»œè®¾ç½®åWiFiå›¾æ ‡æ¶ˆå¤±"></a>é‡ç½®ç½‘ç»œè®¾ç½®åWiFiå›¾æ ‡æ¶ˆå¤±</h3><p><code>Win+R</code>è¾“å…¥<code>services.msc</code><br>æ‰¾åˆ°<code>WLAN AutoConfig</code>å’Œ<code>Wired AutoConfig</code>æœåŠ¡ï¼Œç¡®ä¿æœåŠ¡ä¸ºå¼€å¯çŠ¶æ€</p>
<h3 id="è®¿é—®ä¸äº†ç½‘ç»œ"><a href="#è®¿é—®ä¸äº†ç½‘ç»œ" class="headerlink" title="è®¿é—®ä¸äº†ç½‘ç»œ"></a>è®¿é—®ä¸äº†ç½‘ç»œ</h3><ul>
<li>è¿è¡Œ inetcpl.cpl</li>
<li>é«˜çº§--ä½¿ç”¨TLS1.2--è¿˜åŸé«˜çº§è®¾ç½®</li>
</ul>
<h3 id="å–æ¶ˆå¾®è½¯æœåŠ¡ä»£ç†è½¬å‘"><a href="#å–æ¶ˆå¾®è½¯æœåŠ¡ä»£ç†è½¬å‘" class="headerlink" title="å–æ¶ˆå¾®è½¯æœåŠ¡ä»£ç†è½¬å‘"></a>å–æ¶ˆå¾®è½¯æœåŠ¡ä»£ç†è½¬å‘</h3><ul>
<li>å®‰è£…<code>Fiddler4</code></li>
<li>æ‰“å¼€å·¦ä¸Šè§’<code>winconfig</code></li>
<li>æŠŠå¾®è½¯äº§å“å…¨éƒ¨æ‰“å‹¾ä¿å­˜</li>
</ul>
<h3 id="ç¦ç”¨-æ¢å¤-Windows-Defender"><a href="#ç¦ç”¨-æ¢å¤-Windows-Defender" class="headerlink" title="ç¦ç”¨/æ¢å¤ Windows Defender"></a>ç¦ç”¨/æ¢å¤ Windows Defender</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç¦ç”¨</span></span><br><span class="line">reg add â€œHKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows Defenderâ€ /v â€œDisableAntiSpywareâ€ /d <span class="number">1</span> /t REG_DWORD /f</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤</span></span><br><span class="line">reg add â€œHKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows Defenderâ€ /v â€œDisableAntiSpywareâ€ /d <span class="number">0</span> /t REG_DWORD /f</span><br></pre></td></tr></table></figure>

<h3 id="ç”¨æˆ·æƒé™é—®é¢˜"><a href="#ç”¨æˆ·æƒé™é—®é¢˜" class="headerlink" title="ç”¨æˆ·æƒé™é—®é¢˜"></a>ç”¨æˆ·æƒé™é—®é¢˜</h3><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ–°å»ºç”¨æˆ·è´¦å·</span></span><br><span class="line">net user &lt;user&gt; &lt;passwd&gt; /add</span><br><span class="line"><span class="comment"># èµ‹äºˆè¯¥è´¦å·ç®¡ç†å‘˜æƒé™</span></span><br><span class="line">net localgroup administrators &lt;user&gt; /add</span><br><span class="line"><span class="comment"># åˆ é™¤ç”¨æˆ·è´¦å·</span></span><br><span class="line">net user &lt;user&gt; /<span class="built_in">del</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å‘½ä»¤æ–‡æ¡£</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>cmd</tag>
        <tag>PowerShell</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼æ‰‹å†Œ</title>
    <url>/regex/</url>
    <content><![CDATA[<h2 id="è¡¨è¾¾å¼å…¨é›†"><a href="#è¡¨è¾¾å¼å…¨é›†" class="headerlink" title="è¡¨è¾¾å¼å…¨é›†"></a>è¡¨è¾¾å¼å…¨é›†</h2><table>
<thead>
<tr>
<th align="center">å­—ç¬¦</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>*</strong></td>
<td align="left">å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>n</code>åŒ¹é…å­—ç¬¦<code>n</code>ã€‚<code>\n</code>åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œ<code>\\</code>åŒ¹é…<code>\</code>è€Œ<code>\(</code>åˆ™åŒ¹é…<code>(</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>^</strong></td>
<td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±æ€§ï¼Œ^ä¹ŸåŒ¹é…<code>\n</code>æˆ–<code>\r</code>ä¹‹åçš„ä½ç½®ã€‚</td>
</tr>
<tr>
<td align="center"><strong>$</strong></td>
<td align="left">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±æ€§ï¼Œ$ä¹ŸåŒ¹é…<code>\n</code>æˆ–<code>\r</code>ä¹‹å‰çš„ä½ç½®ã€‚</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo<em>èƒ½åŒ¹é…<code>z</code>ä»¥åŠ<code>zoo</code>ã€‚</em>ç­‰ä»·äº{0,}ã€‚</td>
</tr>
<tr>
<td align="center"><strong>+</strong></td>
<td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>zo+</code>èƒ½åŒ¹é…<code>zo</code>ä»¥åŠ<code>zoo</code>ï¼Œä½†ä¸èƒ½åŒ¹é…<code>z</code>ã€‚+ç­‰ä»·äº{1,}ã€‚</td>
</tr>
<tr>
<td align="center"><strong>?</strong></td>
<td align="left">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>do(es)?</code>å¯ä»¥åŒ¹é…<code>does</code>æˆ–<code>does</code>ä¸­çš„<code>do</code>ã€‚?ç­‰ä»·äº{0,1}ã€‚</td>
</tr>
<tr>
<td align="center"><strong>{<em>n</em>}</strong></td>
<td align="left"><em>n</em>æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„<em>n</em>æ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>o&#123;2&#125;</code>ä¸èƒ½åŒ¹é…<code>Bob</code>ä¸­çš„<code>o</code>ï¼Œä½†æ˜¯èƒ½åŒ¹é…<code>food</code>ä¸­çš„ä¸¤ä¸ªoã€‚</td>
</tr>
<tr>
<td align="center"><strong>{<em>n</em>,}</strong></td>
<td align="left"><em>n</em>æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…<em>n</em>æ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>o&#123;2,&#125;</code>ä¸èƒ½åŒ¹é…<code>Bob</code>ä¸­çš„<code>o</code>ï¼Œä½†èƒ½åŒ¹é…<code>foooood</code>ä¸­çš„æ‰€æœ‰oã€‚<code>o&#123;1,&#125;</code>ç­‰ä»·äº<code>o+</code>ã€‚<code>o&#123;0,&#125;</code>åˆ™ç­‰ä»·äº<code>o*</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>{<em>n</em>,<em>m</em>}</strong></td>
<td align="left"><em>m</em>å’Œ<em>n</em>å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­<em>n</em>&lt;=<em>m</em>ã€‚æœ€å°‘åŒ¹é…<em>n</em>æ¬¡ä¸”æœ€å¤šåŒ¹é…<em>m</em>æ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>o&#123;1,3&#125;</code>å°†åŒ¹é…<code>fooooood</code>ä¸­çš„å‰ä¸‰ä¸ªoã€‚<code>o&#123;0,1&#125;</code>ç­‰ä»·äº<code>o?</code>ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</td>
</tr>
<tr>
<td align="center"><strong>?</strong></td>
<td align="left">å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ï¼ˆ*,+,?ï¼Œ{<em>n</em>}ï¼Œ{<em>n</em>,}ï¼Œ{<em>n</em>,<em>m</em>}ï¼‰åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸²<code>oooo</code>ï¼Œ<code>o+?</code>å°†åŒ¹é…å•ä¸ª<code>o</code>ï¼Œè€Œ<code>o+</code>å°†åŒ¹é…æ‰€æœ‰<code>o</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>.</strong></td>
<td align="left">åŒ¹é…é™¤<code>\</code>*<code>n</code><em>ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬<code>\</code></em><code>n</code>*åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒ`(.</td>
</tr>
<tr>
<td align="center"><strong>(pattern)</strong></td>
<td align="left">åŒ¹é…patternå¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„Matchesé›†åˆå¾—åˆ°ï¼Œåœ¨VBScriptä¸­ä½¿ç”¨SubMatchesé›†åˆï¼Œåœ¨JScriptä¸­åˆ™ä½¿ç”¨$0â€¦$9å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨<code>\(</code>æˆ–<code>\)</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>(?:pattern)</strong></td>
<td align="left">åŒ¹é…patternä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨æˆ–å­—ç¬¦`(</td>
</tr>
<tr>
<td align="center"><strong>(?=pattern)</strong></td>
<td align="left">æ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ`Windows(?=95</td>
</tr>
<tr>
<td align="center"><strong>(?!pattern)</strong></td>
<td align="left">æ­£å‘å¦å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚`Windows(?!95</td>
</tr>
<tr>
<td align="center"><strong>(?&lt;=pattern)</strong></td>
<td align="left">åå‘è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œ`(?&lt;=95</td>
</tr>
<tr>
<td align="center"><strong>(?&lt;!pattern)</strong></td>
<td align="left">åå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚`(?&lt;!95</td>
</tr>
<tr>
<td align="center"><strong>x|y</strong></td>
<td align="left">åŒ¹é…xæˆ–yã€‚ä¾‹å¦‚ï¼Œ`z</td>
</tr>
<tr>
<td align="center"><strong>[xyz]</strong></td>
<td align="left">å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>[abc]</code>å¯ä»¥åŒ¹é…<code>plain</code>ä¸­çš„<code>a</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>[^xyz]</strong></td>
<td align="left">è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>[^abc]</code>å¯ä»¥åŒ¹é…<code>plain</code>ä¸­çš„<code>p</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>[a-z]</strong></td>
<td align="left">å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>[a-z]</code>å¯ä»¥åŒ¹é…<code>a</code>åˆ°<code>z</code>èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="center"><strong>[^a-z]</strong></td>
<td align="left">è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>[^a-z]</code>å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨<code>a</code>åˆ°<code>z</code>èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\b</strong></td>
<td align="left">åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ<code>er\b</code>å¯ä»¥åŒ¹é…<code>never</code>ä¸­çš„<code>er</code>ï¼Œä½†ä¸èƒ½åŒ¹é…<code>verb</code>ä¸­çš„<code>er</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\B</strong></td>
<td align="left">åŒ¹é…éå•è¯è¾¹ç•Œã€‚<code>er\B</code>èƒ½åŒ¹é…<code>verb</code>ä¸­çš„<code>er</code>ï¼Œä½†ä¸èƒ½åŒ¹é…<code>never</code>ä¸­çš„<code>er</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\cx</strong></td>
<td align="left">åŒ¹é…ç”±xæŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\cMåŒ¹é…ä¸€ä¸ªControl-Mæˆ–å›è½¦ç¬¦ã€‚xçš„å€¼å¿…é¡»ä¸ºA-Zæˆ–a-zä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°†cè§†ä¸ºä¸€ä¸ªåŸä¹‰çš„<code>c</code>å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\d</strong></td>
<td align="left">åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº[0-9]ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\D</strong></td>
<td align="left">åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº[^0-9]ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\f</strong></td>
<td align="left">åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº\x0cå’Œ\cLã€‚</td>
</tr>
<tr>
<td align="center"><strong>\n</strong></td>
<td align="left">åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº\x0aå’Œ\cJã€‚</td>
</tr>
<tr>
<td align="center"><strong>\r</strong></td>
<td align="left">åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº\x0då’Œ\cMã€‚</td>
</tr>
<tr>
<td align="center"><strong>\s</strong></td>
<td align="left">åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº[ \f\n\r\t\v]ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\S</strong></td>
<td align="left">åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº[^ \f\n\r\t\v]ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\t</strong></td>
<td align="left">åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº\x09å’Œ\cIã€‚</td>
</tr>
<tr>
<td align="center"><strong>\v</strong></td>
<td align="left">åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº\x0bå’Œ\cKã€‚</td>
</tr>
<tr>
<td align="center"><strong>\w</strong></td>
<td align="left">åŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ã€‚ç­‰ä»·äº<code>[A-Za-z0-9_]</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\W</strong></td>
<td align="left">åŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ã€‚ç­‰ä»·äº<code>[^A-Za-z0-9_]</code>ã€‚</td>
</tr>
<tr>
<td align="center"><strong>\x<em>n</em></strong></td>
<td align="left">åŒ¹é…<em>n</em>ï¼Œå…¶ä¸­<em>n</em>ä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œ<code>\x41</code>åŒ¹é…<code>A</code>ã€‚<code>\x041</code>åˆ™ç­‰ä»·äº<code>\x04&amp;1</code>ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ASCIIç¼–ç ã€‚.</td>
</tr>
<tr>
<td align="center"><strong>*num</strong>*</td>
<td align="left">åŒ¹é…<em>num</em>ï¼Œå…¶ä¸­<em>num</em>æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€è·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œ<code>(.)\1</code>åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚</td>
</tr>
<tr>
<td align="center"><strong>*n</strong>*</td>
<td align="left">æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ*n<em>ä¹‹å‰è‡³å°‘</em>n<em>ä¸ªè·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™</em>n<em>ä¸ºå‘åå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœ</em>n<em>ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™</em>n*ä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚</td>
</tr>
<tr>
<td align="center"><strong>*nm</strong>*</td>
<td align="left">æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ*nm<em>ä¹‹å‰è‡³å°‘æœ‰</em>nm<em>ä¸ªè·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™</em>nm<em>ä¸ºå‘åå¼•ç”¨ã€‚å¦‚æœ*nm</em>ä¹‹å‰è‡³å°‘æœ‰<em>n</em>ä¸ªè·å–ï¼Œåˆ™<em>n</em>ä¸ºä¸€ä¸ªåè·Ÿæ–‡å­—<em>m</em>çš„å‘åå¼•ç”¨ã€‚å¦‚æœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥<em>n</em>å’Œ<em>m</em>å‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™*nm<em>å°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼</em>nm*ã€‚</td>
</tr>
<tr>
<td align="center"><strong>*nml</strong>*</td>
<td align="left">å¦‚æœ<em>n</em>ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-3ï¼‰ï¼Œä¸”<em>må’Œl</em>å‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼<em>nm</em>lã€‚</td>
</tr>
<tr>
<td align="center"><strong>\u<em>n</em></strong></td>
<td align="left">åŒ¹é…<em>n</em>ï¼Œå…¶ä¸­<em>n</em>æ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„Unicodeå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\u00A9åŒ¹é…ç‰ˆæƒç¬¦å·ï¼ˆÂ©ï¼‰ã€‚</td>
</tr>
</tbody></table>
<h2 id="å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"><a href="#å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"></a>å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼</h2><table>
<thead>
<tr>
<th align="left">ç±»å‹</th>
<th>regex</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ç”¨æˆ·å</td>
<td>/^[a-z0-9_-]{3,16}$/</td>
</tr>
<tr>
<td align="left">å¯†ç </td>
<td>/^[a-z0-9_-]{6,18}$/</td>
</tr>
<tr>
<td align="left">åå…­è¿›åˆ¶å€¼</td>
<td>/^#?([a-f0-9]{6}|[a-f0-9]{3})$/</td>
</tr>
<tr>
<td align="left">ç”µå­é‚®ç®±</td>
<td>/^([a-z0-9_.-]+)@([\da-z.-]+).([a-z.]{2,6})$/ /^[a-z\d]+(.[a-z\d]+)*@(<a href="-%5B%5Cda-z%5D">\da-z</a>?)+(.{1,2}[a-z]+)+$/</td>
</tr>
<tr>
<td align="left">URL</td>
<td>/^(https?://)?([\da-z.-]+).([a-z.]{2,6})([/\w .-]*)*/?$/</td>
</tr>
<tr>
<td align="left">IP åœ°å€</td>
<td>/((2[0-4]\d|25[0-5]|[01]?\d\d?).){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)/ /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/</td>
</tr>
<tr>
<td align="left">HTML æ ‡ç­¾</td>
<td>/^&lt;([a-z]+)([^&lt;]+)<em>(?:&gt;(.</em>)&lt;/\1&gt;|\s+/&gt;)$/</td>
</tr>
<tr>
<td align="left">åˆ é™¤ä»£ç \æ³¨é‡Š</td>
<td>(?&lt;!http:|\S)//.*$</td>
</tr>
<tr>
<td align="left">Unicodeç¼–ç ä¸­çš„æ±‰å­—èŒƒå›´</td>
<td>/^[\u2E80-\u9FFF]+$/</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>å‘½ä»¤æ–‡æ¡£</category>
      </categories>
      <tags>
        <tag>regex</tag>
      </tags>
  </entry>
  <entry>
    <title>Nginx configure å‚æ•°</title>
    <url>/9967ace7/</url>
    <content><![CDATA[<blockquote>
<p>å®˜æ–¹æ–‡æ¡£ -&gt; <span class="exturl" data-url="aHR0cHM6Ly9uZ2lueC5vcmcvZW4vZG9jcy9jb25maWd1cmUuaHRtbA==">ğŸšª</span></p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> å‘½ä»¤è¡ŒæŸ¥çœ‹</span> </span><br><span class="line">./configure --help</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>--help</td>
<td>æ˜¾ç¤ºæœ¬æç¤ºä¿¡æ¯</td>
</tr>
<tr>
<td>--prefix=PATH</td>
<td>è®¾å®šå®‰è£…ç›®å½•</td>
</tr>
<tr>
<td>--sbin-path=PATH</td>
<td>è®¾å®šç¨‹åºæ–‡ä»¶ç›®å½•</td>
</tr>
<tr>
<td>--conf-path=PATH</td>
<td>è®¾å®šé…ç½®æ–‡ä»¶(nginx.conf)ç›®å½•</td>
</tr>
<tr>
<td>--error-log-path=PATH</td>
<td>è®¾å®šé”™è¯¯æ—¥å¿—ç›®å½•</td>
</tr>
<tr>
<td>--pid-path=PATH</td>
<td>è®¾å®špidæ–‡ä»¶(nginx.pid)ç›®å½•</td>
</tr>
<tr>
<td>--lock-path=PATH</td>
<td>è®¾å®šlockæ–‡ä»¶(nginx.lock)ç›®å½•</td>
</tr>
<tr>
<td>--user=USER</td>
<td>è®¾å®šç¨‹åºè¿è¡Œçš„ç”¨æˆ·ç¯å¢ƒ(www)</td>
</tr>
<tr>
<td>--group=GROUP</td>
<td>è®¾å®šç¨‹åºè¿è¡Œçš„ç»„ç¯å¢ƒ(www)</td>
</tr>
<tr>
<td>--builddir=DIR</td>
<td>è®¾å®šç¨‹åºç¼–è¯‘ç›®å½•</td>
</tr>
<tr>
<td>--with-rtsig_module</td>
<td>å…è®¸rtsigæ¨¡å—</td>
</tr>
<tr>
<td>--with-select_module</td>
<td>å…è®¸selectæ¨¡å—(ä¸€ç§è½®è¯¢æ¨¡å¼,ä¸æ¨èç”¨åœ¨é«˜è½½ç¯å¢ƒ)</td>
</tr>
<tr>
<td>--without-select_module</td>
<td>ä¸ä½¿ç”¨selectæ¨¡å—</td>
</tr>
<tr>
<td>--with-poll_module</td>
<td>å…è®¸pollæ¨¡å—(ä¸€ç§è½®è¯¢æ¨¡å¼,ä¸æ¨èç”¨åœ¨é«˜è½½ç¯å¢ƒ)</td>
</tr>
<tr>
<td>--without-poll_module</td>
<td>ä¸ä½¿ç”¨pollæ¨¡å—</td>
</tr>
<tr>
<td>--with-http_ssl_module</td>
<td>å…è®¸ngx_http_ssl_moduleæ¨¡å—(Apacheå¯¹åº”:mod_ssl)</td>
</tr>
<tr>
<td>--with-http_realip_module</td>
<td>å…è®¸ngx_http_realip_moduleæ¨¡å—(mod_rpaf)</td>
</tr>
<tr>
<td>--with-http_addition_module</td>
<td>å…è®¸ngx_http_addition_moduleæ¨¡å—(mod_layout)</td>
</tr>
<tr>
<td>--with-http_xslt_module</td>
<td>å…è®¸ngx_http_xslt_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--with-http_sub_module</td>
<td>å…è®¸ngx_http_sub_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--with-http_dav_module</td>
<td>å…è®¸ngx_http_dav_moduleæ¨¡å—(mod_dav)</td>
</tr>
<tr>
<td>--with-http_flv_module</td>
<td>å…è®¸ngx_http_flv_moduleæ¨¡å—(mod_flvx)</td>
</tr>
<tr>
<td>--with-http_gzip_static_module</td>
<td>å…è®¸ngx_http_gzip_static_moduleæ¨¡å—(mod_dflate)</td>
</tr>
<tr>
<td>--with-http_random_index_module</td>
<td>å…è®¸ngx_http_random_index_moduleæ¨¡å—(mod_autoindex)</td>
</tr>
<tr>
<td>--with-http_stub_status_module</td>
<td>å…è®¸ngx_http_stub_status_moduleæ¨¡å—(mod_status)</td>
</tr>
<tr>
<td>--without-http_charset_module</td>
<td>ä¸ä½¿ç”¨ngx_http_charset_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_gzip_module</td>
<td>ä¸ä½¿ç”¨ngx_http_gzip_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_ssi_module</td>
<td>ä¸ä½¿ç”¨ngx_http_ssi_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_userid_module</td>
<td>ä¸ä½¿ç”¨ngx_http_userid_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_access_module</td>
<td>ä¸ä½¿ç”¨ngx_http_access_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_auth_basic_module</td>
<td>ä¸ä½¿ç”¨ngx_http_auth_basic_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_autoindex_module</td>
<td>ä¸ä½¿ç”¨ngx_http_autoindex_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_geo_module</td>
<td>ä¸ä½¿ç”¨ngx_http_geo_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_map_module</td>
<td>ä¸ä½¿ç”¨ngx_http_map_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_referer_module</td>
<td>ä¸ä½¿ç”¨ngx_http_referer_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_rewrite_module</td>
<td>ä¸ä½¿ç”¨ngx_http_rewrite_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_proxy_module</td>
<td>ä¸ä½¿ç”¨ngx_http_proxy_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_fastcgi_module</td>
<td>ä¸ä½¿ç”¨ngx_http_fastcgi_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_memcached_module</td>
<td>ä¸ä½¿ç”¨ngx_http_memcached_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_limit_zone_module</td>
<td>ä¸ä½¿ç”¨ngx_http_limit_zone_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_empty_gif_module</td>
<td>ä¸ä½¿ç”¨ngx_http_empty_gif_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_browser_module</td>
<td>ä¸ä½¿ç”¨ngx_http_browser_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-http_upstream_ip_hash_module</td>
<td>ä¸ä½¿ç”¨ngx_http_upstream_ip_hash_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--with-http_perl_module</td>
<td>å…è®¸ngx_http_perl_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--with-perl_modules_path=PATH</td>
<td>è®¾ç½®perlæ¨¡å—è·¯å¾„</td>
</tr>
<tr>
<td>--with-perl=PATH</td>
<td>è®¾ç½®perlåº“æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>--http-log-path=PATH</td>
<td>è®¾ç½®access logæ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>--http-client-body-temp-path=PATH</td>
<td>è®¾ç½®å®¢æˆ·ç«¯è¯·æ±‚ä¸´æ—¶æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>--http-proxy-temp-path=PATH</td>
<td>è®¾ç½®http proxyä¸´æ—¶æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>--http-fastcgi-temp-path=PATH</td>
<td>è®¾ç½®http fastcgiä¸´æ—¶æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>--without-http</td>
<td>ä¸ä½¿ç”¨HTTP serveråŠŸèƒ½</td>
</tr>
<tr>
<td>--with-mail</td>
<td>å…è®¸POP3/IMAP4/SMTPä»£ç†æ¨¡å—</td>
</tr>
<tr>
<td>--with-mail_ssl_module</td>
<td>å…è®¸ngx_mail_ssl_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-mail_pop3_module</td>
<td>ä¸å…è®¸ngx_mail_pop3_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-mail_imap_module</td>
<td>ä¸å…è®¸ngx_mail_imap_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--without-mail_smtp_module</td>
<td>ä¸å…è®¸ngx_mail_smtp_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--with-google_perftools_module</td>
<td>å…è®¸ngx_google_perftools_moduleæ¨¡å—(è°ƒè¯•ç”¨)</td>
</tr>
<tr>
<td>--with-cpp_test_module</td>
<td>å…è®¸ngx_cpp_test_moduleæ¨¡å—</td>
</tr>
<tr>
<td>--add-module=PATH</td>
<td>å…è®¸ä½¿ç”¨å¤–éƒ¨æ¨¡å—,ä»¥åŠè·¯å¾„</td>
</tr>
<tr>
<td>--with-cc=PATH</td>
<td>è®¾ç½®Cç¼–è¯‘å™¨è·¯å¾„</td>
</tr>
<tr>
<td>--with-cpp=PATH</td>
<td>è®¾ç½®Cé¢„å¤„ç†è·¯å¾„</td>
</tr>
<tr>
<td>--with-cc-opt=OPTIONS</td>
<td>è®¾ç½®Cç¼–è¯‘å™¨å‚æ•°</td>
</tr>
<tr>
<td>--with-ld-opt=OPTIONS</td>
<td>è®¾ç½®è¿æ¥æ–‡ä»¶å‚æ•°</td>
</tr>
<tr>
<td>--with-cpu-opt=CPU</td>
<td>ä¸ºæŒ‡å®šCPUä¼˜åŒ–,å¯é€‰å‚æ•°æœ‰:</td>
</tr>
<tr>
<td>pentium,</td>
<td>pentiumpro, pentium3, pentium4,</td>
</tr>
<tr>
<td>athlon,</td>
<td>opteron, sparc32, sparc64, ppc64</td>
</tr>
<tr>
<td>--without-pcre</td>
<td>ä¸ä½¿ç”¨pcreåº“æ–‡ä»¶</td>
</tr>
<tr>
<td>--with-pcre=DIR</td>
<td>è®¾å®šPCREåº“è·¯å¾„</td>
</tr>
<tr>
<td>--with-pcre-opt=OPTIONS</td>
<td>è®¾ç½®PCREè¿è¡Œå‚æ•°</td>
</tr>
<tr>
<td>--with-md5=DIR</td>
<td>è®¾å®šmd5åº“æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>--with-md5-opt=OPTIONS</td>
<td>è®¾ç½®md5è¿è¡Œå‚æ•°</td>
</tr>
<tr>
<td>--with-md5-asm</td>
<td>ä½¿ç”¨md5æºæ–‡ä»¶ç¼–è¯‘</td>
</tr>
<tr>
<td>--with-sha1=DIR</td>
<td>è®¾å®šsha1åº“æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>--with-sha1-opt=OPTIONS</td>
<td>è®¾ç½®sha1è¿è¡Œå‚æ•°</td>
</tr>
<tr>
<td>--with-sha1-asm</td>
<td>ä½¿ç”¨sha1æºæ–‡ä»¶ç¼–è¯‘</td>
</tr>
<tr>
<td>--with-zlib=DIR</td>
<td>è®¾å®šzlibåº“æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>--with-zlib-opt=OPTIONS</td>
<td>è®¾ç½®zlibè¿è¡Œå‚æ•°</td>
</tr>
<tr>
<td>--with-zlib-asm=CPU</td>
<td>ä½¿zlibå¯¹ç‰¹å®šçš„CPUè¿›è¡Œä¼˜åŒ–,å¯é€‰å‚æ•°:</td>
</tr>
<tr>
<td>pentium,</td>
<td>pentiumpro</td>
</tr>
<tr>
<td>--with-openssl=DIR</td>
<td>è®¾å®šOpenSSLåº“æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td>--with-openssl-opt=OPTIONS</td>
<td>è®¾ç½®OpenSSLè¿è¡Œå‚æ•°</td>
</tr>
<tr>
<td>--with-debug</td>
<td>å…è®¸è°ƒè¯•æ—¥å¿—</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>å‘½ä»¤æ–‡æ¡£</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>git å‘½ä»¤</title>
    <url>/git/</url>
    <content><![CDATA[<h2 id="é…ç½®å‘½ä»¤"><a href="#é…ç½®å‘½ä»¤" class="headerlink" title="é…ç½®å‘½ä»¤"></a>é…ç½®å‘½ä»¤</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git config user.name &lt;name&gt;</span><br><span class="line">git config user.email &lt;email&gt;</span><br><span class="line">git config --global user.name &lt;name&gt;	<span class="comment"># é…ç½®å…¨å±€ç”¨æˆ·å</span></span><br><span class="line">git config --global user.email &lt;email&gt;	<span class="comment"># é…ç½®å…¨å±€é‚®ç®±</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¢œè‰²æ ‡è¯†ï¼ˆé»˜è®¤å¼€å¯ï¼‰</span></span><br><span class="line">git config --global color.ui <span class="literal">true</span></span><br><span class="line">git config --global color.status auto</span><br><span class="line">git config --global color.diff auto</span><br><span class="line">git config --global color.branch auto</span><br><span class="line">git config --global color.interactive auto</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®ä»£ç†</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy &lt;proxy&gt;</span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy &lt;proxy&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å–æ¶ˆä»£ç†</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹é…ç½®</span></span><br><span class="line">git config list</span><br></pre></td></tr></table></figure>



<h2 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–ä»“åº“</span></span><br><span class="line">git init</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…‹éš†ä»“åº“</span></span><br><span class="line">git <span class="built_in">clone</span> &lt;url&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ–‡ä»¶åˆ°index</span></span><br><span class="line">git add &lt;pathspec&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤indexä¸­çš„æ–‡ä»¶</span></span><br><span class="line">git rm &lt;pathspec&gt;</span><br><span class="line"><span class="comment"># åˆ é™¤æœªæäº¤ç¼“å­˜</span></span><br><span class="line">git rm --cached &lt;pathspec&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ä»“åº“çŠ¶æ€</span></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">git <span class="built_in">log</span></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ†æ”¯åˆå¹¶</span></span><br><span class="line">git <span class="built_in">log</span> --graph</span><br><span class="line"><span class="comment"># ç²¾ç®€æŸ¥çœ‹</span></span><br><span class="line">git <span class="built_in">log</span> --graph --pretty=oneline --abbrev-commit</span><br><span class="line"></span><br><span class="line">git commit -m &lt;message&gt;			<span class="comment"># æäº¤æ–‡ä»¶ï¼Œé™„å¸¦ç‰ˆæœ¬è¯´æ˜</span></span><br><span class="line">git commit --amend -m &lt;message&gt;		<span class="comment"># åˆå¹¶ä¸Šä¸€æ¬¡æäº¤ï¼ˆç”¨äºåå¤ä¿®æ”¹ï¼‰</span></span><br><span class="line">git commit -am &lt;message&gt;		<span class="comment"># å°†addå’Œcommitåˆä¸ºä¸€æ­¥</span></span><br><span class="line"></span><br><span class="line">git remote -v				<span class="comment"># æŸ¥çœ‹è¿œç¨‹ä»“åº“åœ°å€</span></span><br><span class="line">git remote add origin &lt;url&gt;		<span class="comment"># æ·»åŠ originåˆ†æ”¯</span></span><br><span class="line">git remote rm origin			<span class="comment"># åˆ é™¤originåˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡æ–°è®¾ç½®è¿œç¨‹ä»“åº“åœ°å€</span></span><br><span class="line">git remote set-url origin &lt;git.url&gt;</span><br><span class="line"></span><br><span class="line">git pull	<span class="comment"># æ‹‰ ç®€å†™å½¢å¼</span></span><br><span class="line">git pull origin master			<span class="comment"># åŒæ­¥è¿œç¨‹ä»“åº“æ›´æ–°åˆ°masteråˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line">git push	<span class="comment"># æ¨ ç®€å†™å½¢å¼</span></span><br><span class="line">git push -u origin master		<span class="comment"># æ¨é€æœ¬åœ°ä»“åº“åˆ°originåˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å½“å‰åˆ†æ”¯çš„å…³è”çš„è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git branch --set-upstream-to=origin/master master</span><br></pre></td></tr></table></figure>



<h2 id="è¿›é˜¶å‘½ä»¤"><a href="#è¿›é˜¶å‘½ä»¤" class="headerlink" title="è¿›é˜¶å‘½ä»¤"></a>è¿›é˜¶å‘½ä»¤</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹ differenceï¼ˆå·®å¼‚ï¼‰</span></span><br><span class="line">git diff		<span class="comment"># å·¥ä½œåŒºä¸æš‚å­˜åŒº</span></span><br><span class="line">git diff --cached 	<span class="comment"># æš‚å­˜åŒºä¸ç‰ˆæœ¬åº“</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬ HEAD~100 å‰100ä¸ªç‰ˆæœ¬ å¯æŒ‡å®š&lt;ç‰ˆæœ¬å·&gt;</span></span><br><span class="line">git reset --hard HEAD^</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ†æ”¯</span></span><br><span class="line">git branch</span><br><span class="line">git branch &lt;branch&gt; 	<span class="comment"># åˆ›å»ºåˆ†æ”¯</span></span><br><span class="line">git branch -d &lt;branch&gt;	<span class="comment"># åˆ é™¤åˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¢å¤ï¼ˆåˆ é™¤ï¼‰å·¥ä½œåŒºæ›´æ”¹</span></span><br><span class="line">git checkout</span><br><span class="line">git checkout &lt;branch&gt; 	<span class="comment"># åˆ‡æ¢åˆ†æ”¯</span></span><br><span class="line">git checkout -b &lt;branch&gt;<span class="comment"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶åˆ†æ”¯</span></span><br><span class="line">git merge &lt;branch&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ‰€æœ‰è¿œç¨‹åˆ†æ”¯ï¼ˆä¸æ›´æ–°æœ¬åœ°åˆ†æ”¯ï¼Œå¦éœ€mergeï¼‰</span></span><br><span class="line">git fetch</span><br><span class="line"><span class="comment"># è·å–æ‰€æœ‰åŸåˆ›åˆ†æ”¯å¹¶æ¸…é™¤æœåŠ¡å™¨ä¸Šå·²åˆ æ‰çš„åˆ†æ”¯</span></span><br><span class="line">git fetch --prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶åˆ†æ”¯ä½†ä¸ä¸¢å¼ƒåˆ†æ”¯ä¿¡æ¯</span></span><br><span class="line">git merge --no-ff -m <span class="string">&quot;merge with no-ff&quot;</span> &lt;branch&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºä¸´æ—¶åˆ†æ”¯</span></span><br><span class="line">git stash</span><br><span class="line">git stash list	<span class="comment"># æŸ¥çœ‹ä¸´æ—¶åˆ†æ”¯</span></span><br><span class="line">git stash drop	<span class="comment"># åˆ é™¤stash</span></span><br><span class="line">git stash apply	<span class="comment"># æ¢å¤åˆ†æ”¯å†…å®¹</span></span><br><span class="line">git stash pop	<span class="comment"># æ¢å¤åˆ†æ”¯å†…å®¹å¹¶åˆ é™¤stash</span></span><br><span class="line">git stash apply stash@&#123;0&#125;<span class="comment"># æ¢å¤æŒ‡å®šçš„stash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶ä¸€ä¸ªç‰¹å®šçš„æäº¤åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">git cherry-pick &lt;ç‰ˆæœ¬å·&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡æ¢åˆ†æ”¯</span></span><br><span class="line">git checkout 1acd5de</span><br><span class="line"><span class="comment"># ä¿å­˜ä¿®æ”¹ååˆ†æ”¯</span></span><br><span class="line">it switch -c &lt;æ–°åˆ†æ”¯å&gt;</span><br><span class="line"><span class="comment"># æ¢å¤åˆ‡æ¢å‰åˆ†æ”¯</span></span><br><span class="line">git switch -</span><br></pre></td></tr></table></figure>



<h2 id="åˆ†æ”¯ç›¸å…³"><a href="#åˆ†æ”¯ç›¸å…³" class="headerlink" title="åˆ†æ”¯ç›¸å…³"></a>åˆ†æ”¯ç›¸å…³</h2><h3 id="æ›¿æ¢åˆ†æ”¯"><a href="#æ›¿æ¢åˆ†æ”¯" class="headerlink" title="æ›¿æ¢åˆ†æ”¯"></a>æ›¿æ¢åˆ†æ”¯</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å°†masteræ›¿æ¢æˆmainf</span></span><br><span class="line">git checkout main</span><br><span class="line">git merge -s ours master	<span class="comment"># git --strategy=ours ours master</span></span><br><span class="line">git checkout master</span><br><span class="line">git merge main</span><br></pre></td></tr></table></figure>



<h2 id="å­æ¨¡å—"><a href="#å­æ¨¡å—" class="headerlink" title="å­æ¨¡å—"></a>å­æ¨¡å—</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹å­æ¨¡å—</span></span><br><span class="line">git submodule</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å­æ¨¡å—</span></span><br><span class="line">git submodule add &lt;é¡¹ç›®åœ°å€&gt; &lt;è·¯å¾„&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°å­æ¨¡å—</span></span><br><span class="line">git submodule update --init --remote --recursive</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å­æ¨¡å—</span></span><br><span class="line">git rm -rf --cached &lt;è·¯å¾„&gt;</span><br></pre></td></tr></table></figure>



<h2 id="zsh-å¿«æ·å‘½ä»¤"><a href="#zsh-å¿«æ·å‘½ä»¤" class="headerlink" title="zsh å¿«æ·å‘½ä»¤"></a>zsh å¿«æ·å‘½ä»¤</h2><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gapa    	git add --patch</span><br><span class="line">gc!   		git commit -v --amend</span><br><span class="line">gcl  		git <span class="built_in">clone</span> --recursive</span><br><span class="line">gclean    	git reset --hard &amp;&amp; git clean -dfx</span><br><span class="line">gcm    		git checkout master</span><br><span class="line">gcmsg    	git commit -m</span><br><span class="line">gco    		git checkout</span><br><span class="line">gd    		git diff</span><br><span class="line">gdca    	git diff --cached</span><br><span class="line">gp    		git push</span><br><span class="line">grbc    	git rebase --<span class="built_in">continue</span></span><br><span class="line">gst    		git status</span><br><span class="line">gup    		git pull --rebase</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å‘½ä»¤æ–‡æ¡£</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>pacman å‘½ä»¤</title>
    <url>/pacman/</url>
    <content><![CDATA[<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‡çº§æ•´ä¸ªç³»ç»Ÿï¼Œ-y æ›´æ–°æ•°æ®åº“, -yy å¼ºåˆ¶æ›´æ–°, -uæ˜¯å‡çº§è½¯ä»¶</span></span><br><span class="line">pacman -Syu</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…é™¤è½¯ä»¶ç¼“å­˜ï¼Œå³/var/cache/pacman/pkgç›®å½•ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">pacman -Sc</span><br></pre></td></tr></table></figure>



<h2 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨åŒ…æ•°æ®åº“ä¸­æŸ¥è¯¢è½¯ä»¶</span></span><br><span class="line">pacman -Ss &lt;package&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºè½¯ä»¶çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">pacman -Si &lt;package&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢å·²å®‰è£…çš„è½¯ä»¶åŒ…</span></span><br><span class="line">pacman -Qs &lt;package&gt;</span><br><span class="line"><span class="comment"># æŸ¥è¯¢æœ¬åœ°å®‰è£…åŒ…çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">pacman -Qi &lt;package&gt;</span><br><span class="line"><span class="comment"># è·å–å·²å®‰è£…è½¯ä»¶æ‰€åŒ…å«çš„æ–‡ä»¶çš„åˆ—è¡¨</span></span><br><span class="line">pacman -Ql &lt;package&gt;	</span><br></pre></td></tr></table></figure>



<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…è½¯ä»¶</span></span><br><span class="line">pacman -S &lt;package&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ä¸åŒä»“åº“ä¸­çš„ç‰ˆæœ¬</span></span><br><span class="line">pacman -S &lt;extra&gt;/&lt;package&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»æœ¬åœ°æ–‡ä»¶å®‰è£…</span></span><br><span class="line">pacman -U package.tar.zx</span><br></pre></td></tr></table></figure>



<h2 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤å•ä¸ªè½¯ä»¶</span></span><br><span class="line">pacman -R &lt;package&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æŒ‡å®šè½¯ä»¶åŠå…¶æ²¡æœ‰è¢«å…¶ä»–å·²å®‰è£…è½¯ä»¶ä½¿ç”¨çš„ä¾èµ–å…³ç³»</span></span><br><span class="line">pacman -Rs &lt;package&gt; </span><br></pre></td></tr></table></figure>



<h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºè½¯ä»¶çš„ä¾èµ–æ ‘</span></span><br><span class="line">pactree &lt;package&gt;  </span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å‘½ä»¤æ–‡æ¡£</category>
      </categories>
      <tags>
        <tag>Arch Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>pip å‘½ä»¤</title>
    <url>/pip/</url>
    <content><![CDATA[<h2 id="Linux-å®‰è£…"><a href="#Linux-å®‰è£…" class="headerlink" title="Linux å®‰è£…"></a>Linux å®‰è£…</h2><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">apt</span> install python<span class="number">3</span>-pip</span><br></pre></td></tr></table></figure>



<h2 id="åŸºç¡€å‘½ä»¤"><a href="#åŸºç¡€å‘½ä»¤" class="headerlink" title="åŸºç¡€å‘½ä»¤"></a>åŸºç¡€å‘½ä»¤</h2><figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line">pip list			<span class="meta"># æ˜¾ç¤ºå·²å®‰è£…çš„åº“</span></span><br><span class="line">pip list -o			<span class="meta"># æ˜¾ç¤ºå·²è¿‡æ—¶çš„åº“</span></span><br><span class="line">pip <span class="keyword">show</span> &lt;<span class="keyword">library</span>&gt;		<span class="meta"># æ˜¾ç¤ºåº“ä¿¡æ¯</span></span><br><span class="line">pip install &lt;<span class="keyword">library</span>&gt;		<span class="meta"># å®‰è£…åº“</span></span><br><span class="line">pip install -U &lt;<span class="keyword">library</span>&gt;	<span class="meta"># æ›´æ–°åº“</span></span><br><span class="line">pip uninstall &lt;<span class="keyword">library</span>&gt;		<span class="meta"># å¸è½½åº“</span></span><br><span class="line">pip check &lt;<span class="keyword">library</span>&gt;		<span class="meta"># æ£€æŸ¥ä¾èµ–</span></span><br><span class="line">pip [cmd] -h			<span class="meta"># æ˜¾ç¤ºå¸®åŠ©</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># ç”Ÿæˆå·²æŒ‰ç…§åŒ…åˆ—è¡¨æ–‡ä»¶</span></span><br><span class="line">pip freeze &gt; requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="meta"># å®‰è£…æ–‡ä»¶å†…æ‰€æœ‰åŒ…</span></span><br><span class="line">pip install -r requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="meta"># è®¾ç½®é»˜è®¤ä½¿ç”¨pip3</span></span><br><span class="line">pip3 intall --upgrade pip</span><br></pre></td></tr></table></figure>



<h2 id="æºé…ç½®"><a href="#æºé…ç½®" class="headerlink" title="æºé…ç½®"></a>æºé…ç½®</h2><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸´æ—¶ä½¿ç”¨ -i</span></span><br><span class="line">pip install [module] -i https:<span class="regexp">//</span>pypi.org/simple</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…¨å±€é…ç½®</span></span><br><span class="line"><span class="comment"># æ¸…åæº</span></span><br><span class="line">pip config set global.index-url https:<span class="regexp">//</span>pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"><span class="comment"># é˜¿é‡Œæº</span></span><br><span class="line">pip config set global.index-url https:<span class="regexp">//mi</span>rrors.aliyun.com<span class="regexp">/pypi/</span>simple/</span><br><span class="line"><span class="comment"># è…¾è®¯æº</span></span><br><span class="line">pip config set global.index-url http:<span class="regexp">//mi</span>rrors.cloud.tencent.com<span class="regexp">/pypi/</span>simple</span><br><span class="line"><span class="comment"># è±†ç“£æº</span></span><br><span class="line">pip config set global.index-url http:<span class="regexp">//</span>pypi.douban.com<span class="regexp">/simple/</span></span><br><span class="line"><span class="comment"># å®˜æ–¹æº</span></span><br><span class="line">pip config set global.index-url https:<span class="regexp">//</span>pypi.org/simple</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å‘½ä»¤æ–‡æ¡£</category>
      </categories>
      <tags>
        <tag>pip</tag>
      </tags>
  </entry>
  <entry>
    <title>systemctl å‘½ä»¤</title>
    <url>/systemctl/</url>
    <content><![CDATA[<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl start &lt;servicename&gt;    	<span class="comment"># å¯åŠ¨æœåŠ¡</span></span><br><span class="line">systemctl stop &lt;servicename&gt;     	<span class="comment"># å…³é—­æœåŠ¡</span></span><br><span class="line">systemctl restart &lt;servicename&gt;		<span class="comment"># é‡å¯æœåŠ¡</span></span><br><span class="line">systemctl reload &lt;servicename&gt;    	<span class="comment"># é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶</span></span><br><span class="line">systemctl status &lt;servicename&gt;    	<span class="comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æœåŠ¡çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line">systemctl cat &lt;servicename&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰æœåŠ¡çš„çŠ¶æ€</span></span><br><span class="line">systemctl -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºå½“å‰ç³»ç»ŸæœåŠ¡çŠ¶æ€</span></span><br><span class="line">systemctl list-units</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºæœåŠ¡çš„ä¾èµ–å…³ç³»</span></span><br><span class="line">systemctl list-dependencies &lt;servicename&gt;</span><br></pre></td></tr></table></figure>



<h2 id="ç”µæºç›¸å…³"><a href="#ç”µæºç›¸å…³" class="headerlink" title="ç”µæºç›¸å…³"></a>ç”µæºç›¸å…³</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl reboot		<span class="comment"># é‡å¯æœºå™¨</span></span><br><span class="line">systemctl poweroff		<span class="comment"># å…³æœº</span></span><br><span class="line">systemctl <span class="built_in">suspend</span>		<span class="comment"># æŒ‚èµ· - ç¡çœ  - ä¿å­˜åœ¨å…§å­˜</span></span><br><span class="line">systemctl hibernate		<span class="comment"># ä¼‘çœ  - æ–­ç”µ - ä¿å­˜åœ¨ç¡¬ç›˜</span></span><br><span class="line">systemctl hybrid-sleep		<span class="comment"># æ··åˆä¼‘çœ æ¨¡å¼ï¼ˆåŒæ—¶ä¼‘çœ åˆ°ç¡¬ç›˜å¹¶æŒ‚èµ·ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹ç³»ç»Ÿå¼•å¯¼æ—¶é—´</span></span><br><span class="line">systemd-analyze time		<span class="comment"># ä»…æ˜¾ç¤ºæ—¶é—´</span></span><br><span class="line">systemd-analyze blame		<span class="comment"># æ˜¾ç¤ºæ¯ä¸ªè¿›ç¨‹æ¶ˆè€—æ—¶é—´</span></span><br><span class="line">systemd-analyze plot		<span class="comment"># ç”Ÿæˆç½‘é¡µ</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>å‘½ä»¤æ–‡æ¡£</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>systemctl</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker å‘½ä»¤</title>
    <url>/docker/</url>
    <content><![CDATA[<h2 id="æºé…ç½®"><a href="#æºé…ç½®" class="headerlink" title="æºé…ç½®"></a>æºé…ç½®</h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;registry-mirrors&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;https://registry.docker-cn.com&quot;</span>,</span><br><span class="line">        <span class="string">&quot;http://hub-mirror.c.163.com&quot;</span>,</span><br><span class="line">        <span class="string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker version		<span class="comment"># ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line">docker info		<span class="comment"># ç³»ç»Ÿä¿¡æ¯</span></span><br><span class="line">docker &lt;order&gt; --<span class="built_in">help</span>	<span class="comment"># å¸®åŠ©å‘½ä»¤</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨æœ€å10æ¡æ—¥å¿—</span></span><br><span class="line">docker logs -f -t --tail 10 &lt;container&gt;</span><br></pre></td></tr></table></figure>



<h2 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a>é•œåƒå‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker images			<span class="comment"># æŸ¥çœ‹é•œåƒ</span></span><br><span class="line">docker images -aq		<span class="comment"># åªæ˜¾ç¤ºé•œåƒID</span></span><br><span class="line">docker search &lt;image&gt;		<span class="comment"># æœç´¢é•œåƒ</span></span><br><span class="line">docker pull &lt;image&gt;		<span class="comment"># ä¸‹è½½é•œåƒ</span></span><br><span class="line">docker rmi -f &lt;image&gt;		<span class="comment"># åˆ é™¤é•œåƒ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å…¨éƒ¨é•œåƒ</span></span><br><span class="line">docker rmi -f $(docker images -aq)</span><br><span class="line"></span><br><span class="line"><span class="comment"># commit é•œåƒ</span></span><br><span class="line">docker commit  -m=<span class="string">&#x27;æè¿°ä¿¡æ¯&#x27;</span> -a=<span class="string">&#x27;ä½œè€…&#x27;</span> å®¹å™¨id ç›®æ ‡é•œåƒå</span><br><span class="line"></span><br><span class="line"><span class="comment"># é•œåƒé‡å‘½å</span></span><br><span class="line">docker tag local-image:tagname new-repo:tagname</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨é€åˆ°Hub</span></span><br><span class="line">docker push new-repo:tagname</span><br></pre></td></tr></table></figure>



<h2 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a>å®¹å™¨å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿è¡Œå®¹å™¨</span></span><br><span class="line">docker run [param] &lt;image&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># runå‚æ•°è¯´æ˜</span></span><br><span class="line">  --name=<span class="string">&quot;Name&quot;</span>		<span class="comment"># å®¹å™¨åå­— ç”¨æ¥åŒºåˆ†</span></span><br><span class="line">  -d	<span class="comment"># åå°æ–¹å¼è¿è¡Œ</span></span><br><span class="line">  -it	<span class="comment"># ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œ</span></span><br><span class="line">  -p	<span class="comment"># æŒ‡å®šå®¹å™¨ç«¯å£ -p 8080:8080</span></span><br><span class="line">    -p	 <span class="comment"># ip:ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£</span></span><br><span class="line">    -p	 <span class="comment"># ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£</span></span><br><span class="line">    -p	 <span class="comment"># å®¹å™¨ç«¯å£</span></span><br><span class="line">  -P	<span class="comment"># å¤§å†™P éšæœºç«¯å£</span></span><br><span class="line"></span><br><span class="line">dockee ps	<span class="comment"># æŸ¥çœ‹æ­£åœ¨è¿è¡Œå®¹å™¨</span></span><br><span class="line">docker ps -a	<span class="comment"># æŸ¥çœ‹å…¨éƒ¨å®¹å™¨</span></span><br><span class="line">docker ps -a --no-trunc	<span class="comment"># æ˜¾ç¤ºæ‰€ä»¥å¯åŠ¨å‚æ•°</span></span><br><span class="line">docker rm &lt;containerID&gt; <span class="comment"># åˆ é™¤å®¹å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">docker inspect &lt;container&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹å®¹å™¨å ç”¨ç©ºé—´</span></span><br><span class="line">docker system df -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤å…¨éƒ¨å®¹å™¨</span></span><br><span class="line">docker rm -f $(docker images -aq)</span><br><span class="line"></span><br><span class="line">docker start &lt;container&gt;	<span class="comment"># å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker restart &lt;container&gt;	<span class="comment"># é‡å¯å®¹å™¨</span></span><br><span class="line">docker stop &lt;container&gt;		<span class="comment"># åœæ­¢å®¹å™¨</span></span><br><span class="line">docker <span class="built_in">kill</span> &lt;container&gt;		<span class="comment"># å¼ºåˆ¶åœæ­¢å®¹å™¨</span></span><br><span class="line"></span><br><span class="line">docker <span class="built_in">exec</span> &lt;container&gt;		<span class="comment"># å¼€å¯æ–°çš„ç»ˆç«¯</span></span><br><span class="line">docker attach &lt;container&gt;	<span class="comment"># è¿›å…¥å½“å‰è¿è¡Œç»ˆç«¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># äº¤äº’æ¨¡å¼è¿›å…¥æ­£åœ¨è¿è¡Œå®¹å™¨ </span></span><br><span class="line">docker <span class="built_in">exec</span> -it &lt;container&gt; /bin/bash	</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœº</span></span><br><span class="line">docker cp &lt;container&gt;:å®¹å™¨è·¯å¾„ ä¸»æœºè·¯å¾„</span><br><span class="line"><span class="comment"># ä»ä¸»æœºå†…æ‹·è´æ–‡ä»¶åˆ°å®¹å™¨</span></span><br><span class="line">docker cp ä¸»æœºè·¯å¾„ &lt;container&gt;:å®¹å™¨è·¯å¾„</span><br></pre></td></tr></table></figure>



<h2 id="é€€å‡ºå‘½ä»¤"><a href="#é€€å‡ºå‘½ä»¤" class="headerlink" title="é€€å‡ºå‘½ä»¤"></a>é€€å‡ºå‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœæ­¢å¹¶é€€å‡º</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># é€€å‡ºä¸åœæ­¢ï¼ˆå¿«æ·é”®ï¼‰</span></span><br><span class="line">Ctrl + P + Q</span><br></pre></td></tr></table></figure>

<h2 id="æŒ‚è½½å‘½ä»¤"><a href="#æŒ‚è½½å‘½ä»¤" class="headerlink" title="æŒ‚è½½å‘½ä»¤"></a>æŒ‚è½½å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ -v æŒ‚è½½</span></span><br><span class="line">docker run -it -v &lt;ä¸»æœºç›®å½•&gt;:&lt;å®¹å™¨ç›®å½•&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šè·¯å¾„æŒ‚è½½</span></span><br><span class="line">docker run -it -v /home/<span class="built_in">test</span>:/home centos /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¿åæŒ‚è½½ -v å®¹å™¨å†…è·¯å¾„</span></span><br><span class="line">docker run -d -P --name nginx01 -v /ect/nginx nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ‰€æœ‰ volume çš„æƒ…å†µ</span></span><br><span class="line">docker volume ls</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…·åæŒ‚è½½</span></span><br><span class="line">docker run -d -P --name nginx02 -v v-nginx:/etc/nginx nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€šè¿‡ -v å®¹å™¨è·¯å¾„ ro rw æ”¹å˜è¯»å†™æƒé™</span></span><br><span class="line">  ro	<span class="built_in">readonly</span> 		<span class="comment"># åªè¯»</span></span><br><span class="line">  rw	readwrite		<span class="comment"># å¯è¯»å¯å†™</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åªè¯»æƒé™è®¾ç½®</span></span><br><span class="line">dockers run -d -P --name nginx02 -v nginx:/etc/nginx:ro</span><br></pre></td></tr></table></figure>

<h2 id="ç½‘ç»œå‘½ä»¤"><a href="#ç½‘ç»œå‘½ä»¤" class="headerlink" title="ç½‘ç»œå‘½ä»¤"></a>ç½‘ç»œå‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker network ls		<span class="comment"># æŸ¥çœ‹ç½‘ç»œåˆ—è¡¨</span></span><br><span class="line">docker network inspect &lt;name&gt;	<span class="comment"># æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># --net æŒ‡å®šç½‘å¡(dockeré»˜è®¤æ˜¯bridge)</span></span><br><span class="line">docker run -d -P --net bridge tomcat</span><br><span class="line">	<span class="comment"># è‡ªå®šä¹‰ç½‘ç»œé…ç½®</span></span><br><span class="line">    --driver bridge		<span class="comment"># ç½‘ç»œæ¨¡å¼</span></span><br><span class="line">    --subnet 192.168.0.0/16	<span class="comment"># å­ç½‘</span></span><br><span class="line">    --gateway 192.168.0.1	<span class="comment"># ç½‘å…³</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºè™šæ‹Ÿç½‘å¡</span></span><br><span class="line">docker network create --driver bridge --subnet 192.168.0.0/16 --gateway 192.168.0.1 net</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¹å™¨è¿æ¥åˆ°ç½‘å¡ æ‰“é€šå®¹å™¨ä¸å®¹å™¨é—´ç½‘ç»œ</span></span><br><span class="line">docker network connect &lt;net&gt; &lt;ctn&gt;		<span class="comment"># å»ºç«‹æ¡¥æ¥</span></span><br><span class="line">docker network disconnect &lt;net&gt; &lt;ctn&gt;	<span class="comment"># æ–­å¼€æ¡¥æ¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å®¹å™¨è¿æ¥åˆ°ç½‘ç»œ</span></span><br><span class="line">docker network connect &lt;net&gt; &lt;ctn&gt;</span><br></pre></td></tr></table></figure>



<h2 id="commit-é•œåƒ"><a href="#commit-é•œåƒ" class="headerlink" title="commit é•œåƒ"></a>commit é•œåƒ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‘½ä»¤å’Œgitç±»ä¼¼ç±»ä¼¼, æŠŠè‡ªå·±ä¿®æ”¹çš„ä¸œè¥¿å½¢æˆä¸€ä¸ªå±‚ å°è£…æˆä¸€ä¸ªé•œåƒ</span></span><br><span class="line">docker commit -m=<span class="string">&#x27;æè¿°ä¿¡æ¯&#x27;</span> -a=<span class="string">&#x27;ä½œè€…&#x27;</span> å®¹å™¨id ç›®æ ‡é•œåƒå</span><br></pre></td></tr></table></figure>



<h2 id="è¿ç§»æ“ä½œ"><a href="#è¿ç§»æ“ä½œ" class="headerlink" title="è¿ç§»æ“ä½œ"></a>è¿ç§»æ“ä½œ</h2><p><strong>é•œåƒ</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‹ç¼©é•œåƒ</span></span><br><span class="line">docker save -o image-name.tar image-name </span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½é•œåƒ</span></span><br><span class="line">docker load image-name.tar</span><br></pre></td></tr></table></figure>

<p><strong>å®¹å™¨</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¼å‡ºå®¹å™¨åˆ°taræ–‡ä»¶</span></span><br><span class="line">docker <span class="built_in">export</span> container-name container-name.tar</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½å®¹å™¨æ–‡ä»¶åˆ›å»ºé•œåƒæ–‡ä»¶</span></span><br><span class="line">docker import [OPTIONS] file|URL|- [REPOSITORY[:TAG]]</span><br></pre></td></tr></table></figure>



<h2 id="DockerFile-å‘½ä»¤"><a href="#DockerFile-å‘½ä»¤" class="headerlink" title="DockerFile å‘½ä»¤"></a>DockerFile å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆé•œåƒ</span></span><br><span class="line">docker build -f dockerfileæ–‡ä»¶ -t é•œåƒå:[tag] .</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆå§‹åŒ–è¿è¡Œè®°å½•</span></span><br><span class="line">docker <span class="built_in">history</span> é•œåƒid</span><br></pre></td></tr></table></figure>



<h2 id="DockerFile-æŒ‡ä»¤"><a href="#DockerFile-æŒ‡ä»¤" class="headerlink" title="DockerFile æŒ‡ä»¤"></a>DockerFile æŒ‡ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FROM		<span class="comment"># åŸºç¡€é•œåƒ ä¸€åˆ‡ä»è¿™é‡Œå¼€å§‹æ„å»º</span></span><br><span class="line">MAINTAINER	<span class="comment"># é•œåƒæ˜¯è°å†™çš„ name+mail</span></span><br><span class="line">RUN		<span class="comment"># é•œåƒæ„å»ºæ—¶å€™è¿è¡Œçš„å‘½ä»¤</span></span><br><span class="line">ADD		<span class="comment"># æ­¥éª¤ tomcaté•œåƒ è¿™ä¸ªtomcatå‹ç¼©åŒ…ï¼æ·»åŠ å†…å®¹</span></span><br><span class="line">WORKDIT		<span class="comment"># é•œåƒå·¥ä½œç›®å½•</span></span><br><span class="line">VOLUME		<span class="comment"># æŒ‚è½½çš„ç›®å½•</span></span><br><span class="line">EXPOST		<span class="comment"># ä¿ç•™ç«¯å£é…ç½®</span></span><br><span class="line">CMD		<span class="comment"># æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨æ—¶å€™è¿è¡Œçš„å‘½ä»¤,è‡ªç”±æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£</span></span><br><span class="line">ENTRTPOINT	<span class="comment"># æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥è¿½åŠ å‘½ä»¤</span></span><br><span class="line">ONBUILD		<span class="comment"># è¢«ç»§æ‰¿ DockerFIle æ—¶å€™è¿è¡Œï¼Œè§¦å‘å‘½ä»¤</span></span><br><span class="line">COPY		<span class="comment"># ç±»å‹ADD,å°†æ–‡ä»¶æ‹·è´åˆ°é•œåƒ</span></span><br><span class="line">ENV		<span class="comment"># æ„å»ºæ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br></pre></td></tr></table></figure>



<h2 id="docker-compose-å‘½ä»¤"><a href="#docker-compose-å‘½ä»¤" class="headerlink" title="docker-compose å‘½ä»¤"></a>docker-compose å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker-compose up                  <span class="comment"># å¯åŠ¨æ‰€æœ‰å®¹å™¨</span></span><br><span class="line">docker-compose up -d               <span class="comment"># åå°å¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰å®¹å™¨</span></span><br><span class="line">docker-compose up --no-recreate -d <span class="comment"># ä¸é‡æ–°åˆ›å»ºå·²ç»åœæ­¢çš„å®¹å™¨</span></span><br><span class="line">docker-compose up -d test2         <span class="comment"># åªå¯åŠ¨test2è¿™ä¸ªå®¹å™¨</span></span><br><span class="line">docker-compose stop                <span class="comment"># åœæ­¢å®¹å™¨</span></span><br><span class="line">docker-compose start               <span class="comment"># å¯åŠ¨å®¹å™¨</span></span><br><span class="line">docker-compose down                <span class="comment"># åœæ­¢å¹¶é”€æ¯å®¹å™¨</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å‘½ä»¤æ–‡æ¡£</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
</search>
