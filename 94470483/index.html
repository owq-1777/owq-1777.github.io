<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.owq.world","root":"/","scheme":"Pisces","version":"7.8.0","exturl":true,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":"changyan","storage":true,"lazyload":true,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":true},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_body":"slideDownIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="ä»å®é™…åº”ç”¨è§’åº¦æç‚¼Djangoæ¨¡å‹å±‚çš„ä¸€äº›çŸ¥è¯†ç‚¹, ä¾›å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨ãƒ¾(â€¢Ï‰â€¢&#96;)o">
<meta property="og:type" content="article">
<meta property="og:title" content="Django æ¨¡å‹å±‚">
<meta property="og:url" content="https://www.owq.world/94470483/index.html">
<meta property="og:site_name" content="Sunny was born">
<meta property="og:description" content="ä»å®é™…åº”ç”¨è§’åº¦æç‚¼Djangoæ¨¡å‹å±‚çš„ä¸€äº›çŸ¥è¯†ç‚¹, ä¾›å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨ãƒ¾(â€¢Ï‰â€¢&#96;)o">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://img.owq.world/2022/03/1553-ee0a9f.png">
<meta property="article:published_time" content="2022-03-20T22:00:58.000Z">
<meta property="article:modified_time" content="2022-05-27T07:00:46.534Z">
<meta property="article:author" content="OWQ">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Django">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://img.owq.world/2022/03/1553-ee0a9f.png">

<link rel="canonical" href="https://www.owq.world/94470483/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Django æ¨¡å‹å±‚ | Sunny was born</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Sunny was born" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Sunny was born</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<span style="flex-grow: 2;"></span>
<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
      


<div class='bg-container lozad' style="z-index: -1; background-color: #fff;">
  <span class="header-bg"></span>
  <script data-pjax>
    console.info("")
    var header=document.querySelector('.header-bg');
    var img_arr = ["/img/header_img/bg1.webp","/img/header_img/bg2.webp","/img/header_img/bg3.webp","/img/header_img/bg4.webp","/img/header_img/bg5.webp","/img/header_img/bg6.webp"]
    var index = Math.floor((Math.random()*img_arr.length));
    header.setAttribute("style", "background-image: url('"+img_arr[index]+"')");
  </script>
</div>

<div id="signature">
  <div class="container">
        <header class="post-heading">
          <div class="tags">
          </div>
          <h1>Django æ¨¡å‹å±‚</h1>
          <h2 class="subheading">ä»å®é™…åº”ç”¨è§’åº¦æç‚¼Djangoæ¨¡å‹å±‚çš„ä¸€äº›çŸ¥è¯†ç‚¹, ä¾›å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨ãƒ¾(â€¢Ï‰â€¢`)o</h2>

          <span class="post-meta-item">
            <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
            </span>
            <span class="post-meta-item-text">Created</span>
            

            <time title="åˆ›å»ºæ—¶é—´ï¼š2022-03-20 22:00:58" itemprop="dateCreated datePublished" datetime="2022-03-20T22:00:58Z">2022-03-20</time>

            <span style="margin: 0 0.5em;"> | </span>

            <span class="post-meta-item-icon">
              <i class="far fa-calendar-check"></i>
            </span>
            <span class="post-meta-item-text">Updated</span>
              <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-09-22 04:10:12" itemprop="dateModified" datetime="2022-09-22T12:10:12+08:00">2022-09-22</time>
            </span>
            
          </span>




          <span class="post-meta-item">
            <span class="post-meta-item-icon">
              <i class="far fa-file-word"></i>
            </span>
            <span class="post-meta-item-text">Word count:</span>
            <span>8k</span>

            <span style="margin: 0 0.5em;"> | </span>

            <span class="post-meta-item-icon">
              <i class="far fa-clock"></i>
            </span>
            <span class="post-meta-item-text">Reading time: &asymp;</span>
            <span>7 min</span>
          </span>


        </header>

      

  </div>
</div>



<!-- waveoverlay start -->
  <div class="preview-overlay">
    <svg class="preview-waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
      <defs>
        <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path>
      </defs>
      <g class="preview-parallax">
        <use xlink:href="#gentle-wave" x="48" y="0" fill=var(--gentle-wave1)></use>
        <use xlink:href="#gentle-wave" x="48" y="3" fill=var(--gentle-wave2)></use>
        <use xlink:href="#gentle-wave" x="48" y="5" fill=var(--gentle-wave3)></use>
        <use xlink:href="#gentle-wave" x="48" y="7" fill=var(--gentle-wave)></use>
      </g>
    </svg>
  </div>
  <!-- waveoverlay end -->
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main" id="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.owq.world/94470483/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.webp">
      <meta itemprop="name" content="OWQ">
      <meta itemprop="description" content="çˆ±ç¼–ç¨‹, æ‡‚è®¾è®¡, å–œæŠ˜è…¾">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sunny was born">
    </span>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="å­—æ®µç±»å‹"><a href="#å­—æ®µç±»å‹" class="headerlink" title="å­—æ®µç±»å‹"></a>å­—æ®µç±»å‹</h2><blockquote>
<p>Django æœ‰ä¸°å¯Œäº†å­—æ®µç±»å‹, ä¸ºé™ä½å­¦ä¹ æˆæœ¬, åŒæ—¶ä¹Ÿä¸ºäº†ç»´æŠ¤æ–¹ä¾¿, å°½é‡ä½¿ç”¨å’Œæ•°æ®åº“ä¸€è‡´çš„æ•°æ®ç±»å‹.</p>
</blockquote>
<h3 id="æ•°å­—ç±»"><a href="#æ•°å­—ç±»" class="headerlink" title="æ•°å­—ç±»"></a>æ•°å­—ç±»</h3><ul>
<li><code>IntegerField</code></li>
<li><code>BigIntField</code></li>
<li><code>FloatField</code></li>
<li><code>DecimalField</code></li>
</ul>
<h3 id="å­—ç¬¦ç±»"><a href="#å­—ç¬¦ç±»" class="headerlink" title="å­—ç¬¦ç±»"></a>å­—ç¬¦ç±»</h3><ul>
<li><p><code>CharField</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åœ¨MySQLä¸­å¯¹åº”çš„å°±æ˜¯varchar, æ‰€ä»¥å¿…é¡»æŒ‡å®šé•¿åº¦</span></span><br><span class="line">name = models.CharField(max_length=<span class="number">200</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>TextField</code></p>
<p>é‡åˆ°å¤§çš„æ–‡ä»¶æˆ–å›¾ç‰‡æ—¶, å°†å…¶å­˜æ”¾åœ¨é™æ€èµ„æºæœåŠ¡å™¨, ç„¶åä½¿ç”¨URIæˆ–è€…URLå­˜å‚¨ä¼šæ›´åˆç†.</p>
</li>
</ul>
<h3 id="å¸¸ç”¨ç±»"><a href="#å¸¸ç”¨ç±»" class="headerlink" title="å¸¸ç”¨ç±»"></a>å¸¸ç”¨ç±»</h3><ul>
<li><p><code>BooleanField</code></p>
</li>
<li><p><code>DateField</code></p>
</li>
<li><p><code>DateTimeField</code></p>
</li>
<li><p><code>AutoField</code></p>
<p>æ²¡æœ‰æŒ‡å®šä¸»é”®æ—¶, å½“å‰æ¨¡å‹ä¼šè‡ªåŠ¨å°†ä¸€ä¸ªè‡ªå¢idçš„<code>IntegerField</code>åšä¸ºä¸»é”®.</p>
</li>
<li><p><code>ImageField</code><br>ç”¨æ¥åšç‰¹æ®Šçº¦æŸå’Œæ ¡éªŒçš„å­—æ®µ, ä¼šæ ¡éªŒä¼ å…¥æ•°æ®æ˜¯å¦å›¾ç‰‡.</p>
</li>
<li><p><code>EmailField</code></p>
<p>ç”¨æ¥åšç‰¹æ®Šçº¦æŸå’Œæ ¡éªŒçš„å­—æ®µ, ä¼šæ ¡éªŒä¼ å…¥æ•°æ®æ˜¯å¦é‚®ç®±åœ°å€.</p>
</li>
<li><p><code>UUIDField</code><br>ä¸€èˆ¬æ¥è¯´, <code>uuid</code>ä¼šç”¨ä½œå½“å‰æ•°æ®è¡¨çš„ä¸»é”®.</p>
</li>
</ul>
<h2 id="å­—æ®µé€‰é¡¹-x2F-çº¦æŸ"><a href="#å­—æ®µé€‰é¡¹-x2F-çº¦æŸ" class="headerlink" title="å­—æ®µé€‰é¡¹&#x2F;çº¦æŸ"></a>å­—æ®µé€‰é¡¹&#x2F;çº¦æŸ</h2><ul>
<li><p><code>primary_key</code><br>å¦‚æœä¸º<code>True</code>, å°†å½“å‰å­—æ®µè®¾ç½®ä¸ºä¸»é”®, é»˜è®¤ä¸º<code>False</code>.</p>
</li>
<li><p><code>null</code></p>
<p>å¦‚æœä¸º<code>True</code>ï¼Œ <code>Django</code>å°†åœ¨æ•°æ®åº“ä¸­å­˜å‚¨ç©ºå€¼ä¸º <code>NULL</code>, é»˜è®¤ä¸º <code>False</code>.</p>
</li>
<li><p><code>blank</code><br>ä»£è¡¨ç©ºç™½å­—ç¬¦<code>&quot;&quot;</code>, å¦‚æœæ˜¯<code>True</code>, å½“å‰å­—æ®µå…è®¸ä¸ºç©º, é»˜è®¤ä¸º<code>False</code></p>
<blockquote>
<p><code>null</code>æ˜¯æ•°æ®åº“ä¸Šçš„è®¾ç½®, <code>blank</code>æ˜¯å­—æ®µéªŒè¯ä¸Šçš„è®¾ç½®.<br><code>blank</code>è®¾ç½®çš„å­—æ®µä¸å¯ä»¥ä¸º<code>NULL</code>.</p>
</blockquote>
</li>
<li><p><code>unique</code><br>å”¯ä¸€çº¦æŸè®¾ç½®, é»˜è®¤ä¸º<code>False</code></p>
</li>
<li><p><code>default</code><br>è®¾ç½®å­—æ®µé»˜è®¤å€¼</p>
</li>
<li><p>æ—¶é—´ç±»å‹</p>
<ul>
<li><p><code>auto_now</code><br>æ¯æ¬¡ä¿å­˜æ—¶æ›´æ–°å­—æ®µæ—¶é—´ä¸ºç°åœ¨, åªæœ‰è°ƒç”¨<code>Model.seve()</code>æ—¶æ‰ä¼šç”Ÿæ•ˆ.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">update_time = models.DateTimeField(auto_now=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>auto_now_add</code><br>ç¬¬ä¸€æ¬¡åˆ›å»ºå¯¹è±¡æ—¶è®¾ç½®æ—¶é—´.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">create_time = models.DateTimeField(auto_now_add=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p><strong>æµ‹è¯•ä¸€ä¸‹</strong></p>
<p>åˆ›å»ºåº”ç”¨</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python manage.py startapp myblog</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ æ¨¡æ¿</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>(models.Model):</span><br><span class="line">    name = models.CharField(max_length=<span class="number">200</span>, primary_key=<span class="literal">True</span>)</span><br><span class="line">    email = models.EmailField(null=<span class="literal">True</span>)</span><br><span class="line">    date = models.DateField(auto_now=<span class="literal">True</span>)</span><br><span class="line">    update_time = models.DateTimeField(auto_now=<span class="literal">True</span>)</span><br><span class="line">    create_time = models.DateTimeField(auto_now_add=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    null_test = models.CharField(max_length=<span class="number">200</span>, null=<span class="literal">True</span>)</span><br><span class="line">    blank_test = models.CharField(max_length=<span class="number">200</span>, blank=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<p>æ›´æ–°åŒæ­¥</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">python</span> manage.<span class="keyword">py</span> makemigrations</span><br><span class="line"><span class="keyword">python</span> manage.<span class="keyword">py</span> migrate</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥shell, åˆ›å»ºä¿å­˜ä¸€æ¡æ•°æ®</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">python</span> manage.<span class="keyword">py</span> <span class="keyword">shell</span></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; from myblog.models import Person</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; p = Person(name=<span class="string">&#x27;owq&#x27;</span>)</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; p.save()</span></span><br></pre></td></tr></table></figure>

<p>å›å¤´çœ‹çœ‹æ•°æ®åº“</p>
<p><img data-src="http://img.owq.world/2022/03/1553-ee0a9f.png"></p>
<h2 id="æ•°æ®è¡¨é‡æ„"><a href="#æ•°æ®è¡¨é‡æ„" class="headerlink" title="æ•°æ®è¡¨é‡æ„"></a>æ•°æ®è¡¨é‡æ„</h2><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><blockquote>
<p>æ‰§è¡Œ<code>python manage.py migrate</code>åŒæ­¥å¤±è´¥æ—¶</p>
</blockquote>
<ul>
<li>æ›´æ”¹<code>migrations</code>ä¸­çš„æ–‡ä»¶è§£å†³é—®é¢˜<ul>
<li>é€šè¿‡è°ƒè¯•ç¡®è®¤æ˜¯å“ªä¸ªå­—æ®µå‘ç”Ÿé”™è¯¯</li>
</ul>
</li>
</ul>
<h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><blockquote>
<p>æ•°æ®ç»“æ„å‘ç”Ÿæ”¹å˜æ—¶</p>
</blockquote>
<ul>
<li>åˆ é™¤<code>migrations</code>æ–‡ä»¶ç„¶åæ¨å€’é‡æ¥<ul>
<li><code>django</code>ä¼šåœ¨æ•°æ®è¡¨<code>django_migrations</code>ä¸­åˆ›å»ºåŒæ­¥è®°å½•, éœ€è¦åˆ é™¤å¯¹åº”çš„åŒæ­¥è®°å½•</li>
<li>åˆ é™¤å·²ç»åˆ›å»ºè®°å½•çš„è¡¨</li>
</ul>
</li>
</ul>
<h2 id="Metaå†…åµŒç±»"><a href="#Metaå†…åµŒç±»" class="headerlink" title="Metaå†…åµŒç±»"></a>Metaå†…åµŒç±»</h2><blockquote>
<p>é€šè¿‡ä¸€ä¸ªå†…åµŒç±»Metaæ¥å®šä¹‰å…ƒæ•°æ®.<br>å…ƒæ•°æ®åˆè¢«ç§°ä¸ºä¸­ä»‹æ•°æ®, ç”¨æ¥æè¿°æ•°æ®çš„æ•°æ®, æ—¢â€œæ‰€æœ‰ä¸æ˜¯å­—æ®µçš„ä¸œè¥¿â€.</p>
</blockquote>
<h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ox</span>(models.Model):</span><br><span class="line">    horn_length = models.IntegerField()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        ordering = [<span class="string">&quot;horn_length&quot;</span>]</span><br><span class="line">        verbose_name_plural = <span class="string">&quot;oxen&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="å­—æ®µé€‰é¡¹"><a href="#å­—æ®µé€‰é¡¹" class="headerlink" title="å­—æ®µé€‰é¡¹"></a>å­—æ®µé€‰é¡¹</h3><ul>
<li><p><code>abstract</code><br>å°†å½“å‰æ¨¡å‹ç±»è½¬æ¢ä¸ºæŠ½è±¡ç±», è¿›è¡Œ<code>migrate</code>çš„æ—¶å€™ä¼šè¢«å¿½ç•¥, ä¹Ÿå°±ä¸ä¼šå¯¹å®ä½“è¡¨è¿›è¡Œä¿®æ”¹.</p>
</li>
<li><p><code>app_label</code><br>æŒ‡å®šå½“å‰<code>model</code>ä»å±äºå“ªä¸ªå·²ç»æ³¨å†Œçš„åº”ç”¨.<br>ä¸€èˆ¬ä¸ºåº”ç”¨åªç¼–å†™è§†å›¾å±‚æ¥å¤„ç†ä¸šåŠ¡é€»è¾‘. æ¨¡å‹å±‚ç»Ÿä¸€ç”±ä¸€ä¸ª<code>models</code>æ¨¡å—æ¥ç®¡ç†<br>æ¯”å¦‚åšå®¢çš„ä¸ªäººä¿¡æ¯<code>models</code>, å¾ˆå¤šåº”ç”¨éƒ½ä¼šä½¿ç”¨åˆ°, è¿™æ—¶å°±è¦ä½¿ç”¨<code>app_label</code>æ¥åŒºåˆ†æ‰€å±åº”ç”¨äº†.</p>
</li>
<li><p><code>db_table</code><br>è‡ªå®šä¹‰è¡¨å, ä¸æŒ‡å®šé»˜è®¤ä¸º<code>åº”ç”¨å_æ¨¡å‹å</code>, ä¸€èˆ¬åœ¨ä»¥ä¸‹æƒ…å†µä½¿ç”¨.</p>
<ul>
<li>ç›®æ ‡è¡¨å·²ç»å­˜åœ¨æ—¶</li>
<li>æ²¡æœ‰ç®¡ç†è¡¨çš„æƒé™. éœ€è¦dbaå»ºè¡¨å†å¼€å‘æ—¶</li>
<li>è§„èŒƒæ•°æ®åº“çš„è¡¨åå‘½åæ—¶</li>
</ul>
</li>
<li><p><code>managed</code><br>é»˜è®¤ä¸º<code>True</code>, ä¸º<code>False</code>å°†ä¸ä¼šé’ˆå¯¹å½“å‰æ¨¡å‹åˆ›å»ºå’Œåˆ é™¤æ•°æ®åº“è¡¨, ä¹Ÿå°±æ˜¯ä¼šå¿½ç•¥è¯¥æ¨¡å‹. ä¸€èˆ¬ä¼šåœ¨å…¬å¸æœ‰DBAæ—¶ä½¿ç”¨.</p>
</li>
<li><p><code>ordering</code><br>è®¾ç½®æ’åºå­—æ®µ, é»˜è®¤è§„åˆ™ä¸ºå‡åº.</p>
<ul>
<li><p>é»˜è®¤å‡åº</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ordering = <span class="string">&#x27;order_date&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>-</code>å·è¡¨ç¤ºé™åº</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ordering = [<span class="string">&#x27;-order_date&#x27;</span>]</span><br><span class="line">ordering = [<span class="string">&#x27;-pub_date&#x27;</span>, <span class="string">&#x27;author&#x27;</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>?</code>å·è¡¨ç¤ºéšæœº</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ordering = [<span class="string">&#x27;?field_name&#x27;</span>]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><code>get_latest_by</code><br>è®¾ç½®è·å–æœ€åä¸€æ¡è®°å½•çš„æ’åºè§„åˆ™, å’Œæ¨¡å‹çš„å®ä¾‹æ–¹æ³•<code>latest()</code>ç›¸å…³è”</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å‡åºæ’åº order_date å­—æ®µ</span></span><br><span class="line">get_latest_by = <span class="string">&#x27;order_date&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é™åºæ’åº priority, åå‡åºæ’åº order_date</span></span><br><span class="line">get_latest_by = [<span class="string">&#x27;-priority&#x27;</span>, <span class="string">&#x27;order_date&#x27;</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>indexes</code><br>è®¾ç½®ç´¢å¼•, åŒæ ·çš„, åœ¨ç”±DBAçš„æƒ…å†µä¸‹ä¸éœ€è¦ç”¨åˆ°.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">    indexes = [</span><br><span class="line">        models.Index(fields=[<span class="string">&#x27;last_name&#x27;</span>, <span class="string">&#x27;first_name&#x27;</span>]),</span><br><span class="line">        models.Index(fields=[<span class="string">&#x27;first_name&#x27;</span>], name=<span class="string">&#x27;first_name_idx&#x27;</span>),</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>constraints</code><br>è‡ªå®šä¹‰çº¦æŸ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">    constraints = [</span><br><span class="line">        <span class="comment"># åˆ›å»ºä¸€ä¸ªæ£€æŸ¥çº¦æŸ</span></span><br><span class="line">        <span class="comment"># ç¡®ä¿å¹´é¾„ç­‰äº18</span></span><br><span class="line">        models.CheckConstraint(check=models.Q(age__gte=<span class="number">18</span>), name=<span class="string">&#x27;age_gte_18&#x27;</span>),</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># åˆ›å»ºä¸€ä¸ªå”¯ä¸€çº¦æŸ</span></span><br><span class="line">        <span class="comment"># ç¡®ä¿æ¯ä¸ªæˆ¿é—´åœ¨æ¯ä¸ªæ—¥æœŸåªèƒ½è¢«é¢„è®¢ä¸€æ¬¡</span></span><br><span class="line">		UniqueConstraint(field=[<span class="string">&#x27;room&#x27;</span>, <span class="string">&#x27;date&#x27;</span>], name=<span class="string">&#x27;unique_booking&#x27;</span>)</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>unique_together</code><br>å¤šå­—æ®µå”¯ä¸€æ€§çº¦æŸ(æœªæ¥å¯èƒ½è¢«å¼ƒç”¨, äº†è§£ä¸‹å°±è¡Œ)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># ä¸€ç»„å­—æ®µåï¼Œåˆèµ·æ¥å¿…é¡»æ˜¯å”¯ä¸€çš„</span></span><br><span class="line">unique_together = [<span class="string">&#x27;driver&#x27;</span>, <span class="string">&#x27;restaurant&#x27;</span>]</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="æ¨¡å‹ç»§æ‰¿"><a href="#æ¨¡å‹ç»§æ‰¿" class="headerlink" title="æ¨¡å‹ç»§æ‰¿"></a>æ¨¡å‹ç»§æ‰¿</h2><h3 id="ç›´æ¥ç»§æ‰¿"><a href="#ç›´æ¥ç»§æ‰¿" class="headerlink" title="ç›´æ¥ç»§æ‰¿"></a>ç›´æ¥ç»§æ‰¿</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CommonInfo</span>(models.Model):</span><br><span class="line">    name = models.CharField(max_length=<span class="number">100</span>)</span><br><span class="line">    age = models.PositiveIntegerField()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Meta</span>:</span><br><span class="line">        abstract = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">CommonInfo</span>):</span><br><span class="line">    home_group = models.CharField(max_length=<span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<h3 id="å¤šé‡ç»§æ‰¿"><a href="#å¤šé‡ç»§æ‰¿" class="headerlink" title="å¤šé‡ç»§æ‰¿"></a>å¤šé‡ç»§æ‰¿</h3><blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒDjango ç»™æ¯ä¸ªæ¨¡å‹ä¸€ä¸ªè‡ªåŠ¨é€’å¢çš„ä¸»é”®.<br>å¦‚æœå½“å‰æ¨¡å‹å¯¹è±¡æ²¡æœ‰æŒ‡å®šä¸»é”®, é‚£ä¹ˆä¸¤å¼ è¡¨ä¸»é”®ä¼šäº§ç”Ÿå†²çª, ä¸ºäº†è§£å†³å¤šé‡ç»§æ‰¿äº§ç”Ÿçš„idå†²çª, éœ€è¦è¦†ç›–ä¸»é”®å­—æ®µ.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(models.Model):</span><br><span class="line">    <span class="comment"># db_columnä¸ºæ•°æ®åº“ä¸­çš„å­—æ®µ</span></span><br><span class="line">    student_id = models.AutoField(primary_key=<span class="literal">True</span>, db_column=<span class="string">&quot;id&quot;</span>)</span><br><span class="line">    name = models.CharField(max_length=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span>(models.Model):</span><br><span class="line">    book_id = models.AutoField(primary_key=<span class="literal">True</span>, db_column=<span class="string">&quot;id&quot;</span>)</span><br><span class="line">    book_name = models.CharField(max_length=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BorrowRecord</span>(Student, Book):</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># ä¸¤å¼ è¡¨ä¸»é”®å†²çªæ—¶, è¦è¦†ç›–ä¸»é”®å­—æ®µ</span></span><br><span class="line">    _<span class="built_in">id</span> = models.AutoField(primary_key=<span class="literal">True</span>, db_column=<span class="string">&quot;id&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    borrow_time = models.DateTimeField(auto_now_add=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<h2 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h2><ul>
<li><p><code>save()</code><br>å°†å¯¹è±¡ä¿å­˜åˆ°æ•°æ®åº“(æˆ–è¿›è¡Œæ›´æ–°æ“ä½œ)</p>
<blockquote>
<p>åªä¼šè¿›è¡Œæ•°æ®åº“æ“ä½œ, å¹¶ä¸ä¼šè¿›è¡Œå­—æ®µéªŒè¯.</p>
</blockquote>
</li>
<li><p><code>clean_fields()</code><br>éªŒè¯æ¨¡å‹ä¸Šæ‰€æœ‰å­—æ®µ, è°ƒç”¨<code>save()</code>æ–¹æ³•æ—¶ä¸ä¼šè¢«è‡ªåŠ¨è°ƒç”¨.</p>
</li>
<li><p><code>clean()</code><br>è‡ªå®šä¹‰æ¨¡å‹éªŒè¯çš„æ–¹æ³•.</p>
</li>
<li><p><code>validate_unique()</code><br>éªŒè¯æ¨¡å‹ä¸Šæ‰€æœ‰å”¯ä¸€çº¦æŸ, å’Œ<code>unique_together</code>å±æ€§æ­é…ä½¿ç”¨.</p>
</li>
<li><p><code>full_clean()</code></p>
<p>ä¾æ¬¡è°ƒç”¨ Model.clean_fields()ã€ Model.clean() å’Œ Model.validate_unique()</p>
</li>
<li><p><code>latest()</code><br>è·å–æœ€åä¸€æ¡è®°å½•, æ ¹æ®<code>get_latest_by</code>å±æ€§è¿›è¡Œè·å–.</p>
</li>
<li><p><code>refresh_from_db()</code><br>ä»æ•°æ®åº“é‡Œåˆ·æ–°å½“å‰è®°å½•, é€‚ç”¨äºæ•°æ®åº“æ•°æ®å‘ç”Ÿå˜åŠ¨æ—¶.</p>
</li>
<li><p><code>__str__()</code><br>ç”¨æ¥è‡ªå®šä¹‰æ¨¡å‹è¾“å‡º.</p>
</li>
</ul>
<h2 id="django-setup"><a href="#django-setup" class="headerlink" title="django.setup()"></a>django.setup()</h2><blockquote>
<p>ç”¨æ¥ç‹¬ç«‹è¿è¡ŒDjangoä¸­çš„åº”ç”¨, ç±»ä¼¼äºç¬¬ä¸‰æ–¹åº“çš„ä½¿ç”¨.<br>æ¯”å¦‚ï¼Œç¼–å†™ä¸€ä¸ªè„šæœ¬, ç„¶åè¿›è¡Œä¸€äº›ORMæ“ä½œ, åŒæ—¶ä¹Ÿæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œè°ƒè¯•.</p>
</blockquote>
<p>è¿™é‡Œåˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶<code>test.py</code>, ä½¿ç”¨å®ƒæ¥è¿›è¡Œè°ƒè¯•å­¦ä¹ .</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> django</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_person_data</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        person = Person(</span><br><span class="line">            name=<span class="string">f&#x27;name_<span class="subst">&#123;i&#125;</span>&#x27;</span>,</span><br><span class="line">            email=<span class="string">f&#x27;email_<span class="subst">&#123;i&#125;</span>@163.com&#x27;</span>,</span><br><span class="line">            null_test=<span class="literal">None</span>,</span><br><span class="line">            blank_test=<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¿è¡Œå­—æ®µæ ¡éªŒ</span></span><br><span class="line">        <span class="comment"># éœ€è¦æ³¨æ„è¿™é‡Œéœ€è¦æ’é™¤ null_test å­—æ®µ, å¿½ç•¥ NULL å€¼çš„æ ¡éªŒ</span></span><br><span class="line">        person.clean_fields(exclude=[<span class="string">&#x27;null_test&#x27;</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä¿å­˜æ•°æ®</span></span><br><span class="line">        person.save()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®DJANGO_SETTINGS_MODULEç¯å¢ƒå˜é‡</span></span><br><span class="line">    os.environ.setdefault(<span class="string">&quot;DJANGO_SETTINGS_MODULE&quot;</span>, <span class="string">&quot;mysite.settings&quot;</span>)</span><br><span class="line">    django.setup()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> myblog.models <span class="keyword">import</span> Person</span><br><span class="line"></span><br><span class="line">    create_person_data()</span><br></pre></td></tr></table></figure>

<h2 id="QuerySet-API"><a href="#QuerySet-API" class="headerlink" title="QuerySet API"></a>QuerySet API</h2><blockquote>
<p><code>QuerySet</code> æœ¬èº«è¢«æ„é€ ï¼Œè¿‡æ»¤ï¼Œåˆ‡ç‰‡ï¼Œæˆ–è€…å¤åˆ¶èµ‹å€¼ç­‰æ“ä½œï¼Œæ˜¯æ— éœ€è®¿é—®æ•°æ®åº“çš„ã€‚<br>åªæœ‰åœ¨ä½ éœ€è¦ä»æ•°æ®åº“å–å‡ºæ•°æ®æˆ–è€…å‘æ•°æ®åº“å­˜å…¥æ•°æ®æ—¶æ‰éœ€è¦è®¿é—®æ•°æ®åº“.</p>
</blockquote>
<p>ä¸‹é¢ç”¨CRUDç»™è¿™äº›æ–¹æ³•è¿›è¡Œåˆ†ç±»</p>
<ul>
<li><p><strong>Create</strong></p>
<ul>
<li><code>save()</code></li>
</ul>
</li>
<li><p><strong>Retrieve</strong></p>
<ul>
<li><p><code>all()</code><br>è·å–è¡¨ä¸­æ‰€æœ‰è®°å½•.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Model.objects.<span class="built_in">all</span>()</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>get()</code><br>é€šè¿‡æŒ‡å®šæ¡ä»¶, è·å–<strong>ä¸€æ¡</strong>æ•°æ®, å¦‚æœæœ‰å¤šæ¡æˆ–ä¸å­˜åœ¨, åˆ™ä¼šæŠ¥é”™.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># SELECT ... WHERE id = 22;</span></span><br><span class="line">Model.objects.get(<span class="built_in">id</span>=<span class="number">22</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>filter()</code><br>åŒ¹é…æ»¡è¶³æ¡ä»¶çš„è®°å½•, ç±»ä¼¼äº<code>SQL</code>ä¸­çš„<code>WHERE</code>è¯­å¥.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># SELECT ... WHERE name = name_0;</span></span><br><span class="line">Model.objects.<span class="built_in">filter</span>(name=<span class="string">&quot;name_0&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>Django</code>ä½¿ç”¨<code>__</code>æ¥ä½œä¸ºè¿‡æ»¤æ¡ä»¶æ ‡è¯†ç¬¦, åé¢æ¥ä¸Šå…³é”®å­—æ¥è¿›è¡ŒæŸ¥è¯¢.</p>
</blockquote>
<p><strong>æ¡ä»¶æŸ¥è¯¢</strong></p>
<ul>
<li>gt --- &gt;</li>
<li>get -- &gt;&#x3D;</li>
<li>lt --- &lt;</li>
<li>lte -- &lt;</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># SELECT ... WHERE id &gt; 22;</span></span><br><span class="line">Model.objects.<span class="built_in">filter</span>(id__gt=<span class="number">22</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># SELECT ... WHERE id &lt;= 22;</span></span><br><span class="line">Model.objects.<span class="built_in">filter</span>(id__lte=<span class="number">22</span>)</span><br></pre></td></tr></table></figure>

<p><strong>æ¨¡ç³ŠæŸ¥è¯¢</strong></p>
<ul>
<li>startswith --- åŒ¹é…å¼€å¤´</li>
<li>endswith ----- åŒ¹é…ç»“å°¾</li>
<li>icontains ---- åŒ¹é…å†…å®¹</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># SELECT ... WHERE name LIKE &#x27;Lennon%&#x27;;</span></span><br><span class="line">Model.objects.<span class="built_in">filter</span>(name__startswith=<span class="string">&#x27;Lennon&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># SELECT ... WHERE name LIKE &#x27;%Lennon%&#x27;;</span></span><br><span class="line">Model.objects.<span class="built_in">filter</span>(name__startswith=<span class="string">&#x27;%Lennon%&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>exclude()</code><br>åŒ¹é…ä¸åŒ¹é…å¯¹è±¡, ä¸<code>filter()</code>é€»è¾‘ç›¸å.</p>
</li>
<li><p><code>latest()</code></p>
<p>è¿”å›æœ€åä¸€æ¡æ•°æ®.</p>
</li>
<li><p><code>order_by()</code></p>
<p>è®¾ç½®æ’åº, å¯ä»¥è¦†ç›–<code>ordering</code>é€‰é¡¹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è¿™é‡Œéœ€è¦æ³¨æ„, æ’åºå¹¶ä¸æ¶‰åŠæ•°æ®åº“æ“ä½œ, æ˜¯åœ¨æœ¬åœ°è¿›è¡Œçš„</span></span><br><span class="line">Model.objects.<span class="built_in">all</span>().order_by(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;id&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>Update</strong></p>
<ul>
<li><code>save()</code></li>
</ul>
</li>
<li><p><strong>Delete</strong></p>
<ul>
<li><p><code>delete()</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤idå¤§äº</span></span><br><span class="line">Model.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>&gt;=<span class="number">22</span>).delete()</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="é«˜çº§"><a href="#é«˜çº§" class="headerlink" title="é«˜çº§"></a>é«˜çº§</h2><h3 id="åŸå§‹SQL"><a href="#åŸå§‹SQL" class="headerlink" title="åŸå§‹SQL"></a>åŸå§‹SQL</h3><blockquote>
<p>é‡åˆ°å¤æ‚çš„åœºæ™¯, ä½¿ç”¨<code>raw()</code>æ¥æ‰§è¡Œ<code>SQL</code>è¯­å¥.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Reader._meta.db_table -- è®°å½•æ‰€åœ¨è¡¨å</span></span><br><span class="line">Mode.objects.raw(<span class="string">f&quot;select * from <span class="subst">&#123;Reader._meta.db_table&#125;</span> limit 1&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="å¤šä¸ªæ•°æ®åº“"><a href="#å¤šä¸ªæ•°æ®åº“" class="headerlink" title="å¤šä¸ªæ•°æ®åº“"></a>å¤šä¸ªæ•°æ®åº“</h3><p>ä¿®æ”¹<code>mysite/settings.py</code>æ·»åŠ æ•°æ®åº“é…ç½®.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">&#x27;default&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;polls&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;USER&#x27;</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;PASSWORD&#x27;</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;PORT&#x27;</span>: <span class="string">&#x27;3306&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;person&#x27;</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;person&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;USER&#x27;</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;PASSWORD&#x27;</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;PORT&#x27;</span>: <span class="string">&#x27;3306&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>using</code> å‚æ•°æŒ‡å®šæ•°æ®åº“.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">person.save(using=<span class="string">&#x27;person&#x27;</span>)</span><br><span class="line">Person.objects.using(<span class="string">&#x27;person&#x27;</span>).<span class="built_in">all</span>()</span><br></pre></td></tr></table></figure>

<h3 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h3><p>ä½¿ç”¨<code>transaction.atomic()</code>æ§åˆ¶æ•°æ®åº“äº‹åŠ¡</p>
<ul>
<li><p>åŸºäºHTTPè¯·æ±‚çš„äº‹åŠ¡</p>
<ul>
<li>åœ¨<code>settings</code>ä¸­è¦è®¾ç½®<code>ATOMIC_REQUESTS</code>ä¸º<code>True</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> transaction</span><br><span class="line"></span><br><span class="line"><span class="meta">@transaction.atomic</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">viewfunc</span>(<span class="params">request</span>):</span><br><span class="line">    <span class="comment"># åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸºäºè§†å›¾å…·ä½“é€»è¾‘çš„äº‹åŠ¡</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> transaction</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">viewfunc</span>(<span class="params">request</span>):</span><br><span class="line">	...</span><br><span class="line">	<span class="keyword">with</span> transaction.atomic():</span><br><span class="line">		<span class="comment"># åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œçš„ä»£ç </span></span><br><span class="line">		...</span><br></pre></td></tr></table></figure></li>
</ul>
<p>æ³¨æ„ï¼Œåªæœ‰è§†å›¾è¢«é™åˆ¶åœ¨äº‹åŠ¡ä¸­æ‰§è¡Œã€‚ä¸­é—´ä»¶åœ¨äº‹åŠ¡ä¹‹å¤–è¿è¡Œï¼ŒåŒç†ï¼Œæ¸²æŸ“æ¨¡æ¿å“åº”ä¹Ÿæ˜¯åœ¨äº‹åŠ¡ä¹‹å¤–è¿è¡Œçš„ã€‚</p>
<p><strong>å‚è€ƒæ–‡æ¡£ğŸ“•</strong></p>
<blockquote>
<p><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4yL3RvcGljcy9kYi9tb2RlbHMv">æ¨¡å‹ | Django æ–‡æ¡£ | Django (djangoproject.com)</span><br><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4yL3JlZi9tb2RlbHMvZmllbGRzLw==">æ¨¡å‹å­—æ®µå‚è€ƒ | Django æ–‡æ¡£ | Django (djangoproject.com)</span><br><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4yL3JlZi9tb2RlbHMvb3B0aW9ucy8=">æ¨¡å‹ Meta é€‰é¡¹ | Django æ–‡æ¡£ | Django (djangoproject.com)</span><br><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4yL3JlZi9tb2RlbHMvY29uc3RyYWludHMv">çº¦æŸå‚è€ƒ | Django æ–‡æ¡£ | Django (djangoproject.com)</span><br><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLmRqYW5nb3Byb2plY3QuY29tL3poLWhhbnMvMy4yL3RvcGljcy9zZXR0aW5ncy8=">Django é…ç½® | Django æ–‡æ¡£ | Django (djangoproject.com)</span></p>
</blockquote>

    </div>

    
      <div class='post_end_tag'>
        
    <span>------------ å·²è§¦åŠåº•çº¿äº† <i class="fa fa-archive fa-paw"></i> æ„Ÿè°¢æ‚¨çš„é˜…è¯» ------------</span>

      </div>
    

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š </strong>OWQ
  </li>
  <li class="post-copyright-link">
    <strong>æœ¬æ–‡é“¾æ¥ï¼š</strong>
    <a href="https://www.owq.world/94470483/" title="Django æ¨¡å‹å±‚">https://www.owq.world/94470483/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼ˆï¿£ï¸¶ï¿£ï¼‰â†—
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Python/" rel="tag"><i class="fa fa-tag"></i> Python</a>
              <a href="/tags/Django/" rel="tag"><i class="fa fa-tag"></i> Django</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/80aa4d4c/" rel="prev" title="Django è§†å›¾å±‚">
      <i class="fa fa-chevron-left"></i> Django è§†å›¾å±‚
    </a></div>
      <div class="post-nav-item">
    <a href="/34b94b2a/" rel="next" title="è¯´è¯´ python ä¸­å•ä¾‹æ¨¡å¼çš„å®ç°">
      è¯´è¯´ python ä¸­å•ä¾‹æ¨¡å¼çš„å®ç° <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  


          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B"><span class="nav-text">å­—æ®µç±»å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E7%B1%BB"><span class="nav-text">æ•°å­—ç±»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E7%B1%BB"><span class="nav-text">å­—ç¬¦ç±»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%B1%BB"><span class="nav-text">å¸¸ç”¨ç±»</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E6%AE%B5%E9%80%89%E9%A1%B9-x2F-%E7%BA%A6%E6%9D%9F"><span class="nav-text">å­—æ®µé€‰é¡¹&#x2F;çº¦æŸ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8%E9%87%8D%E6%9E%84"><span class="nav-text">æ•°æ®è¡¨é‡æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="nav-text">æ–¹æ³•ä¸€</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="nav-text">æ–¹æ³•äºŒ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Meta%E5%86%85%E5%B5%8C%E7%B1%BB"><span class="nav-text">Metaå†…åµŒç±»</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-text">ä½¿ç”¨æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E6%AE%B5%E9%80%89%E9%A1%B9"><span class="nav-text">å­—æ®µé€‰é¡¹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9E%8B%E7%BB%A7%E6%89%BF"><span class="nav-text">æ¨¡å‹ç»§æ‰¿</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E7%BB%A7%E6%89%BF"><span class="nav-text">ç›´æ¥ç»§æ‰¿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF"><span class="nav-text">å¤šé‡ç»§æ‰¿</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="nav-text">å®ä¾‹æ–¹æ³•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#django-setup"><span class="nav-text">django.setup()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#QuerySet-API"><span class="nav-text">QuerySet API</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7"><span class="nav-text">é«˜çº§</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E5%A7%8BSQL"><span class="nav-text">åŸå§‹SQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-text">å¤šä¸ªæ•°æ®åº“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1"><span class="nav-text">äº‹åŠ¡</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="OWQ"
      src="/images/avatar.webp">
  <p class="site-author-name" itemprop="name">OWQ</p>
  <div class="site-description" itemprop="description">çˆ±ç¼–ç¨‹, æ‡‚è®¾è®¡, å–œæŠ˜è…¾</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">40</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">45</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOnF3cWlvd29Ab3V0bG9vay5jb20=" title="E-Mail â†’ mailto:qwqiowo@outlook.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</span>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS â†’ &#x2F;atom.xml"><i class="fas fa-rss fa-fw"></i>RSS</a>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL293cS0xNzc3" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;owq-1777"><i class="fab fa-github-alt" fa-fw"></i>GitHub</span>
      </span>
  </div>


<!-- hitokoto -->
<strong>
<div id="hitokoto_wrap">
    <div id="hitokoto_text">&nbsp;&nbsp;&nbsp;&nbsp;æŠ¬å¤´æœ›å¤©ï¼Œä½å¤´èµ°è·¯ã€‚</div>
    <div id="hitokoto_from">â€”â€”æ— å</div>
</div>
</strong>

<script>
    let hitokoto_wrap = document.getElementById("hitokoto_wrap");
    let hitokoto_text = document.getElementById('hitokoto_text')
    let hitokoto_from = document.getElementById('hitokoto_from');
    async function loadHitokoto(){
        // Fetch API
        // è°ƒç”¨ä¸€è¨€æ¥å£ æ ¹æ®éœ€æ±‚é…ç½®
        // fetch('https://v1.hitokoto.cn?min_length=12')
        fetch('https://international.v1.hitokoto.cn?min_length=12')
        .then(response => response.json())
        .then(data => {
            hitokoto_text.innerText = '\xa0\xa0\xa0\xa0\xa0\xa0\xa0' + data.hitokoto;
            hitokoto_from.innerText = "â€”â€”" + data.from + '\xa0';
        })
        .catch(console.error)
    }
    loadHitokoto();

    hitokoto_wrap.addEventListener("click", async function(e){
        loadHitokoto();
        // å»é™¤å­—ç¬¦ä¸²å‰åç©ºæ ¼
        let content = (hitokoto_text.innerText + hitokoto_from.innerText).trim()
        // Clipboard API
        // å¤åˆ¶ä¸€è¨€å†…å®¹åˆ°å‰ªè´´æ¿
        navigator.clipboard.writeText(content)
        .then(console.log(content))
        .catch(console.error)
    });
</script>
<script>
    // é¼ æ ‡ç‚¹å‡»çˆ±å¿ƒ
    !function(e, t, a) {
        function r() {
            for (var e = 0; e < s.length; e++) s[e].alpha <= 0 ? (t.body.removeChild(s[e].el), s.splice(e, 1)) : (s[e].y--, s[e].scale += .004, s[e].alpha -= .013, s[e].el.style.cssText = "left:" + s[e].x + "px;top:" + s[e].y + "px;opacity:" + s[e].alpha + ";transform:scale(" + s[e].scale + "," + s[e].scale + ") rotate(45deg);background:" + s[e].color + ";z-index:99999");
            requestAnimationFrame(r)
        }
        function n() {
            var t = "function" == typeof e.onclick && e.onclick;
            hitokoto_wrap.addEventListener("click", function(e) {
                t && t(),
                    o(e)
            });
        }
        function c() {
            return "rgb(" + ~~ (255 * Math.random()) + "," + ~~ (255 * Math.random()) + "," + ~~ (255 * Math.random()) + ")"
        }
        function o(e) {
            var a = t.createElement("div");
            a.className = "heart",
                s.push({
                    el: a,
                    x: e.clientX - 5,
                    y: e.clientY - 5,
                    scale: 1,
                    alpha: 1,
                    color: c()
                }),
                t.body.appendChild(a)
        }
        function i(e) {
            var a = t.createElement("style");
            a.type = "text/css";
            try {
                a.appendChild(t.createTextNode(e))
            } catch(t) {
                a.styleSheet.cssText = e
            }
            t.getElementsByTagName("head")[0].appendChild(a)
        }

        var s = [];
        e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame ||
            function(e) {
                setTimeout(e, 1e3 / 60)
            },
            i(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),
            n(),
            r()
    } (window, document);
</script>
      </div>

      <hr class="hr-solid">
    </div>


  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><span class="exturl" data-url="aHR0cHM6Ly9iZWlhbi5taWl0Lmdvdi5jbg==">ç²¤ICPå¤‡2021144316å· </span>
      <img src="/images/gongan.png" style="display: inline-block;"><span class="exturl" data-url="aHR0cDovL3d3dy5iZWlhbi5nb3YuY24vcG9ydGFsL3JlZ2lzdGVyU3lzdGVtSW5mbz9yZWNvcmRjb2RlPTQ0MDMwNTAyMDA4Mzk2">ç²¤å…¬ç½‘å®‰å¤‡ 44030502008396å· </span>
  </div>

<div class="copyright">
  <span id="RunTime"></span>
  <!-- ç½‘ç«™è¿è¡Œæ—¶é—´çš„è®¾ç½® -->
  <script>
    var BootDate = new Date("2021/08/01 00:00:00");
    function ShowRunTime(id) {
      var NowDate = new Date();
      var RunDateM = parseInt(NowDate - BootDate);
      var RunDays = Math.floor(RunDateM/(24*3600*1000));
      var RunHours = Math.floor(RunDateM%(24*3600*1000)/(3600*1000));
      var RunMinutes = Math.floor(RunDateM%(24*3600*1000)%(3600*1000)/(60*1000));
      var RunSeconds = Math.round(RunDateM%(24*3600*1000)%(3600*1000)%(60*1000)/1000);
      var RunTime = RunDays + " d " + RunHours + " h " + RunMinutes + " m " + RunSeconds + " s ";
      document.getElementById(id).innerHTML = "This blog has running: " + RunTime;
    }
    setInterval("ShowRunTime('RunTime')", 1000);
  </script>
  
  &copy; 2021 â€“ 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">OWQ</span>

<div class="busuanzi-count">

  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">123k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">1:52</span>
</div>

</div>
  <script src="/js/ribbonDynamic.js"></script>
        






      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.bg-container',
    '#signature .container',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>











<script data-pjax>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


    <div id="pjax">
  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '472553d47287225fff92',
      clientSecret: 'a2e30c338a55dfc350329833114d277bcfa79a6e',
      repo        : 'owq-1777.github.io',
      owner       : 'owq-1777',
      admin       : ['owq-1777'],
      id          : '5e0639845c1a2c0409b2ca080f0c8097',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

    </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"life","width":150,"height":300},"mobile":{"show":false},"react":{"opacity":0.9},"log":false});</script></body>
</html>

<script type="text/javascript" src="/js/src/funny_title.js"></script>